[{"content":"ğŸŒŸ è½»é‡çº§iniæ–‡ä»¶è§£æåº“ ğŸŒ Languages/è¯­è¨€: English | ç®€ä½“ä¸­æ–‡\nğŸ“Œ é¡¹ç›®ç®€ä»‹ è¿™æ˜¯ä¸€ä¸ªè½»é‡çº§ã€è·¨å¹³å°ã€é«˜æ•ˆä¸” header-only çš„ INI é…ç½®è§£æåº“ï¼Œä¸“ä¸º C++ é¡¹ç›®æ‰“é€ ã€‚å®ƒæä¾›ç®€æ´ã€ç›´è§‚ä¸”ä¼˜é›…çš„ APIï¼Œæ”¯æŒä»æ–‡ä»¶ã€std::istream æˆ– std::string è§£æã€ä¿®æ”¹å¹¶å†™å…¥ INI é…ç½®ä¿¡æ¯ï¼Œå¹¶å…·å¤‡è¡Œçº§æ³¨é‡Šä¿ç•™åŠŸèƒ½ï¼Œç¡®ä¿åŸå§‹æ³¨é‡Šä¸ä¸¢å¤±ï¼Œä½¿é…ç½®ç®¡ç†æ›´åŠ è½»æ¾é«˜æ•ˆã€‚\né¡¹ç›®ä»“åº“åœ°å€: https://github.com/abin-z/IniFile\nğŸ¯è®¾è®¡ç†å¿µ INI è§£æåº“æ•°ä¸èƒœæ•°ï¼Œæ¯ä¸ªåº“ç”šè‡³éƒ½æœ‰è‡ªå·±å­˜åœ¨çš„ç†ç”±ã€‚æˆ‘ä»¬çš„è®¾è®¡ç†å¿µæ˜¯:\næè‡´ç®€æ´ï¼Œå¼€ç®±å³ç”¨ï¼šHeader-onlyï¼Œé›¶ä¾èµ–ï¼Œä»…éœ€ C++11ï¼Œè½»æ¾é›†æˆä»»æ„é¡¹ç›®ã€‚ ä¸“æ³¨ä½“éªŒï¼Œè´´è¿‘å®ç”¨ï¼šæ”¯æŒæ³¨é‡Šä¿ç•™ã€è‡ªåŠ¨ç±»å‹è½¬æ¢ã€è‡ªå®šä¹‰è§£æï¼Œä¸“æ³¨æå‡å¼€å‘è€…æ—¥å¸¸ä½¿ç”¨ä½“éªŒã€‚ è·¨å¹³å°ã€å¯ç»´æŠ¤ã€å¯ä¿¡èµ–ï¼šå…¼å®¹ä¸»æµå¹³å°ï¼Œç»“åˆå•å…ƒæµ‹è¯•ä¸å†…å­˜æ£€æŸ¥ï¼Œä¿éšœé•¿æœŸç¨³å®šè¿è¡Œã€‚ å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªç®€å•ã€å®ç”¨ã€ä¼˜é›…ã€ç¨³å®šçš„ç°ä»£ C++ è§£å†³æ–¹æ¡ˆï¼Œé‚£ä¹ˆè¯¥åº“å°±æ˜¯æ‚¨çš„ä¸äºŒä¹‹é€‰ã€‚å¦‚æœä½ çŸ¥é“å¦‚ä½•ä½¿ç”¨std::mapï¼Œä½ å°±å·²ç»å‡†å¤‡å¥½äº†ã€‚\nğŸš€ ç‰¹æ€§ è½»é‡çº§ \u0026amp; æ— ä¾èµ–ï¼šä»…ä¾èµ– C++11 æ ‡å‡†åº“ï¼Œæ— éœ€é¢å¤–ä¾èµ–é¡¹ æ˜“äºé›†æˆï¼šHeader-only è®¾è®¡ï¼Œå¼€ç®±å³ç”¨ï¼Œè¶³å¤Ÿç®€å• ç›´è§‚ APIï¼šæä¾›æ¸…æ™°å‹å¥½çš„æ¥å£ï¼Œç®€åŒ– INI é…ç½®æ“ä½œ è·¨å¹³å°æ”¯æŒï¼šæ”¯æŒLinux, Windows, MacOSç­‰ç³»ç»Ÿ, ä»¥åŠä¸»æµç¼–è¯‘å™¨ å¤šç§æ•°æ®æºï¼šæ”¯æŒä»æ–‡ä»¶ï¼Œstd::string æˆ– std::istream è§£æ INI æ•°æ®ï¼Œå¹¶å†™å…¥å…¶ä¸­ è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼šæ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼Œèƒ½è‡ªåŠ¨å¤„ç†ç±»å‹è½¬æ¢(ä¼˜é›…çš„apiæ¥å£) æ”¯æŒæ³¨é‡ŠåŠŸèƒ½: æ”¯æŒiniè¡Œæ³¨é‡Š(;æˆ–è€…#), å¯ä»¥ä¸º[section]å’Œkey=valueæ·»åŠ è¡Œæ³¨é‡Š(ä¸æ”¯æŒè¡Œå°¾æ³¨é‡Š) è‡ªå®šä¹‰ç±»å‹è½¬æ¢: å¯ä»¥è‡ªå®šä¹‰ç±»å‹è½¬æ¢, inifileå°†æ ¹æ®ä½ å†™çš„å®šä¹‰è¿›è¡Œè‡ªåŠ¨è½¬æ¢(å‡å°‘é‡å¤) æ”¯æŒå¤§å°å†™ä¸æ•æ„ŸåŠŸèƒ½: æä¾›å¯é€‰çš„å¤§å°å†™ä¸æ•æ„ŸåŠŸèƒ½(é’ˆå¯¹sectionå’Œkey) å…¨é¢æµ‹è¯•ä¸å†…å­˜å®‰å…¨ï¼šå·²é€šè¿‡ Catch2 å•å…ƒæµ‹è¯•æ¡†æ¶éªŒè¯åŠŸèƒ½æ­£ç¡®æ€§ï¼Œå¹¶ä½¿ç”¨ Valgrind ç¡®ä¿å†…å­˜ç®¡ç†æ— æ³„æ¼ é€‚ç”¨äºå¯¹ INI é…ç½®æœ‰ è§£æã€ç¼–è¾‘ã€å­˜å‚¨ éœ€æ±‚çš„ C++ é¡¹ç›®ã€‚ä»¥ä¸‹æ˜¯åŸºç¡€çš„iniæ ¼å¼:\n1 2 3 ; comment [section] key = value æ³¨: æœ¬åº“å†…éƒ¨ä½¿ç”¨std::stringç±»å‹å°è£…filedå€¼, å¯ä»¥å¾ˆå¥½çš„å’Œ UTF-8 ç¼–ç å…¼å®¹, ä½†å…¶ä»–ç¼–ç å…·ä½“æƒ…å†µå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒ.\nğŸ“¦ ä½¿ç”¨æ–¹å¼ æ–¹å¼1: Header-only\nç›´æ¥å°†inifile.hå¤´æ–‡ä»¶å¤åˆ¶åˆ°æ‚¨çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸­\nç„¶ååœ¨æºä»£ç æ–‡ä»¶ä¸­ç›´æ¥#include \u0026quot;inifile.h\u0026quot;å³å¯ä½¿ç”¨\næ–¹å¼2: ä½¿ç”¨CMake\nåœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªinifileæ–‡ä»¶å¤¹(åç§°éšæ„)\nå°†æœ¬é¡¹ç›®çš„includeæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°åˆšæ‰æ­¥éª¤1åˆ›å»ºçš„inifileæ–‡ä»¶å¤¹å†…\nç„¶ååœ¨æ‚¨çš„ä¸»CMakeLists.txtä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹\n1 add_subdirectory(inifile) # inifileä¸ºæ­¥éª¤1åˆ›å»ºçš„æ–‡ä»¶å¤¹åç§° åœ¨æºä»£ç ä¸­æ·»åŠ #include \u0026lt;inifile/inifile.h\u0026gt;å³å¯ä½¿ç”¨\nğŸ› ï¸ åŸºç¡€ä½¿ç”¨æ¡ˆä¾‹ ä¸‹é¢æä¾›ç®€å•çš„ä½¿ç”¨æ¡ˆä¾‹, æ›´å¤šè¯¦ç»†çš„æ¡ˆä¾‹è¯·æŸ¥çœ‹./examples/æ–‡ä»¶å¤¹ä¸‹çš„æ¡ˆä¾‹\nåˆ›å»ºå¹¶ä¿å­˜iniæ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 #include \u0026#34;inifile.h\u0026#34; int main() { constexpr char path[] = \u0026#34;path/to/ini/file\u0026#34;; ini::inifile inif; inif[\u0026#34;section\u0026#34;][\u0026#34;key0\u0026#34;] = true; inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;] = 3.14159; inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;] = \u0026#34;value\u0026#34;; // Save the ini file, returns whether the save was successful or not. bool isok = inif.save(path); } è¯»å–iniæ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #include \u0026#34;inifile.h\u0026#34; int main() { constexpr char path[] = \u0026#34;path/to/ini/file\u0026#34;; ini::inifile inif; // Load the ini file, return whether the loading was successful or not. bool isok = inif.load(path); bool b = inif[\u0026#34;section\u0026#34;][\u0026#34;key0\u0026#34;]; double d = inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;]; std::string s = inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;]; // Explicit type conversion via as function bool bb = inif[\u0026#34;section\u0026#34;][\u0026#34;key0\u0026#34;].as\u0026lt;bool\u0026gt;(); double dd = inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;].as\u0026lt;double\u0026gt;(); std::string ss = inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;].as\u0026lt;std::string\u0026gt;(); bool bbb; double ddd; std::string sss; inif[\u0026#34;section\u0026#34;][\u0026#34;key0\u0026#34;].as_to(bbb); // Explicit type conversion inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;].as_to(ddd); // Explicit type conversion inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;].as_to(sss); // Explicit type conversion } streamæµä¸­è¯»/å†™iniä¿¡æ¯ æ”¯æŒstreamæµ, å…è®¸ä»std::istreamæµä¸­è¯»å–iniæ•°æ®, ä¹Ÿèƒ½å‘std::ostreamä¸­å†™å…¥iniæ•°æ®.\n1 2 3 4 5 6 7 #include \u0026#34;inifile.h\u0026#34; int main() { // create istream object \u0026#34;is\u0026#34; ... ini::inifile inif; inif.read(is); } 1 2 3 4 5 6 7 #include \u0026#34;inifile.h\u0026#34; int main() { // create ostream object \u0026#34;os\u0026#34; ... ini::inifile inif; inif.write(os); } std::stringä¸­è¯»å†™iniä¿¡æ¯ æ”¯æŒä»std::stringä¸­è¯»å–iniæ•°æ®, ä¹Ÿèƒ½å°†inifile è½¬ä¸ºstd::string.\n1 2 3 4 5 6 7 #include \u0026#34;inifile.h\u0026#34; int main() { // create string object \u0026#34;s\u0026#34; ... ini::inifile inif; inif.from_string(s); } 1 2 3 4 5 6 7 #include \u0026#34;inifile.h\u0026#34; int main() { ini::inifile inif; inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;] = \u0026#34;value\u0026#34;; std::string s = inif.to_string(); } è®¾ç½®å€¼ è¯´æ˜: è‹¥section-keyä¸å­˜åœ¨, operator[]æ“ä½œç¬¦å’Œsetå‡½æ•°ä¼šç›´æ¥æ’å…¥section-key, è‹¥section-keyå­˜åœ¨åˆ™æ›´æ–°fieldå€¼.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #include \u0026#34;inifile.h\u0026#34; int main() { ini::inifile inif; /// Setting a single value inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;] = \u0026#34;value\u0026#34;; inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;].set(\u0026#34;hello\u0026#34;); inif.set(\u0026#34;section\u0026#34;, \u0026#34;key3\u0026#34;, true); inif[\u0026#34;section\u0026#34;].set(\u0026#34;key4\u0026#34;, 3.14159); /// Setting multiple values for the same section, supporting different types inif[\u0026#34;section2\u0026#34;].set({{\u0026#34;bool\u0026#34;, false}, {\u0026#34;int\u0026#34;, 123}, {\u0026#34;double\u0026#34;, 999.888}, {\u0026#34;string\u0026#34;, \u0026#34;ABC\u0026#34;}, {\u0026#34;char\u0026#34;, \u0026#39;m\u0026#39;}}); } è·å–å€¼ è¯´æ˜: è·å–å€¼çš„æ—¶å€™éœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹:\nç»™å®šçš„section-keyæ˜¯å¦å­˜åœ¨, å½“section-keyä¸å­˜åœ¨æ—¶è°ƒç”¨ä¸åŒçš„å‡½æ•°ä¼šæœ‰ä¸åŒçš„å¤„ç†ç­–ç•¥; ä½¿ç”¨operator[]è¿”å›å¼•ç”¨, è‹¥ç»™å®šsectionæˆ–keyä¸å­˜åœ¨åˆ™ä¼šæ’å…¥ç©ºçš„fieldå€¼, å¹¶è®¾ç½®fieldä¸ºç©ºå­—ç¬¦ä¸². (è¡Œä¸ºç±»ä¼¼std::mapçš„[]) ä½¿ç”¨get()å‡½æ•°è¿”å›å€¼, è‹¥ç»™å®šçš„sectionæˆ–keyä¸å­˜åœ¨ä¸ä¼šæ’å…¥field, è€Œæ˜¯è¿”å›ä¸€ä¸ªé»˜è®¤çš„ç©ºfieldå€¼(å¯ä»¥æŒ‡å®šé»˜è®¤å€¼). ä½¿ç”¨at()å‡½æ•°è¿”å›å¼•ç”¨, è‹¥ç»™å®šçš„sectionæˆ–keyä¸å­˜åœ¨åˆ™æŠ›å‡ºå¼‚å¸¸ : std::out_of_range æ˜¯å¦å¯ä»¥æ‰§è¡Œç±»å‹è‡ªåŠ¨è½¬æ¢, ä»¥ä¸Šä¸‰ä¸ªå‡½æ•°è¿”å›çš„æ˜¯ ini::field åŒ…è£…å¯¹è±¡, è‹¥å°†è¯¥å¯¹è±¡è½¬ä¸ºå…¶ä»–ç±»å‹éœ€æ³¨æ„: ç±»å‹è½¬æ¢æ˜¯å¦å…è®¸, è‹¥ç±»å‹è½¬æ¢ä¸å…è®¸åˆ™æŠ›å‡ºå¼‚å¸¸: std::invalid_argument, (ä¾‹å¦‚å°†\u0026quot;abc\u0026quot;è½¬ä¸ºint) æ•°å€¼ç±»å‹è½¬æ¢èŒƒå›´æ˜¯å¦æº¢å‡º, è‹¥è¶…å‡ºç›®æ ‡ç±»å‹çš„èŒƒå›´åˆ™æŠ›å‡ºå¼‚å¸¸: std::out_of_range, (ä¾‹å¦‚å°†INT_MAXè½¬ä¸ºuint8_t) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 #include \u0026#34;inifile.h\u0026#34; int main() { ini::inifile inif; try { /// automatic type conversion std::string s0 = inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;]; bool isok = inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;]; int ii0 = inif.get(\u0026#34;section\u0026#34;, \u0026#34;key3\u0026#34;); int ii2 = inif.get(\u0026#34;section\u0026#34;, \u0026#34;key3\u0026#34;, -1); // Specify default values std::string ss2 = inif[\u0026#34;section\u0026#34;].get(\u0026#34;key4\u0026#34;); std::string ss3 = inif[\u0026#34;section\u0026#34;].get(\u0026#34;key5\u0026#34;, \u0026#34;default\u0026#34;); // Specify default values double dd0 = inif.at(\u0026#34;section\u0026#34;).at(\u0026#34;key\u0026#34;); std::cout \u0026lt;\u0026lt; \u0026#34;section-key:\u0026#34; \u0026lt;\u0026lt; inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;].as\u0026lt;double\u0026gt;() \u0026lt;\u0026lt; std::endl; } catch (const std::exception \u0026amp;e) { std::cout \u0026lt;\u0026lt; e.what() \u0026lt;\u0026lt; std::endl; } } æ³¨é‡ŠåŠŸèƒ½ æœ¬åº“æ”¯æŒè®¾ç½®[section]å’Œkey=valueçš„è¡Œçº§æ³¨é‡Š(ä¸æ”¯æŒè¡Œå°¾æ³¨é‡Š), æ³¨é‡Šç¬¦å·å¯é€‰;å’Œ#ä¸¤ç§; ä¹Ÿèƒ½ä»æ•°æ®æºä¸­ä¿ç•™æ³¨é‡Šå†…å®¹. æŸ¥çœ‹æ¡ˆä¾‹\nä»¥ä¸‹æ–¹æ³•æ˜¯åŠŸèƒ½å®Œå…¨ç­‰ä»·çš„ï¼Œé€‰æ‹©å“ªä¸€ç§ä¸»è¦å–å†³äºä½ çš„é£æ ¼åå¥½ï¼š\nç®€å†™å½¢å¼ å®Œæ•´å½¢å¼ è¯´æ˜ f.set_comment(...) f.comment().set(...) è®¾ç½®æ³¨é‡Š, è¦†ç›–åŸæœ‰çš„æ³¨é‡Šï¼ˆæ”¯æŒå•è¡Œæˆ–å¤šè¡Œï¼‰ f.add_comment(...) f.comment().add(...) è¿½åŠ æ³¨é‡Šï¼ˆæ”¯æŒå•è¡Œæˆ–å¤šè¡Œï¼‰ f.clear_comment() f.comment().clear() æ¸…é™¤æ‰€æœ‰æ³¨é‡Š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 #include \u0026#34;inifile.h\u0026#34; int main() { ini::inifile inif; // Set value inif[\u0026#34;section\u0026#34;][\u0026#34;key0\u0026#34;] = true; inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;] = 3.141592; inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;] = \u0026#34;value\u0026#34;; // Set comments if necessary inif[\u0026#34;section\u0026#34;].set_comment(\u0026#34;This is a section comment.\u0026#34;); // set section comment, Overwrite Mode inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;].set_comment(\u0026#34;This is a key-value pairs comment\u0026#34;, \u0026#39;#\u0026#39;); // set key=value pairs comment // Clear section comment inif[\u0026#34;section\u0026#34;].clear_comment(); // Add section comment inif[\u0026#34;section\u0026#34;].add_comment(\u0026#34;section comment01\u0026#34;); // add section comment, Append Mode inif[\u0026#34;section\u0026#34;].add_comment(\u0026#34;section comment02\\nsection comment03\u0026#34;); // Multi-line comments are allowed, lines separated by `\\n` // Get the comment object reference ini::comment \u0026amp;cmt = inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;].comment(); // get reference to comment // Read comment content const std::vector\u0026lt;std::string\u0026gt; \u0026amp;view = cmt.view(); // view (non-owning) bool isok = inif.save(\u0026#34;config.ini\u0026#34;); } config.iniçš„å†…å®¹åº”è¯¥ä¸º:\n1 2 3 4 5 6 7 8 ; section comment01 ; section comment02 ; section comment03 [section] key0=true # This is a key-value pairs comment key1=3.141592 key2=value å¤§å°å†™ä¸æ•æ„ŸåŠŸèƒ½ æœ¬åº“æ”¯æŒsectionå’Œkeyçš„å¤§å°å†™ä¸æ•æ„ŸåŠŸèƒ½, ä½¿ç”¨ini::case_insensitive_inifileå³å¯, æŸ¥çœ‹æ¡ˆä¾‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #include \u0026#34;inifile.h\u0026#34; int main() { const char *str = R\u0026#34;( [Section] KEY=Value Flag=123 hello=world )\u0026#34;; ini::case_insensitive_inifile inif; // Create a case-insensitive INI file object inif.from_string(str); // Read INI data from string // Test case-insensitive section and key access std::cout \u0026lt;\u0026lt; \u0026#34;inif.contains(\\\u0026#34;Section\\\u0026#34;) = \u0026#34; \u0026lt;\u0026lt; inif.contains(\u0026#34;Section\u0026#34;) \u0026lt;\u0026lt; std::endl; // true std::cout \u0026lt;\u0026lt; \u0026#34;inif.contains(\\\u0026#34;SECTION\\\u0026#34;) = \u0026#34; \u0026lt;\u0026lt; inif.contains(\u0026#34;SECTION\u0026#34;) \u0026lt;\u0026lt; std::endl; // true std::cout \u0026lt;\u0026lt; \u0026#34;inif.contains(\\\u0026#34;SeCtIoN\\\u0026#34;) = \u0026#34; \u0026lt;\u0026lt; inif.contains(\u0026#34;SeCtIoN\u0026#34;) \u0026lt;\u0026lt; std::endl; // true std::cout \u0026lt;\u0026lt; \u0026#34;inif.at(\\\u0026#34;section\\\u0026#34;).contains(\\\u0026#34;key\\\u0026#34;) = \u0026#34; \u0026lt;\u0026lt; inif.at(\u0026#34;section\u0026#34;).contains(\u0026#34;key\u0026#34;) \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;inif.at(\\\u0026#34;section\\\u0026#34;).contains(\\\u0026#34;Key\\\u0026#34;) = \u0026#34; \u0026lt;\u0026lt; inif.at(\u0026#34;section\u0026#34;).contains(\u0026#34;Key\u0026#34;) \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;inif.at(\\\u0026#34;SECTION\\\u0026#34;).contains(\\\u0026#34;KEY\\\u0026#34;) = \u0026#34; \u0026lt;\u0026lt; inif.at(\u0026#34;SECTION\u0026#34;).contains(\u0026#34;KEY\u0026#34;) \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;inif.at(\\\u0026#34;SECTION\\\u0026#34;).contains(\\\u0026#34;flag\\\u0026#34;) = \u0026#34; \u0026lt;\u0026lt; inif.at(\u0026#34;SECTION\u0026#34;).contains(\u0026#34;flag\u0026#34;) \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; \u0026#34;inif.at(\\\u0026#34;SECTION\\\u0026#34;).contains(\\\u0026#34;FLAG\\\u0026#34;) = \u0026#34; \u0026lt;\u0026lt; inif.at(\u0026#34;SECTION\u0026#34;).contains(\u0026#34;FLAG\u0026#34;) \u0026lt;\u0026lt; std::endl; return 0; } å…³äºè‡ªåŠ¨ç±»å‹è½¬æ¢ è‡ªåŠ¨ç±»å‹è½¬æ¢ä½œç”¨åœ¨ini::fieldå¯¹è±¡ä¸Š, å…è®¸ini::field \u0026lt;=\u0026gt; other typeäº’ç›¸è½¬æ¢; ä½†æ˜¯éœ€è¦æ³¨æ„: è‹¥è½¬æ¢å¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 #include \u0026#34;inifile.h\u0026#34; int main() { /// other type -\u0026gt; ini::field ini::field f(true); ini::field f1(10); ini::field f2 = 3.14; ini::field f3 = \u0026#39;c\u0026#39;; ini::field f4 = \u0026#34;abc\u0026#34;; /// ini::field -\u0026gt; other type bool b = f; int i = f1; double d = f2; char c = f3; std::string s = f4; ini::inifile inif; inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;] = true; // bool -\u0026gt; ini::field /// Get direct type(ini::field) auto val = inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;]; // val type is ini::field ini::field val2 = inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;]; /// explicit type conversion bool bb = inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;].as\u0026lt;bool\u0026gt;(); /// automatic type conversion bool bb2 = inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;]; /// Type conversion failure throws an exception double n = inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;]; // error: Converting true to double is not allowed. } æ”¯æŒè‡ªåŠ¨è½¬æ¢çš„ç±»å‹åŒ…æ‹¬:\nbool char, signed char, unsigned char short, unsigned short int, unsigned int long, unsigned long long long, unsigned long long float double long double std::string const char * std::string_view (C++17) è‡ªå®šä¹‰ç±»å‹è½¬æ¢ Q: ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹å¯ä»¥åƒä¸Šé¢æåˆ°çš„åŸºæœ¬æ•°æ®ç±»å‹ä¸€æ ·è‡ªåŠ¨è½¬æ¢å—?\nA: ä¹Ÿæ˜¯å¯ä»¥çš„, åªéœ€è¦æŒ‰ä»¥ä¸‹è§„åˆ™è‡ªå®šä¹‰ç±»å‹è½¬æ¢å°±èƒ½è®©inifileè‡ªåŠ¨å¤„ç†ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹.\nä½ å¯ä»¥ä¸ºç”¨æˆ·è‡ªå®šä¹‰ç±»å‹æä¾›è‡ªåŠ¨ç±»å‹è½¬æ¢çš„ç‰¹åŒ–æ¨¡æ¿ç±», å®ƒèƒ½è®©inifileåº“æ ¹æ®ä½ å®šä¹‰çš„è§„åˆ™è¿›è¡Œè‡ªåŠ¨è½¬æ¢, ä½¿å…¶å¯ä»¥å°†è‡ªå®šä¹‰ç±»å­˜å‚¨åœ¨iniå­—æ®µä¸­, è¿™æ ·å¯ä»¥å¤§å¹…å‡å°‘ä»£ç çš„é‡å¤. ä»¥ä¸‹æ˜¯è‡ªå®šä¹‰è§„åˆ™å’Œæ¨¡æ¿:\nä½¿ç”¨INIFILE_TYPE_CONVERTERå®ç‰¹åŒ–è‡ªå®šä¹‰çš„ç±»å‹(å¿…é¡»æä¾›é»˜è®¤æ„é€ å‡½æ•°);\nå®šä¹‰static void encodeå‡½æ•°, ä½œç”¨æ˜¯å®šä¹‰å¦‚ä½•å°†è‡ªå®šä¹‰ç±»å‹è½¬ä¸ºiniå­˜å‚¨å­—ç¬¦ä¸²(å­˜å‚¨å­—ç¬¦ä¸²ä¸èƒ½åŒ…å«æ¢è¡Œç¬¦);\nå®šä¹‰static void decodeå‡½æ•°, ä½œç”¨æ˜¯å®šä¹‰å¦‚ä½•å°†iniå­˜å‚¨å­—ç¬¦ä¸²è½¬ä¸ºè‡ªå®šä¹‰ç±»å‹;\n1 2 3 4 5 6 7 8 9 10 11 12 13 /// Specialized type conversion template template \u0026lt;\u0026gt; struct INIFILE_TYPE_CONVERTER\u0026lt;CustomClass\u0026gt; // User-defined type `CustomClass` { static void encode(const CustomClass \u0026amp;obj, std::string \u0026amp;value) // pass by reference { // Convert the CustomClass object `obj` to ini storage string `value` } static void decode(const std::string \u0026amp;value, CustomClass \u0026amp;obj) // must be static { // Convert the ini storage string `value` to a CustomClass object `obj` } } ä¸ºäº†æ–¹ä¾¿ç¼–å†™ encode å’Œ decode å‡½æ•°, æœ¬åº“æä¾›äº† ini::join, ini::split() å’Œ ini::trim() å·¥å…·å‡½æ•°\næ¡ˆä¾‹1: ä¸‹é¢æ˜¯å°†ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰ç±»Personå¯¹è±¡è½¬ä¸ºiniå­—æ®µæ¡ˆä¾‹. æŸ¥çœ‹æ¡ˆä¾‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 /// @brief User-defined classes struct Person { Person() = default; // Must have a default constructor Person(int id, int age, const std::string \u0026amp;name) : id(id), age(age), name(name) {} int id = 0; int age = 0; std::string name; }; /// @brief Custom type conversion (Use INIFILE_TYPE_CONVERTER to specialize Person) template \u0026lt;\u0026gt; struct INIFILE_TYPE_CONVERTER\u0026lt;Person\u0026gt; { // \u0026#34;Encode\u0026#34; the Person object into a value string static void encode(const Person \u0026amp;obj, std::string \u0026amp;value) { const char delimiter = \u0026#39;,\u0026#39;; // Format: id,age,name; Note: Please do not include line breaks in the value string value = std::to_string(obj.id) + delimiter + std::to_string(obj.age) + delimiter + obj.name; } // \u0026#34;Decode\u0026#34; the value string into a Person object static void decode(const std::string \u0026amp;value, Person \u0026amp;obj) { const char delimiter = \u0026#39;,\u0026#39;; std::vector\u0026lt;std::string\u0026gt; info = ini::split(value, delimiter); // Exception handling can be added obj.id = std::stoi(info[0]); obj.age = std::stoi(info[1]); obj.name = info[2]; } }; int main() { ini::inifile inif; Person p = Person{123456, 18, \u0026#34;abin\u0026#34;}; inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;] = p; // set person object Person pp = inif[\u0026#34;section\u0026#34;][\u0026#34;key\u0026#34;]; // get person object } æ¡ˆä¾‹2: å¯ä»¥åµŒå¥—è°ƒç”¨INIFILE_TYPE_CONVERTER\u0026lt;T\u0026gt;, å®ç°STLå®¹å™¨è‡ªåŠ¨è½¬æ¢, èƒ½å®ç°ä»¥ä¸‹ç›´æ¥å¯¹å®¹å™¨èµ‹å€¼æˆ–å–å€¼çš„æ•ˆæœ, å…·ä½“å®ç°è¯·ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 // Define vectors of different types std::vector\u0026lt;int\u0026gt; vec1 = {1, 2, 3, 4, 5}; std::vector\u0026lt;double\u0026gt; vec2 = {1.1111, 2.2222, 3.3333, 4.4444, 5.5555}; std::vector\u0026lt;std::string\u0026gt; vec3 = {\u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34;, \u0026#34;ccc\u0026#34;, \u0026#34;ddd\u0026#34;, \u0026#34;eee\u0026#34;}; // Set different types of vectors in the INI file object inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;] = vec1; inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;] = vec2; inif[\u0026#34;section\u0026#34;][\u0026#34;key3\u0026#34;] = vec3; // Get different vectors from INI file object std::vector\u0026lt;int\u0026gt; v1 = inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;]; std::vector\u0026lt;double\u0026gt; v2 = inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;]; std::vector\u0026lt;std::string\u0026gt; v3 = inif[\u0026#34;section\u0026#34;][\u0026#34;key3\u0026#34;]; å…¶ä»–å·¥å…·å‡½æ•° æä¾›å…¶ä»–å¤šç§å·¥å…·å‡½æ•°, åˆ¤æ–­æ˜¯å¦ä¸ºç©ºempty(), æŸ¥è¯¢æ€»ä¸ªæ•°size(), æŸ¥è¯¢keyçš„ä¸ªæ•°count(), æ˜¯å¦åŒ…å«å…ƒç´ contains(), æŸ¥æ‰¾å…ƒç´ find(), ç§»é™¤å…ƒç´ remove() å’Œ erase(), æ¸…é™¤æ‰€æœ‰å…ƒç´ clear(), è¿­ä»£å™¨è®¿é—®:begin(), end(), cbegin(), cend(), æ”¯æŒèŒƒå›´forå¾ªç¯. å…·ä½“è¯¦æƒ…è¯·æŸ¥çœ‹å¸¸ç”¨ API è¯´æ˜.\nä¸‹é¢æä¾›ä¸€ä¸ªè¿­ä»£å™¨è®¿é—®iniä¿¡æ¯:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 #include \u0026#34;inifile.h\u0026#34; int main() { constexpr char path[] = \u0026#34;path/to/ini/file\u0026#34;; ini::inifile inif; bool isok = inif.load(path); for (const auto \u0026amp;sec_pair : inif) { const std::string \u0026amp;section_name = sec_pair.first; const ini::section \u0026amp;section = sec_pair.second; std::cout \u0026lt;\u0026lt; \u0026#34; section \u0026#39;\u0026#34; \u0026lt;\u0026lt; section_name \u0026lt;\u0026lt; \u0026#34;\u0026#39; has \u0026#34; \u0026lt;\u0026lt; section.size() \u0026lt;\u0026lt; \u0026#34; key-values.\u0026#34; \u0026lt;\u0026lt; std::endl; for (const auto \u0026amp;kv : section) { const std::string \u0026amp;key = kv.first; const auto \u0026amp;value = kv.second; std::cout \u0026lt;\u0026lt; \u0026#34; kv: \u0026#39;\u0026#34; \u0026lt;\u0026lt; key \u0026lt;\u0026lt; \u0026#34;\u0026#39; = \u0026#39;\u0026#34; \u0026lt;\u0026lt; value \u0026lt;\u0026lt; \u0026#34;\u0026#39;\u0026#34; \u0026lt;\u0026lt; std::endl; } } } æ¡ˆä¾‹åˆ—è¡¨ æ¡ˆä¾‹è¯´æ˜ æ¡ˆä¾‹é“¾æ¥ inifileçš„åŸºæœ¬ä½¿ç”¨æ¡ˆä¾‹ inifile_basic.cpp inifileå¤§å°å†™ä¸æ•æ„Ÿæ¡ˆä¾‹ inifile_case_insensitive.cpp inifileä¿å­˜iniæ–‡ä»¶æ¡ˆä¾‹ inifile_save.cpp inifileåŠ è½½iniæ–‡ä»¶æ¡ˆä¾‹ inifile_load.cpp inifileè¯»å–æµä¸­çš„inié…ç½® inifile_read.cpp inifileå†™å…¥inié…ç½®åˆ°æµä¸­ inifile_write inifileæ³¨é‡ŠåŠŸèƒ½æ¡ˆä¾‹ inifile_comment.cpp inifileè¯»å†™ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ inifile_custom.cpp inifileè¯»å†™ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹2 inifile_custom2.cpp iniå·¥å…·å‡½æ•°çš„ä½¿ç”¨ inifile_utility.cpp ğŸ“„ å¸¸ç”¨APIè¯´æ˜ class ç±»å‹è¯´æ˜ classåç§° æè¿° ini::inifile å¯¹åº”æ•´ä¸ªiniæ•°æ®, åŒ…å«äº†æ‰€æœ‰çš„section ini::section å¯¹åº”æ•´ä¸ªsectionå†…å®¹, é‡Œé¢åŒ…å«äº†æœ¬sectionæ‰€æœ‰çš„key-valueå€¼ ini::case_insensitive_inifile å¯¹sectionå’Œkeyå¤§å°å†™ä¸æ•æ„Ÿ, å…¶ä»–åŠŸèƒ½å’Œini::inifileä¸€è‡´ ini::case_insensitive_section å¯¹keyå¤§å°å†™ä¸æ•æ„Ÿ, å…¶ä»–åŠŸèƒ½å’Œini::sectionä¸€è‡´ ini::field å¯¹åº”iniæ–‡ä»¶ä¸­çš„ value å­—æ®µ, æ”¯æŒå¤šç§æ•°æ®ç±»å‹, æ”¯æŒè‡ªåŠ¨ç±»å‹è½¬æ¢ ini::comment iniæ–‡ä»¶ä¸­æ³¨é‡Šç±», ç®¡ç†sectionå’Œkey-valueçš„æ³¨é‡Š ini::commentç±»APIè¯´æ˜ ç‚¹å‡»å±•å¼€ | å‡½æ•°å | å‡½æ•°ç­¾å | åŠŸèƒ½æè¿° | | --------- | ------------------------------------------------------------ | ------------------ | | comment | `comment(const std::string \u0026str, char symbol = ';')` | æ„é€ å‡½æ•° | | comment | `comment(const std::vector \u0026vec, char symbol = ';')` | æ„é€ å‡½æ•° | | comment | `comment(std::initializer_list list, char symbol = ';')` | æ„é€ å‡½æ•° | | swap | `void swap(comment \u0026other) noexcept` | äº¤æ¢å‡½æ•° | | empty | `bool empty() const noexcept` | æ˜¯å¦ä¸ºç©º | | clear | `void clear() noexcept` | æ¸…ç©ºæ³¨é‡Š | | set | `void set(const std::string \u0026str, char symbol = ';')` | è®¾ç½®æ³¨é‡Š(è¦†ç›–æ¨¡å¼) | | add | `void add(const std::string \u0026str, char symbol = ';')` | æ·»åŠ æ³¨é‡Š(è¿½åŠ æ¨¡å¼) | | view | `const std::vector \u0026view() const` | è¿”å›æ³¨é‡Šå®¹å™¨å¸¸å¼•ç”¨ | | to_vector | `std::vector to_vector() const` | è¿”å›æ³¨é‡Šå®¹å™¨çš„æ‹·è´ | | å‡½æ•°å | å‡½æ•°ç­¾å | åŠŸèƒ½æè¿° | | --------- | -------------------------------------------------------- | ------------------ | | comment | `comment(const std::string \u0026str, char symbol = ';')` | æ„é€ å‡½æ•° | | comment | `comment(const std::vector \u0026vec, char symbol = ';')` | æ„é€ å‡½æ•° | | comment | `comment(std::initializer_list list, char symbol = ';')` | æ„é€ å‡½æ•° | | swap | `void swap(comment \u0026other) noexcept` | äº¤æ¢å‡½æ•° | | empty | `bool empty() const noexcept` | æ˜¯å¦ä¸ºç©º | | clear | `void clear() noexcept` | æ¸…ç©ºæ³¨é‡Š | | set | `void set(const std::string \u0026str, char symbol = ';')` | è®¾ç½®æ³¨é‡Š(è¦†ç›–æ¨¡å¼) | | add | `void add(const std::string \u0026str, char symbol = ';')` | æ·»åŠ æ³¨é‡Š(è¿½åŠ æ¨¡å¼) | | view | `const std::vector \u0026view() const` | è¿”å›æ³¨é‡Šå®¹å™¨å¸¸å¼•ç”¨ | | to_vector | `std::vector to_vector() const` | è¿”å›æ³¨é‡Šå®¹å™¨çš„æ‹·è´ | ini::fieldç±»APIè¯´æ˜ ç‚¹å‡»å±•å¼€ ä»¥ä¸‹å‡½æ•°ç±»å‹è½¬æ¢å¤±è´¥æˆ–è€…å€¼æº¢å‡ºå°†æŠ›å¼‚å¸¸ å‡½æ•°å å‡½æ•°ç­¾å åŠŸèƒ½æè¿° field field(const T \u0026amp;other) æ„é€ fieldå¯¹è±¡, å°†Tç±»å‹è½¬ä¸ºfieldå€¼ set field \u0026amp;set(const T \u0026amp;value) è®¾ç½®fieldå€¼, å°†Tç±»å‹è½¬ä¸ºfieldå€¼ operator= field \u0026amp;operator=(const T \u0026amp;rhs) è®¾ç½®fieldå€¼, å°†Tç±»å‹è½¬ä¸ºfieldå€¼ operator T operator T() const å°†fieldç±»å‹è½¬ä¸ºTç±»å‹ as T as() const å°†fieldç±»å‹è½¬ä¸ºTç±»å‹ as_to T \u0026amp;as_to(T \u0026amp;out) const å°†fieldç±»å‹è½¬ä¸ºç»™å®šçš„Tç±»å‹å¯¹è±¡ swap void swap(field \u0026amp;other) noexcept äº¤æ¢å‡½æ•° set_comment void set_comment(const std::string \u0026amp;str, char symbol = ';') è®¾ç½®key-valueçš„æ³¨é‡Š, è¦†ç›–æ¨¡å¼ add_comment void add_comment(const std::string \u0026amp;str, char symbol = ';') æ·»åŠ key-valueçš„æ³¨é‡Š, è¿½åŠ æ¨¡å¼ clear_comment void clear_comment() æ¸…é™¤key-valueçš„æ³¨é‡Š comment ini::comment \u0026amp;comment() è·å–key-valueçš„æ³¨é‡Šå†…å®¹(å¼•ç”¨) ini::sectionç±»APIè¯´æ˜ ç‚¹å‡»å±•å¼€ å‡½æ•°å å‡½æ•°ç­¾å åŠŸèƒ½æè¿° operator[] field \u0026amp;operator[](std::string key) è¿”å›ini::fieldå¼•ç”¨, ä¸å­˜åœ¨åˆ™æ’å…¥ç©ºini::field set field \u0026amp;set(std::string key, T \u0026amp;\u0026amp;value) æ’å…¥æˆ–æ›´æ–°æŒ‡å®škeyçš„field contains bool contains(std::string key) const åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ at field \u0026amp;at(std::string key) è¿”å›æŒ‡å®škeyé”®çš„å…ƒç´ çš„å­—æ®µå€¼çš„å¼•ç”¨ã€‚å¦‚æœå…ƒç´ ä¸å­˜åˆ™æŠ› std::out_of_rangeå¼‚å¸¸ swap void swap(basic_section \u0026amp;other) noexcept äº¤æ¢å‡½æ•° get field get(std::string key, field default_value = field{}) const è·å–keyå¯¹åº”çš„å€¼(å‰¯æœ¬), è‹¥keyä¸å­˜åœ¨åˆ™è¿”å›default_valueé»˜è®¤å€¼ find iterator find(key_type key) æŸ¥æ‰¾æŒ‡å®škeyå€¼çš„è¿­ä»£å™¨, ä¸å­˜åœ¨è¿”å›endè¿­ä»£å™¨ erase iterator erase(iterator pos) åˆ é™¤æŒ‡å®šè¿­ä»£å™¨çš„key-valueé”®å€¼å¯¹ remove bool remove(std::string key) åˆ é™¤æŒ‡å®šçš„key-valueé”®å€¼å¯¹, è‹¥ä¸å­˜åœ¨åˆ™ä»€ä¹ˆéƒ½ä¸åš empty bool empty() const noexcept åˆ¤æ–­key-valueé”®å€¼å¯¹æ˜¯å¦ä¸ºç©º, ä¸ºç©ºè¿”å›true clear void clear() noexcept æ¸…é™¤æ‰€æœ‰key - valueé”®å€¼å¯¹ keys std::vector\u0026lt;key_type\u0026gt; keys() const è·å–æ‰€æœ‰çš„keys values std::vector\u0026lt;ini::filed\u0026gt; values() const è·å–æ‰€æœ‰çš„values, ç±»å‹ä¸ºini::filed items std::vector\u0026lt;value_type\u0026gt; items() const è·å–æ‰€æœ‰çš„key-valueé”®å€¼å¯¹ size size_type size() const noexcept è¿”å›æœ‰å¤šå°‘key - valueé”®å€¼å¯¹ count size_type count(const key_type \u0026amp;key) const è¿”å›æœ‰å¤šå°‘æŒ‡å®škeyçš„key - valueé”®å€¼å¯¹ begin iterator begin() noexcept è¿”å›èµ·å§‹è¿­ä»£å™¨ end iterator end() noexcept è¿”å›æœ«å°¾è¿­ä»£å™¨ set_comment void set_comment(const std::string \u0026amp;str, char symbol = ';') è®¾ç½®sectionçš„æ³¨é‡Š, è¦†ç›–æ¨¡å¼, æ³¨é‡Šå­—ç¬¦ä¸²å…è®¸æ¢è¡Œ\\n add_comment void add_comment(const std::string \u0026amp;str, char symbol = ';') æ·»åŠ sectionçš„æ³¨é‡Š, è¿½åŠ æ¨¡å¼, æ³¨é‡Šå­—ç¬¦ä¸²å…è®¸æ¢è¡Œ\\n clear_comment void clear_comment() æ¸…é™¤sectionçš„æ³¨é‡Š comment ini::comment \u0026amp;comment() è·å–sectionçš„æ³¨é‡Šå†…å®¹(å¼•ç”¨) ini::inifileç±»APIè¯´æ˜ ç‚¹å‡»å±•å¼€ å‡½æ•°å å‡½æ•°ç­¾å åŠŸèƒ½æè¿° operator[] section \u0026amp;operator[](std::string sec) è¿”å›ini::sectionå¼•ç”¨, ä¸å­˜åœ¨åˆ™æ’å…¥ç©ºini::section set field \u0026amp;set(std::string sec, std::string key, T \u0026amp;\u0026amp;value) è®¾ç½®section key-value contains bool contains(std::string section) const åˆ¤æ–­æŒ‡å®šçš„sectionæ˜¯å¦å­˜åœ¨ contains bool contains(std::string section, std::string key) const åˆ¤æ–­æŒ‡å®šsectionä¸‹æŒ‡å®šçš„keyæ˜¯å¦å­˜åœ¨ at section \u0026amp;at(std::string section) è¿”å›æŒ‡å®šsectionçš„å¼•ç”¨ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œåˆ™ä¼šæŠ›å‡º std::out_of_range ç±»å‹çš„å¼‚å¸¸ swap void swap(inifile \u0026amp;other) noexcept äº¤æ¢å‡½æ•° get field get(std::string sec, std::string key, field default_value = field{}) const è¿”å›æŒ‡å®šsectionçš„æŒ‡å®škeyé”®çš„å­—æ®µå€¼, è‹¥sectionæˆ–keyä¸å­˜åœ¨åˆ™è¿”å›é»˜è®¤å€¼default_value find iterator find(key_type key) æŸ¥æ‰¾æŒ‡å®šsectionçš„è¿­ä»£å™¨, ä¸å­˜åœ¨è¿”å›endè¿­ä»£å™¨ erase iterator erase(iterator pos) åˆ é™¤æŒ‡å®šè¿­ä»£å™¨çš„section(åŒ…æ‹¬å…¶æ‰€æœ‰å…ƒç´ ) remove bool remove(std::string sec) åˆ é™¤æŒ‡å®šçš„section(åŒ…æ‹¬å…¶æ‰€æœ‰å…ƒç´ ) empty bool empty() const noexcept åˆ¤æ–­æ˜¯å¦æ²¡æœ‰section, æ²¡æœ‰sectionç©ºè¿”å›true clear void clear() noexcept æ¸…ç©ºæ‰€æœ‰çš„section size size_type size() const noexcept è¿”å›æœ‰å¤šå°‘section sections std::vector\u0026lt;key_type\u0026gt; sections() const è·å–iniæ–‡ä»¶çš„æ‰€æœ‰section count size_type count(key_type key) const è¿”å›æœ‰å¤šå°‘æŒ‡å®šsection-nameçš„section begin iterator begin() noexcept è¿”å›èµ·å§‹è¿­ä»£å™¨ end iterator end() noexcept è¿”å›æœ«å°¾è¿­ä»£å™¨ read void read(std::istream \u0026amp;is) ä»istreamä¸­è¯»å–iniä¿¡æ¯ write void write(std::ostream \u0026amp;os) const å‘ostreamä¸­å†™å…¥iniä¿¡æ¯ from_string void from_string(const std::string \u0026amp;str) ä»stringä¸­è¯»å–iniä¿¡æ¯ to_string std::string to_string() const å°†inifileå¯¹è±¡è½¬ä¸ºå¯¹åº”å­—ç¬¦ä¸² load bool load(const std::string \u0026amp;filename) ä»iniæ–‡ä»¶ä¸­åŠ è½½iniä¿¡æ¯, è¿”å›æ˜¯å¦æˆåŠŸ save bool save(const std::string \u0026amp;filename) å°†iniä¿¡æ¯ä¿å­˜åˆ°iniæ–‡ä»¶, è¿”å›æ˜¯å¦æˆåŠŸ ","date":"2025-05-04T22:05:03+08:00","permalink":"https://abin-z.github.io/p/%E8%BD%BB%E9%87%8F%E7%BA%A7ini%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90%E5%BA%93inifile/","title":"è½»é‡çº§INIé…ç½®è§£æåº“(IniFile)"},{"content":"ä¸€ä¸ªè·¨å¹³å°, ç®€å•æ˜“ç”¨çš„Header-onlyçº¿ç¨‹æ± åº“, åŸºäºTaskæäº¤, æ”¯æŒæäº¤ä»»æ„å‚æ•°æäº¤, æ”¯æŒè·å–è¿”å›å€¼.\nGitHubä»“åº“åœ°å€\nğŸ“Œ çº¿ç¨‹æ± ç®€ä»‹ çº¿ç¨‹æ± ï¼ˆThread Poolï¼‰æ˜¯ä¸€ç§åŸºäºæ± åŒ–æ€æƒ³ç®¡ç†çº¿ç¨‹çš„å·¥å…·ï¼Œç»å¸¸å‡ºç°åœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ã€‚\nå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šé¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„çº¿ç¨‹æ”¾åœ¨â€œæ± å­â€é‡Œï¼Œä»»åŠ¡æ¥äº†å°±æŠŠä»»åŠ¡äº¤ç»™ç©ºé—²çš„çº¿ç¨‹æ¥å¤„ç†ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½æ–°å»ºçº¿ç¨‹ã€‚\nğŸš€ç‰¹æ€§äº®ç‚¹ ä»»åŠ¡æäº¤çµæ´»ï¼šæ”¯æŒä»»æ„å¯è°ƒç”¨å¯¹è±¡ä¸å‚æ•°ç»„åˆï¼Œè¿”å› std::future\u0026lt;T\u0026gt; è·å–æ‰§è¡Œç»“æœ çº¿ç¨‹å®‰å…¨ï¼šä½¿ç”¨ std::mutex / std::condition_variable / std::atomic æ„å»ºåŒæ­¥æœºåˆ¶ è·¨å¹³å°ï¼šçº¯ C++11 å®ç°ï¼Œå…¼å®¹ Windows ä¸ POSIX ç­‰ç³»ç»Ÿ Header-onlyï¼šä»…éœ€åŒ…å« thread_pool.hï¼Œé›¶ä¾èµ–ï¼Œå³å¯ä½¿ç”¨ RAII è‡ªåŠ¨ç®¡ç†èµ„æºï¼šææ„æ—¶è‡ªåŠ¨å…³é—­çº¿ç¨‹æ± ï¼Œé˜²æ­¢èµ„æºæ³„éœ² ä»»åŠ¡ç­‰å¾…æœºåˆ¶ï¼šæ”¯æŒä¸»åŠ¨è°ƒç”¨ wait_all() ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ çµæ´»å…³é—­ç­–ç•¥ï¼šé»˜è®¤æ˜¯è‡ªåŠ¨å…³é—­çº¿ç¨‹æ± çš„, å¦‚æœæœ‰éœ€è¦å¯ä»¥æ‰‹åŠ¨å…³é—­çº¿ç¨‹æ± : WaitForAllTasks: ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆåå…³é—­ DiscardPendingTasks: ä¸¢å¼ƒæœªå¼€å§‹çš„ä»»åŠ¡ç«‹å³å…³é—­ ğŸ“¦ å¿«é€Ÿå¼€å§‹ å®‰è£…ä½¿ç”¨ æ‹·è´thread_pool.håˆ°ä½ çš„é¡¹ç›®ç›®å½•ï¼Œç„¶ååœ¨ä»£ç ä¸­å¼•å…¥ï¼š\n1 #include \u0026#34;thread_pool.h\u0026#34; æ— éœ€é¢å¤–ä¾èµ–ï¼Œå®Œå…¨å¤´æ–‡ä»¶å®ç°ã€‚\nåŸºç¡€ç¤ºä¾‹ä»£ç  åŸºç¡€ä½¿ç”¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 #include \u0026#34;thread_pool.h\u0026#34; #include \u0026lt;iostream\u0026gt; int main() { abin::threadpool pool(4); auto future1 = pool.submit([] { return 42; }); std::cout \u0026lt;\u0026lt; \u0026#34;ç»“æœ: \u0026#34; \u0026lt;\u0026lt; future1.get() \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; auto future2 = pool.submit([](int a, int b) { return a + b; }, 5, 7); std::cout \u0026lt;\u0026lt; \u0026#34;åŠ æ³•ç»“æœ: \u0026#34; \u0026lt;\u0026lt; future2.get() \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; return 0; } æäº¤ä»»æ„ç±»å‹ä»»æ„å‚æ•°çš„å¯è°ƒç”¨å¯¹è±¡\nç‚¹å‡»æŸ¥çœ‹ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 #include \u0026#34;thread_pool.h\u0026#34; #include \u0026lt;functional\u0026gt; #include \u0026lt;future\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; void normal_function(int x) { std::cout \u0026lt;\u0026lt; \u0026#34;normal_function: \u0026#34; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; std::endl; } struct MyClass { void member_function(int y) { std::cout \u0026lt;\u0026lt; \u0026#34;MyClass::member_function: \u0026#34; \u0026lt;\u0026lt; y \u0026lt;\u0026lt; std::endl; } int add(int a, int b) { return a + b; } }; struct Functor { void operator()(const std::string\u0026amp; msg) const { std::cout \u0026lt;\u0026lt; \u0026#34;Functor called with: \u0026#34; \u0026lt;\u0026lt; msg \u0026lt;\u0026lt; std::endl; } }; int main() { abin::threadpool pool(4); // æäº¤ä¸€ä¸ªæ™®é€šå‡½æ•° pool.submit(normal_function, 42); // æäº¤ä¸€ä¸ªæ— æ•è· lambda pool.submit([] { std::cout \u0026lt;\u0026lt; \u0026#34;lambda no capture\\n\u0026#34;; }); // æäº¤ä¸€ä¸ªæœ‰æ•è· lambda int value = 99; pool.submit([value] { std::cout \u0026lt;\u0026lt; \u0026#34;lambda with capture: \u0026#34; \u0026lt;\u0026lt; value \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; }); // æäº¤æˆå‘˜å‡½æ•°, ä½¿ç”¨lambda MyClass obj; pool.submit([\u0026amp;obj] { obj.member_function(123); }); // æäº¤æˆå‘˜å‡½æ•°, ä½¿ç”¨ std::mem_fn std::future\u0026lt;int\u0026gt; ret = pool.submit(std::mem_fn(\u0026amp;MyClass::add), \u0026amp;obj, 3, 4); std::cout \u0026lt;\u0026lt; \u0026#34;add result1: \u0026#34; \u0026lt;\u0026lt; ret.get() \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; // æäº¤æˆå‘˜å‡½æ•°, ä½¿ç”¨ std::bind std::future\u0026lt;int\u0026gt; fut_add = pool.submit(std::bind(\u0026amp;MyClass::add, \u0026amp;obj, 2, 3)); std::cout \u0026lt;\u0026lt; \u0026#34;add result2: \u0026#34; \u0026lt;\u0026lt; fut_add.get() \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; // æäº¤ä¸€ä¸ªå‡½æ•°å¯¹è±¡(ä»¿å‡½æ•°) Functor f; pool.submit(f, \u0026#34;hello functor\u0026#34;); // ä½¿ç”¨ std::bind æäº¤ auto bound = std::bind(\u0026amp;MyClass::add, \u0026amp;obj, 5, 6); std::future\u0026lt;int\u0026gt; fut_bound = pool.submit(bound); std::cout \u0026lt;\u0026lt; \u0026#34;bound result: \u0026#34; \u0026lt;\u0026lt; fut_bound.get() \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; // æäº¤ä¸€ä¸ª std::packaged_task(æ³¨æ„: ä½ç‰ˆæœ¬msvcå¯èƒ½æŠ¥é”™) std::packaged_task\u0026lt;std::string()\u0026gt; task([] { return std::string(\u0026#34;from packaged_task\u0026#34;); }); std::future\u0026lt;std::string\u0026gt; fut_str = task.get_future(); pool.submit(std::move(task)); // å¿…é¡» move std::cout \u0026lt;\u0026lt; \u0026#34;packaged_task result: \u0026#34; \u0026lt;\u0026lt; fut_str.get() \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; pool.wait_all(); // ç­‰å¾…ä»»åŠ¡å®Œæˆ std::cout \u0026lt;\u0026lt; \u0026#34;===All tasks completed.===\\n\u0026#34;; } ThreadPoolæºç  ç‚¹å‡»æŸ¥çœ‹çº¿ç¨‹æ± æºç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 /************************************************************************************************************** *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * @file: thread_pool.h * @version: v0.9.2 * @description: A cross-platform, lightweight, easy-to-use C++11 thread pool that supports submitting tasks with * arbitrary parameters and obtaining return values * - Futures * - Task-based: Supports tasks with arbitrary parameters, and obtains return values â€‹â€‹through `std::future`. * - Cross-Platform: Works on platforms supporting C++11. * - Thread Safety: Uses `std::mutex`, `std::condition_variable`, and atomic variables for synchronization. * - Flexible Shutdown: Two modes for shutdown: `WaitForAllTasks` and `DiscardPendingTasks`. * - Lightweight \u0026amp; Easy-to-Use: Simple API with minimal setup. * * @author: abin * @date: 2025-04-20 * @license: MIT * @repository: https://github.com/abin-z/ThreadPool *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ **************************************************************************************************************/ #ifndef ABIN_THREADPOOL_H #define ABIN_THREADPOOL_H #include \u0026lt;atomic\u0026gt; #include \u0026lt;condition_variable\u0026gt; #include \u0026lt;functional\u0026gt; #include \u0026lt;future\u0026gt; #include \u0026lt;memory\u0026gt; #include \u0026lt;mutex\u0026gt; #include \u0026lt;queue\u0026gt; #include \u0026lt;stdexcept\u0026gt; #include \u0026lt;thread\u0026gt; #include \u0026lt;vector\u0026gt; namespace abin { /// @brief C++11çš„çº¿ç¨‹æ± , æäº¤ä»»åŠ¡æ”¯æŒä»»æ„å¤šå‚æ•°, æ”¯æŒè·å–è¿”å›å€¼ class threadpool { using task_t = std::function\u0026lt;void()\u0026gt;; // å®šä¹‰ä»»åŠ¡ç±»å‹ä¸ºå¯è°ƒç”¨å¯¹è±¡ public: /// @brief çº¿ç¨‹æ± å½“å‰çŠ¶æ€ä¿¡æ¯ç»“æ„ä½“ struct status_info { std::size_t total_threads; // æ€»çº¿ç¨‹æ•° std::size_t busy_threads; // æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ•° std::size_t idle_threads; // ç©ºé—²çº¿ç¨‹æ•° std::size_t pending_tasks; // ç­‰å¾…ä¸­çš„ä»»åŠ¡æ•° bool running; // çº¿ç¨‹æ± æ˜¯å¦åœ¨è¿è¡Œ }; /// @brief å…³é—­çº¿ç¨‹æ± çš„æ¨¡å¼ enum class shutdown_mode : unsigned char { /// @brief ç­‰å¾…æ‰€æœ‰å·²æäº¤çš„ä»»åŠ¡å®Œæˆåå†å…³é—­çº¿ç¨‹æ±  /// åœ¨æ­¤æ¨¡å¼ä¸‹, çº¿ç¨‹æ± ä¼šç­‰å¾…æ‰€æœ‰ä»»åŠ¡(åŒ…æ‹¬å·²å¼€å§‹å’Œæœªå¼€å§‹çš„ä»»åŠ¡)æ‰§è¡Œå®Œæˆåå†å…³é—­. WaitForAllTasks, /// @brief ç«‹å³å…³é—­çº¿ç¨‹æ± , ä¸¢å¼ƒå°šæœªå¼€å§‹çš„ä»»åŠ¡. /// åœ¨æ­¤æ¨¡å¼ä¸‹, çº¿ç¨‹æ± ä¼šç«‹å³åœæ­¢æ¥æ”¶æ–°ä»»åŠ¡, ä¸¢å¼ƒæ‰€æœ‰å°šæœªå¼€å§‹æ‰§è¡Œçš„ä»»åŠ¡, /// ä½†å·²ç»å¼€å§‹æ‰§è¡Œçš„ä»»åŠ¡ä¼šç»§ç»­æ‰§è¡Œ, ç›´åˆ°å®ƒä»¬å®Œæˆ. DiscardPendingTasks }; public: /// @brief æ„é€ å‡½æ•°, åˆå§‹åŒ–çº¿ç¨‹æ± å¹¶å¯åŠ¨æŒ‡å®šæ•°é‡çš„å·¥ä½œçº¿ç¨‹ /// @param thread_count è¦åˆ›å»ºçš„çº¿ç¨‹æ•°é‡, é»˜è®¤ä¸ºç¡¬ä»¶æ”¯æŒçš„å¹¶å‘çº¿ç¨‹æ•°(è‹¥æ— æ³•è·å–åˆ™ä¸º 4) explicit threadpool(std::size_t thread_count = default_thread_count()) { launch_threads(validate_thread_count(thread_count)); // åˆ›å»ºçº¿ç¨‹ } /// @brief ææ„å‡½æ•°, åœæ­¢æ‰€æœ‰çº¿ç¨‹å¹¶ç­‰å¾…å®ƒä»¬å®Œæˆ ~threadpool() { shutdown(shutdown_mode::WaitForAllTasks); } /// @brief æäº¤ä»»åŠ¡åˆ°çº¿ç¨‹æ± å¹¶è¿”å›ä¸€ä¸ª future å¯¹è±¡, ç”¨æˆ·å¯ä»¥é€šè¿‡å®ƒè·å–ä»»åŠ¡çš„è¿”å›å€¼ /// /// @tparam F ä»»åŠ¡ç±»å‹çš„å¯è°ƒç”¨å¯¹è±¡ /// @tparam Args å¯è°ƒç”¨å¯¹è±¡çš„å‚æ•°ç±»å‹ /// @param f éœ€è¦æäº¤çš„ä»»åŠ¡ /// @param args ä»»åŠ¡çš„å‚æ•° /// @return std::future\u0026lt;decltype(f(args...))\u0026gt; è¿”å›ä¸€ä¸ª future å¯¹è±¡, å…è®¸ç”¨æˆ·è·å–ä»»åŠ¡çš„è¿”å›å€¼ template \u0026lt;typename F, typename... Args\u0026gt; auto submit(F \u0026amp;\u0026amp;f, Args \u0026amp;\u0026amp;...args) -\u0026gt; std::future\u0026lt;decltype(f(args...))\u0026gt; { if (!running_) throw std::runtime_error(\u0026#34;error: ThreadPool is not running. Cannot submit new tasks.\u0026#34;); using return_type = decltype(f(args...)); // å°† f åŒ…è£…æˆ task, task æ˜¯ä¸€ä¸ª shared_ptr æŒ‡å‘ packaged_task auto task = std::make_shared\u0026lt;std::packaged_task\u0026lt;return_type()\u0026gt;\u0026gt;( std::bind(std::forward\u0026lt;F\u0026gt;(f), std::forward\u0026lt;Args\u0026gt;(args)...) // å°†å‡½æ•°å’Œå‚æ•°å°è£…æˆä¸€ä¸ª return_type() çš„å¯è°ƒç”¨å¯¹è±¡ ); std::future\u0026lt;return_type\u0026gt; ret = task-\u0026gt;get_future(); // è·å–ä¸ task ç›¸å…³è”çš„ future { std::lock_guard\u0026lt;std::mutex\u0026gt; lock(mtx_); task_queue_.emplace([task] { (*task)(); }); // å°†ä»»åŠ¡æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ } cv_.notify_one(); // é€šçŸ¥ä¸€ä¸ªç­‰å¾…ä¸­çš„å·¥ä½œçº¿ç¨‹æœ‰æ–°çš„ä»»åŠ¡å¯ä»¥æ‰§è¡Œ return ret; // è¿”å› future å¯¹è±¡ } /// @brief é˜»å¡ç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆ(ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºä¸”æ²¡æœ‰ä»»åŠ¡åœ¨æ‰§è¡Œ), è‹¥æ²¡æœ‰ä»»åŠ¡ï¼Œç«‹å³è¿”å› void wait_all() { if (busy_count_ == 0 \u0026amp;\u0026amp; pending_tasks() == 0) return; std::unique_lock\u0026lt;std::mutex\u0026gt; lock(mtx_done_); cv_done_.wait(lock, [this] { return busy_count_ == 0 \u0026amp;\u0026amp; pending_tasks() == 0; }); } /// @brief å…³é—­çº¿ç¨‹æ±  /// @param mode `WaitForAllTasks` ç­‰å¾…æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæˆåå†å…³é—­; `DiscardPendingTasks` ç«‹å³å…³é—­çº¿ç¨‹æ± , /// æŠ›å¼ƒå°šæœªå¼€å§‹çš„ä»»åŠ¡. void shutdown(shutdown_mode mode = shutdown_mode::WaitForAllTasks) { { std::lock_guard\u0026lt;std::mutex\u0026gt; lock(mtx_); if (!running_) return; // å·²ç»å…³é—­åˆ™ç›´æ¥è¿”å› running_ = false; if (mode == shutdown_mode::DiscardPendingTasks) // æ”¾å¼ƒä»»åŠ¡æ¨¡å¼ { std::queue\u0026lt;task_t\u0026gt; empty; std::swap(task_queue_, empty); // æ¸…ç©ºä»»åŠ¡é˜Ÿåˆ— } } cv_.notify_all(); for (std::thread \u0026amp;worker : workers_) { if (worker.joinable()) worker.join(); } workers_.clear(); } /// @brief é‡å¯çº¿ç¨‹æ± , å…ˆå…³é—­å½“å‰çº¿ç¨‹æ± (ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ), ç„¶åä»¥æŒ‡å®šçš„çº¿ç¨‹æ•°é‡é‡æ–°å¯åŠ¨çº¿ç¨‹æ± . /// @param thread_count è¦åˆ›å»ºçš„å·¥ä½œçº¿ç¨‹æ•°é‡ void reboot(std::size_t thread_count) { shutdown(shutdown_mode::WaitForAllTasks); { std::lock_guard\u0026lt;std::mutex\u0026gt; lock(mtx_); if (running_) return; // å·²é‡å¯, æ— éœ€å†æ¬¡åˆå§‹åŒ–(å¹‚ç­‰) running_ = true; launch_threads(validate_thread_count(thread_count)); } } /// @brief å½“å‰çº¿ç¨‹æ± çš„æ€»çº¿ç¨‹æ•°é‡ std::size_t total_threads() const noexcept { return workers_.size(); } /// @brief è·å–å½“å‰ç­‰å¾…çš„ä»»åŠ¡æ•°é‡ std::size_t pending_tasks() const noexcept { std::lock_guard\u0026lt;std::mutex\u0026gt; lock(mtx_); return task_queue_.size(); } /// @brief è·å–ç¹å¿™çš„çº¿ç¨‹æ•°é‡ std::size_t busy_threads() const noexcept { return busy_count_.load(); } /// @brief è·å–ç©ºé—²çº¿ç¨‹æ•°é‡ std::size_t idle_threads() const noexcept { return workers_.size() - busy_count_.load(); } /// @brief å½“å‰çº¿ç¨‹æ± æ˜¯å¦æ­£åœ¨è¿è¡Œ(æœªåœæ­¢) bool is_running() const noexcept { return running_.load(); } /// @brief è·å–çº¿ç¨‹æ± çš„å½“å‰çŠ¶æ€ä¿¡æ¯ status_info status() const noexcept { std::size_t total = 0; std::size_t pending = 0; { std::lock_guard\u0026lt;std::mutex\u0026gt; lock(mtx_); total = workers_.size(); pending = task_queue_.size(); } std::size_t busy = busy_count_.load(); std::size_t idle = total - busy; return {total, busy, idle, pending, running_.load()}; } // ç¦ç”¨æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼æ“ä½œç¬¦ threadpool(const threadpool \u0026amp;) = delete; threadpool \u0026amp;operator=(const threadpool \u0026amp;) = delete; // ç¦ç”¨ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦ threadpool(threadpool \u0026amp;\u0026amp;) = delete; threadpool \u0026amp;operator=(threadpool \u0026amp;\u0026amp;) = delete; private: /// @brief é»˜è®¤çº¿ç¨‹æ•°, è·å–ç¡¬ä»¶æ”¯æŒçš„å¹¶å‘çº¿ç¨‹æ•°, è‹¥æ— æ³•è·å–åˆ™é»˜è®¤ä¸º4 static std::size_t default_thread_count() { auto n = std::thread::hardware_concurrency(); return n == 0 ? 4 : n; } /// @brief éªŒè¯çº¿ç¨‹æ•°æ˜¯å¦åˆæ³•, 1 \u0026lt;= count \u0026lt;= 4096 static std::size_t validate_thread_count(std::size_t count) { if (count \u0026lt; 1 || count \u0026gt; 4096) throw std::invalid_argument(\u0026#34;invalid thread_count: must be in range [1, 1024]\u0026#34;); return count; } /// @brief å¯åŠ¨çº¿ç¨‹æ± , åˆ›å»ºæŒ‡å®šæ•°é‡çš„å·¥ä½œçº¿ç¨‹ /// @param thread_count çº¿ç¨‹æ± ä¸­çº¿ç¨‹çš„æ•°é‡ void launch_threads(std::size_t thread_count) { if (!workers_.empty()) return; // å·²ç»åˆå§‹åŒ–è¿‡ for (std::size_t i = 0; i \u0026lt; thread_count; ++i) { // åˆ›å»ºå¹¶å¯åŠ¨å·¥ä½œçº¿ç¨‹ workers_.emplace_back([this] { while (true) { task_t task; { std::unique_lock\u0026lt;std::mutex\u0026gt; lock(mtx_); // ç­‰å¾…ç›´åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰ä»»åŠ¡, æˆ–è€…çº¿ç¨‹æ± å·²åœæ­¢ cv_.wait(lock, [this] { return !running_ || !task_queue_.empty(); }); if (!running_ \u0026amp;\u0026amp; task_queue_.empty()) return; // å¦‚æœçº¿ç¨‹æ± å·²ç»åœæ­¢å¹¶ä¸”é˜Ÿåˆ—ä¸ºç©º, é€€å‡ºçº¿ç¨‹ task = std::move(task_queue_.front()); // ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡ task_queue_.pop(); } ++busy_count_; task(); // æ‰§è¡Œä»»åŠ¡ --busy_count_; // åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å·²å…¨éƒ¨å®Œæˆ if (busy_count_ == 0 \u0026amp;\u0026amp; task_queue_.empty()) { std::lock_guard\u0026lt;std::mutex\u0026gt; lock(mtx_done_); if (busy_count_ == 0 \u0026amp;\u0026amp; pending_tasks() == 0) // äºŒæ¬¡ç¡®è®¤, é¿å…ç«æ€ { cv_done_.notify_all(); } } } }); } } private: std::vector\u0026lt;std::thread\u0026gt; workers_; // å·¥ä½œçº¿ç¨‹é›†åˆï¼Œç”¨äºå¹¶å‘æ‰§è¡Œä»»åŠ¡ std::queue\u0026lt;task_t\u0026gt; task_queue_; // ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡é˜Ÿåˆ— std::condition_variable cv_; // æ¡ä»¶å˜é‡ï¼Œç”¨äºé€šçŸ¥å·¥ä½œçº¿ç¨‹æœ‰æ–°ä»»åŠ¡åˆ°æ¥ mutable std::mutex mtx_; // ä¸»äº’æ–¥é”ï¼Œä¿æŠ¤ä»»åŠ¡é˜Ÿåˆ—å’Œä¸å…¶ç›¸å…³çš„çŠ¶æ€ std::atomic\u0026lt;std::size_t\u0026gt; busy_count_{0}; // æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹æ•°é‡ std::atomic\u0026lt;bool\u0026gt; running_{true}; // çº¿ç¨‹æ± æ˜¯å¦å¤„äºè¿è¡ŒçŠ¶æ€ mutable std::mutex mtx_done_; // ç”¨äºä¿æŠ¤å®Œæˆé€šçŸ¥çš„äº’æ–¥é”(wait_all ç”¨) std::condition_variable cv_done_; // æ¡ä»¶å˜é‡ï¼Œç”¨äºç­‰å¾…æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•(é…åˆ wait_all ä½¿ç”¨) }; } // namespace abin #endif // ABIN_THREADPOOL_H ","date":"2025-04-26T17:29:58+08:00","permalink":"https://abin-z.github.io/p/threadpool/","title":"C++è·¨å¹³å°è½»é‡çº§çº¿ç¨‹æ± (ThreadPool)"},{"content":"SimpleTimer æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„è½»é‡çº§å®šæ—¶å™¨ç±»ï¼Œæ”¯æŒåœ¨åå°çº¿ç¨‹ä¸­å®šæœŸæ‰§è¡Œä»»åŠ¡ï¼Œé€‚ç”¨äºéœ€è¦å®šæ—¶æ‰§è¡Œä»»åŠ¡çš„åœºæ™¯ã€‚å®ƒæ”¯æŒæš‚åœã€æ¢å¤ã€ä¿®æ”¹æ—¶é—´é—´éš”ç­‰åŠŸèƒ½ï¼Œä¸”ä¸ä¾èµ–ä»»ä½•ç¬¬ä¸‰æ–¹åº“ï¼Œä»…ä½¿ç”¨ C++11 æ ‡å‡†åº“å®ç°ã€‚\nç‰¹æ€§ è·¨å¹³å°æ”¯æŒï¼šåœ¨å¤šä¸ªå¹³å°ä¸Šï¼ˆå¦‚ Windowsã€Linuxã€macOSï¼‰å‡å¯è¿è¡Œï¼ŒåŸºäº C++11 æ ‡å‡†åº“å®ç°ã€‚ çº¿ç¨‹å®‰å…¨ï¼šå†…éƒ¨ä½¿ç”¨ std::thread å’Œ std::condition_variableï¼Œä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ çµæ´»çš„æ—¶é—´é—´éš”ï¼šæ”¯æŒä½¿ç”¨ std::chrono::duration è®¾ç½®ä»»æ„æ—¶é—´å•ä½ï¼ˆåˆ†é’Ÿã€ç§’ã€æ¯«ç§’ç­‰ï¼‰ã€‚ æ”¯æŒå¤šç§æ‰§è¡Œæ¨¡å¼ï¼šåŒ…æ‹¬å•æ¬¡æ‰§è¡Œï¼ˆone-shotï¼‰å’Œé‡å¤æ‰§è¡Œï¼ˆå‘¨æœŸæ€§ï¼‰ã€‚ æ§åˆ¶åŠŸèƒ½å®Œå–„ï¼šæ”¯æŒæš‚åœã€æ¢å¤ã€é‡å¯å®šæ—¶å™¨ï¼Œæ”¯æŒåŠ¨æ€ä¿®æ”¹æ—¶é—´é—´éš”ã€‚ æ—¶é—´ç²¾åº¦è‰¯å¥½ï¼šå®šæ—¶å™¨ç²¾åº¦å–å†³äºç³»ç»Ÿæ—¶é’Ÿï¼Œé€šå¸¸ä¸ºæ¯«ç§’çº§åˆ«ã€‚ è‡ªåŠ¨èµ„æºç®¡ç†ï¼šSimpleTimer å¯¹è±¡ææ„æ—¶ä¼šè‡ªåŠ¨åœæ­¢å®šæ—¶å™¨ï¼Œå³ä½¿å¿˜è®°è°ƒç”¨ stop ä¹Ÿèƒ½ç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾ã€‚ ä½¿ç”¨æ–¹å¼ å°† simple_timer.h æ–‡ä»¶å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ç›®å½•ä¸­ï¼Œåœ¨æºç ä¸­å¼•å…¥å³å¯ä½¿ç”¨:\n1 #include \u0026#34;simple_timer.h\u0026#34; åœ¨ POSIX ç³»ç»Ÿï¼ˆå¦‚ Linuxã€macOSï¼‰ä¸­ï¼Œstd::thread åŸºäº pthread å®ç°ï¼Œå› æ­¤éœ€è¦åœ¨ç¼–è¯‘æ—¶åŠ ä¸Š -lpthread é“¾æ¥é€‰é¡¹ã€‚\nç¤ºä¾‹ä»£ç  ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ä»£ç ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ SimpleTimer ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 #include \u0026#34;simple_timer.h\u0026#34; #include \u0026lt;iostream\u0026gt; int main() { SimpleTimer timer(std::chrono::seconds(1)); // å®šæ—¶å™¨é—´éš”ä¸º1ç§’ï¼Œé‡å¤æ‰§è¡Œä»»åŠ¡ timer.start([]() { std::cout \u0026lt;\u0026lt; \u0026#34;å®šæ—¶å™¨ä»»åŠ¡æ‰§è¡Œï¼\u0026#34; \u0026lt;\u0026lt; std::endl; }); std::this_thread::sleep_for(std::chrono::seconds(5)); // ç­‰å¾…5ç§’ timer.pause(); // æš‚åœå®šæ—¶å™¨ std::cout \u0026lt;\u0026lt; \u0026#34;å®šæ—¶å™¨å·²æš‚åœ...\u0026#34; \u0026lt;\u0026lt; std::endl; std::this_thread::sleep_for(std::chrono::seconds(3)); // ç­‰å¾…3ç§’ timer.resume(); // æ¢å¤å®šæ—¶å™¨ std::cout \u0026lt;\u0026lt; \u0026#34;å®šæ—¶å™¨å·²æ¢å¤...\u0026#34; \u0026lt;\u0026lt; std::endl; std::this_thread::sleep_for(std::chrono::seconds(5)); // ç­‰å¾…5ç§’ timer.stop(); // åœæ­¢å®šæ—¶å™¨ std::cout \u0026lt;\u0026lt; \u0026#34;å®šæ—¶å™¨å·²åœæ­¢\u0026#34; \u0026lt;\u0026lt; std::endl; return 0; } ä»£ç å®ç°: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 /** * @author: abin * @date: 2025-04-12 * @license: MIT * @repository: https://github.com/abin-z/SimpleTimer */ #ifndef SIMPLE_TIMER_H #define SIMPLE_TIMER_H #include \u0026lt;atomic\u0026gt; #include \u0026lt;chrono\u0026gt; #include \u0026lt;condition_variable\u0026gt; #include \u0026lt;cstdio\u0026gt; #include \u0026lt;mutex\u0026gt; #include \u0026lt;thread\u0026gt; /** * @brief ä½¿ç”¨ std::condition_variable çš„ wait_until æ–¹æ³• (ä¹Ÿå¯ä»¥ä½¿ç”¨wait_foræ–¹æ³•, ä½†æ˜¯ä¼šç´¯è®¡è¯¯å·®) * å‡½æ•°åŸå‹: * cv.wait_until(lock, time_point, predicate); * * wait_until çš„è¡Œä¸º: * - wait_until æ–¹æ³•çš„ä½œç”¨æ˜¯è®©å½“å‰çº¿ç¨‹åœ¨æŒ‡å®šçš„æ—¶é—´ç‚¹ä¹‹å‰ç­‰å¾…, ç›´åˆ°æ¡ä»¶å˜é‡è¢«é€šçŸ¥æˆ–è€…è¶…æ—¶ * - è¿›å…¥ç­‰å¾…å‰ä¼šå…ˆæ£€æŸ¥ predicate() çš„å€¼. * - å¦‚æœ predicate() åœ¨è¿›å…¥ç­‰å¾…å‰ç«‹å³ä¸º true, åˆ™ç›´æ¥è¿”å› true, ä¸ä¼šè¿›å…¥ç­‰å¾…çŠ¶æ€ * - å¦‚æœ predicate() ä¸º false, åˆ™è¿›å…¥ç­‰å¾…çŠ¶æ€, ç›´åˆ° time_point åˆ°è¾¾ * - å¦‚æœåœ¨ time_point åˆ°è¾¾å‰ `notify_*` è¢«è°ƒç”¨, å¹¶ä¸”æ­¤æ—¶ predicate() ä¸º true, åˆ™å”¤é†’å¹¶è¿”å› true * - å¦‚æœåœ¨ time_point åˆ°è¾¾å‰ `notify_*` è¢«è°ƒç”¨, ä½†æ­¤æ—¶ predicate() ä¸º false, åˆ™ç»§ç»­ç­‰å¾…(å¯èƒ½æ˜¯è™šå‡å”¤é†’) * - å¦‚æœç›´åˆ° time_point åˆ°è¾¾æ—¶ predicate() ä»ä¸º false, è¿”å› false(è¡¨ç¤ºè¶…æ—¶) * * ç®€è¦æ¥è¯´: * - `wait_until` è¿”å› true è¡¨ç¤ºæ¡ä»¶å˜é‡è¢«å”¤é†’å¹¶ä¸”æ¡ä»¶æˆç«‹ * - `wait_until` è¿”å› false è¡¨ç¤ºå·²è¶…æ—¶, ä¸”æ¡ä»¶ä»æœªæ»¡è¶³(å³è¶…æ—¶è§¦å‘ä»»åŠ¡) */ /// @brief A simple timer class class SimpleTimer { using clock = std::chrono::steady_clock; // å•è°ƒæ—¶é’Ÿ, ä¸å—ç³»ç»Ÿæ—¶é—´å˜åŒ–å½±å“ public: /// @brief Timer state enum class State : unsigned char { Stopped = 0, // åœæ­¢ Running = 1, // è¿è¡Œä¸­ Paused = 2, // æš‚åœ }; /// @brief Constructs a SimpleTimer with a given duration /// @tparam Rep Duration representation type (e.g., int, long) /// @tparam Period Duration unit type (e.g., seconds, milliseconds) /// @param interval The time interval /// @param one_shot If true, the timer will only trigger once template \u0026lt;typename Rep, typename Period\u0026gt; SimpleTimer(std::chrono::duration\u0026lt;Rep, Period\u0026gt; interval, bool one_shot = false) : interval_(interval), one_shot_(one_shot), state_(State::Stopped) { } /// @brief Constructs a SimpleTimer with a millisecond interval /// @param milliseconds The time interval in milliseconds /// @param one_shot If true, the timer will only trigger once explicit SimpleTimer(long long milliseconds, bool one_shot = false) : SimpleTimer(std::chrono::milliseconds(milliseconds), one_shot) // ä»£ç†åˆ°ä¸»æ„é€ å‡½æ•° { } /// @brief Constructs a SimpleTimer with a default interval of 10 seconds /// @param one_shot If true, the timer will only trigger once SimpleTimer(bool one_shot = false) : SimpleTimer(std::chrono::seconds(10), one_shot) // é»˜è®¤é—´éš”ä¸º10ç§’ { } /// @brief Destructor. Automatically stops the timer to clean up resources. ~SimpleTimer() { stop(); } // Delete copy constructor and copy assignment operator SimpleTimer(const SimpleTimer\u0026amp;) = delete; SimpleTimer\u0026amp; operator=(const SimpleTimer\u0026amp;) = delete; // Delete move constructor and move assignment operator SimpleTimer(SimpleTimer\u0026amp;\u0026amp;) = delete; SimpleTimer\u0026amp; operator=(SimpleTimer\u0026amp;\u0026amp;) = delete; /// @brief Starts the timer /// @tparam Func Callable object type /// @param f A callable object to be executed when the timer expires /// @note The timer task will be executed in a new thread template \u0026lt;typename Func\u0026gt; void start(Func\u0026amp;\u0026amp; f) { stop(); // ç¡®ä¿æ²¡æœ‰å…¶ä»–çº¿ç¨‹åœ¨è¿è¡Œ(æ›¿æ¢æ—§ä»»åŠ¡) state_ = State::Running; // è®¾ç½®çŠ¶æ€ä¸ºè¿è¡Œä¸­ auto task = std::move(std::forward\u0026lt;Func\u0026gt;(f)); // å®Œç¾è½¬å‘åå† move, æé«˜æ•ˆç‡ // ä½¿ç”¨ std::thread åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œå®šæ—¶å™¨ä»»åŠ¡ thread_ = std::thread([this, task]() mutable { std::unique_lock\u0026lt;std::mutex\u0026gt; lock(mutex_); auto next_time = clock::now() + interval_; while (true) { if (state_ == State::Stopped) { break; } while (state_ == State::Paused) { cv_.wait(lock, [this]() { return state_ != State::Paused; }); next_time = clock::now() + interval_; // é‡æ–°è®¡ç®—ä¸‹ä¸€æ¬¡è§¦å‘æ—¶é—´ } if (cv_.wait_until(lock, next_time, [this]() { return state_ != State::Running || interval_changed_; })) { if (interval_changed_) // interval_ä¿®æ”¹åç«‹å³ä½¿ç”¨æ–°é—´éš” { next_time = clock::now() + interval_; interval_changed_ = false; } continue; // è‹¥çŠ¶æ€ä¸æ˜¯ Running, ç»§ç»­å¾ªç¯åˆ¤æ–­; è‹¥æ˜¯ interval_ è¢«ä¿®æ”¹, åˆ™æ›´æ–° next_time å¹¶ç«‹å³è·³è¿‡ç­‰å¾… } lock.unlock(); // Timer å†…éƒ¨å¤„ç†å¼‚å¸¸, æ‰§è¡Œtaské‡åˆ°å¼‚å¸¸åç›´æ¥åœæ­¢timer try { task(); // æ‰§è¡Œä»»åŠ¡ } catch (const std::exception\u0026amp; e) { state_ = State::Stopped; // å‡ºç°å¼‚å¸¸æ—¶åœæ­¢å®šæ—¶å™¨ (ä¸èƒ½è°ƒç”¨stop()ä¼šæ­»é”) std::fprintf(stderr, \u0026#34;[SimpleTimer] Exception: %s\\n\u0026#34;, e.what()); } catch (...) { state_ = State::Stopped; // å‡ºç°å¼‚å¸¸æ—¶åœæ­¢å®šæ—¶å™¨ std::fprintf(stderr, \u0026#34;[SimpleTimer] Unknown exception occurred.\\n\u0026#34;); } lock.lock(); if (one_shot_) { state_ = State::Stopped; break; } next_time += interval_; // ç²¾ç¡®æ¨è¿›æ—¶é—´ç‚¹, é¿å…åå·® } }); } /// @brief Restarts the timer /// @tparam Func Callable object type /// @param f A callable object to be executed when the timer expires template \u0026lt;typename Func\u0026gt; void restart(Func\u0026amp;\u0026amp; f) { stop(); start(std::forward\u0026lt;Func\u0026gt;(f)); } /// @brief Stops the timer; waits for the current task to complete before fully stopping /// @note This method may block until the running task completes. void stop() { state_ = State::Stopped; cv_.notify_all(); // å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ if (thread_.joinable()) { thread_.join(); // ç­‰å¾…çº¿ç¨‹ç»“æŸ } } /// @brief Pauses the timer void pause() { if (state_ == State::Running) { state_ = State::Paused; } } /// @brief Resumes the timer if it was paused void resume() { if (state_ == State::Paused) { state_ = State::Running; cv_.notify_all(); // å”¤é†’æ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹ } } /// @brief Gets the current timer interval /// @return The interval in milliseconds std::chrono::milliseconds interval() const { return std::chrono::duration_cast\u0026lt;std::chrono::milliseconds\u0026gt;(interval_); } /// @brief Sets a new timer interval, takes effect immediately /// @param new_interval A duration representing the new interval template \u0026lt;typename Rep, typename Period\u0026gt; void set_interval(std::chrono::duration\u0026lt;Rep, Period\u0026gt; new_interval) { { std::lock_guard\u0026lt;std::mutex\u0026gt; lock(mutex_); interval_ = new_interval; interval_changed_ = true; // æ ‡è®°ä¸ºå·²æ”¹å˜ } cv_.notify_all(); // ç¡®ä¿çº¿ç¨‹èƒ½è·å–åˆ°æ–°çš„æ—¶é—´é—´éš” } /// @brief Sets a new timer interval, takes effect immediately /// @param milliseconds New interval in milliseconds void set_interval(long long milliseconds) { set_interval(std::chrono::milliseconds(milliseconds)); } /// @brief Gets the current state of the timer /// @return The state of the timer State state() const { return state_; } /// @brief Checks if the timer is currently running /// @return true if running, false otherwise bool is_running() const { return state_ == State::Running; } /// @brief Checks if the timer is currently paused /// @return true if paused, false otherwise bool is_paused() const { return state_ == State::Paused; } /// @brief Checks if the timer is currently stopped /// @return true if stopped, false otherwise bool is_stopped() const { return state_ == State::Stopped; } private: // å®šæ—¶å™¨é—´éš”, é»˜è®¤10ç§’ clock::duration interval_ = std::chrono::seconds(10); bool interval_changed_ = false; // æ—¶é—´é—´éš”æ˜¯å¦è¢«ä¿®æ”¹è¿‡ bool one_shot_ = false; // æ˜¯å¦åªè§¦å‘ä¸€æ¬¡ std::atomic\u0026lt;State\u0026gt; state_; // å®šæ—¶å™¨çŠ¶æ€ std::thread thread_; // å®šæ—¶å™¨çº¿ç¨‹ std::mutex mutex_; // äº’æ–¥é”, ç¡®ä¿çº¿ç¨‹å®‰å…¨ std::condition_variable cv_; // æ¡ä»¶å˜é‡, ç”¨äºæš‚åœå’Œæ¢å¤ }; #endif // SIMPLE_TIMER_H ","date":"2025-04-13T01:20:56+08:00","permalink":"https://abin-z.github.io/p/simpletimer/","title":"åŸºäºC++11çš„ç®€å•å®šæ—¶å™¨(SimpleTimer)"},{"content":"ä¸­æ–‡å­—ç¬¦ä¸²åœ¨msvcç¼–è¯‘å™¨ä¸‹å‡ºç°å¼‚å¸¸æŠ¥é”™ æˆ‘åœ¨å†™ä¸­æ–‡å•å…ƒæµ‹è¯•ç”¨ä¾‹,æœ‰ä»¥ä¸‹cppä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 TEST_CASE(\u0026#34;case insensitive test08\u0026#34;, \u0026#34;[inifile][case_insensitive]\u0026#34;) { ini::case_insensitive_inifile inif; // æ·»åŠ ä¸€äº›ä¸­æ–‡çš„æµ‹è¯• inif[\u0026#34;ä¸­æ–‡èŠ‚\u0026#34;][\u0026#34;ä¸­æ–‡é”®\u0026#34;] = \u0026#34;ä¸­æ–‡å€¼\u0026#34;; // æµ‹è¯•ä¸­æ–‡çš„å¤§å°å†™ä¸æ•æ„Ÿæ€§ï¼ˆå®é™…ä¸Šä¸­æ–‡æ²¡æœ‰å¤§å°å†™ï¼Œä½†æµ‹è¯•æ˜¯å¦å—å½±å“ï¼‰ CHECK(inif.contains(\u0026#34;ä¸­æ–‡èŠ‚\u0026#34;) == true); CHECK(inif.contains(\u0026#34;ä¸­æ–‡èŠ‚\u0026#34;, \u0026#34;ä¸­æ–‡é”®\u0026#34;) == true); CHECK(inif[\u0026#34;ä¸­æ–‡èŠ‚\u0026#34;][\u0026#34;ä¸­æ–‡é”®\u0026#34;].as\u0026lt;std::string\u0026gt;() == \u0026#34;ä¸­æ–‡å€¼\u0026#34;); // ä¿®æ”¹ä¸­æ–‡å€¼ inif[\u0026#34;ä¸­æ–‡èŠ‚\u0026#34;][\u0026#34;ä¸­æ–‡é”®\u0026#34;] = \u0026#34;æ–°çš„ä¸­æ–‡å€¼\u0026#34;; CHECK(inif[\u0026#34;ä¸­æ–‡èŠ‚\u0026#34;][\u0026#34;ä¸­æ–‡é”®\u0026#34;].as\u0026lt;std::string\u0026gt;() == \u0026#34;æ–°çš„ä¸­æ–‡å€¼\u0026#34;); // æµ‹è¯•ä¸å­˜åœ¨çš„ä¸­æ–‡é”® CHECK(inif.contains(\u0026#34;ä¸­æ–‡èŠ‚\u0026#34;, \u0026#34;ä¸å­˜åœ¨çš„é”®\u0026#34;) == false); // æµ‹è¯•ä¸­æ–‡é»˜è®¤å€¼ CHECK(inif.get(\u0026#34;ä¸­æ–‡èŠ‚\u0026#34;, \u0026#34;ä¸å­˜åœ¨çš„é”®\u0026#34;, \u0026#34;é»˜è®¤å€¼\u0026#34;).as\u0026lt;std::string\u0026gt;() == \u0026#34;é»˜è®¤å€¼\u0026#34;); } é‡åˆ°çš„é—®é¢˜: è¿™æ®µä»£ç æœ¬èº«å…¶å®æ²¡å•¥é—®é¢˜, åœ¨linuxä¸‹ä½¿ç”¨gccå’Œclangéƒ½å¯ä»¥é€šè¿‡ç¼–è¯‘, ä½†æ˜¯åœ¨msvcç¼–è¯‘å™¨ä¸‹å°±æœ‰ä»¥ä¸‹çš„ç¼–è¯‘é”™è¯¯:\né—®é¢˜åŸå› : é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ Windows ä¸‹çš„ MSVC é»˜è®¤ä½¿ç”¨æœ¬åœ°ç³»ç»Ÿä»£ç é¡µï¼ˆä¾‹å¦‚ GBK/936ï¼‰è¯»å–æºä»£ç æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ UTF-8ï¼Œè€Œä½ å†™çš„æºä»£ç ä¸­å«æœ‰ä¸­æ–‡å­—ç¬¦ï¼ˆUTF-8 ç¼–ç ï¼‰ã€‚MSVC åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ç”¨æœ¬åœ°ä»£ç é¡µè§£é‡Š UTF-8 å†…å®¹ï¼Œå°±ä¼šï¼š\né”™è¯¯åœ°å°† UTF-8 å­—èŠ‚å½“ä½œ GBK è§£æï¼Œå¯¼è‡´ä¸­æ–‡ä¹±ç  æŸäº› UTF-8 å­—èŠ‚ç»„åˆä¸åˆæ³•ï¼Œä¼šè¢«å½“æˆéæ³•å­—ç¬¦æˆ–æ¢è¡Œç¬¦å¤„ç† è¿™äº›éæ³•å­—ç¬¦ä¸€æ—¦å‡ºç°åœ¨å­—ç¬¦ä¸²ã€å®ã€ç”šè‡³æ ‡è¯†ç¬¦ä¸­ï¼Œå°±ä¼šå¼•å‘å„ç§æŠ¥é”™ ä¸ºä»€ä¹ˆ Linux å’Œ GCC/Clang æ²¡é—®é¢˜ï¼Ÿ\nGCC å’Œ Clang é»˜è®¤å°±æ˜¯æŒ‰ UTF-8 è¯»å–æºä»£ç æ–‡ä»¶ï¼Œå°¤å…¶æ˜¯åœ¨ UTF-8 ç¯å¢ƒä¸‹ï¼ˆæ¯”å¦‚å¤§å¤šæ•° Linux ç³»ç»Ÿï¼‰ã€‚æ‰€ä»¥å®ƒä»¬ä¸ä¼šæŠŠ UTF-8 ä¸­çš„åˆæ³•å­—ç¬¦è¯¯è§£ä¸ºéæ³•å­—ç¬¦æˆ–ä¹±ç ï¼Œè‡ªç„¶ä¸ä¼šå‡ºé”™ã€‚\nè§£å†³æ–¹æ¡ˆ æ ¸å¿ƒç‚¹: åªéœ€è¦è®©msvcèƒ½æŒ‰æ­£ç¡®çš„encodingè¯»å–æºæ–‡ä»¶å³å¯.\næ–¹å¼1: æ˜ç¡®å‘Šè¯‰msvcï¼Œä½¿ç”¨ UTF-8 è¯»å–ç¼–è¯‘æºæ–‡ä»¶, ä½¿ç”¨ç¼–è¯‘å‚æ•°/utf-8, æ¯”å¦‚åœ¨cmakeä¸­å¯ä»¥æ·»åŠ ä¸€ä¸‹å†…å®¹:\n1 2 3 4 # å¦‚æœæ˜¯ MSVC ç¼–è¯‘å™¨ï¼Œè®¾ç½®æºæ–‡ä»¶ä¸º UTF-8 ç¼–ç  if (MSVC) add_compile_options(\u0026#34;/utf-8\u0026#34;) endif() è¿™è¡Œä»£ç ä¼šä¸º MSVC ç¼–è¯‘å™¨æ·»åŠ  /utf-8 é€‰é¡¹ï¼ŒæŒ‡ç¤º MSVC ä½¿ç”¨ UTF-8 ç¼–ç æ¥è¯»å–å’Œå¤„ç†æºæ–‡ä»¶ä¸­çš„å­—ç¬¦ã€‚\næ–¹å¼2: å°†æºç æ–‡ä»¶è½¬ä¸ºUTF-8 with BOM, vscodeå’Œnotepad++éƒ½å¯ä»¥è½¬æ¢, è½¬æ¢åå°±èƒ½æˆåŠŸè¯†åˆ«å¹¶æŒ‰ç…§utf-8è§£ææºæ–‡ä»¶.(WindowsçœŸæ˜¯å¤Ÿæ— è¯­çš„, ä¸å¸¦BOMçš„UTF-8ä¸è¯†åˆ«)\næœ€æ¨èçš„è§£å†³æ–¹æ¡ˆï¼š\nç¡®ä¿æ‰€æœ‰æºä»£ç æ–‡ä»¶ä¿å­˜ä¸º UTF-8 ç¼–ç ï¼ˆæ—  BOMï¼‰ã€‚ åœ¨ CMakeLists.txt ä¸­æ·»åŠ  add_compile_options(\u0026quot;/utf-8\u0026quot;)ï¼Œå‘Šè¯‰ MSVC ä½¿ç”¨ UTF-8 ç¼–ç ã€‚ å¦‚æœä½ ä½¿ç”¨ Visual Studioï¼Œè®¾ç½®é»˜è®¤ä¿å­˜ä¸º UTF-8ã€‚ tipsï¼šè¿™ä¸ªé—®é¢˜å›°æ‰°æˆ‘å¾ˆå¤šå¹´äº†ï¼Œä¸€ç›´æ²¡ææ˜ç™½ï¼Œæ‰€ä»¥ç®€å•è®°å½•ä¸‹(æˆ–è®¸ä¹Ÿæ˜¯æˆ‘å¤ªèœäº†ğŸ™ˆ)\n","date":"2025-04-10T19:39:24+08:00","permalink":"https://abin-z.github.io/p/msvc%E4%B8%8B%E4%B8%AD%E6%96%87%E5%AD%97%E7%AC%A6%E6%8A%A5%E9%94%99%E8%AE%B0%E5%BD%95/","title":"msvcä¸‹ä¸­æ–‡å­—ç¬¦æŠ¥é”™è®°å½•"},{"content":"è¿™æ˜¯æˆ‘çš„ç¬¬äºŒä¸ªåšå®¢\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 #include \u0026lt;unordered_map\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;cctype\u0026gt; // è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•° struct CaseInsensitiveHash { std::size_t operator()(const std::string \u0026amp;s) const { std::string lower_s = s; std::transform(lower_s.begin(), lower_s.end(), lower_s.begin(), [](unsigned char c) { return std::tolower(c); }); return std::hash\u0026lt;std::string\u0026gt;{}(lower_s); } }; // è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•° struct CaseInsensitiveEqual { bool operator()(const std::string \u0026amp;lhs, const std::string \u0026amp;rhs) const { return lhs.size() == rhs.size() \u0026amp;\u0026amp; std::equal(lhs.begin(), lhs.end(), rhs.begin(), [](unsigned char a, unsigned char b) { return std::tolower(a) == std::tolower(b); }); } }; // field ç±»å®šä¹‰ class field { public: using comment_container = std::vector\u0026lt;std::string\u0026gt;; }; // å…ˆå£°æ˜ basic_inifile template \u0026lt;typename Hash, typename Equal\u0026gt; class basic_inifile; // ini sectionï¼ˆæ”¯æŒå¤§å°å†™ä¸æ•æ„Ÿé”®ï¼‰ template \u0026lt;typename Hash, typename Equal\u0026gt; class basic_section { // å…è®¸ basic_inifile è®¿é—® private æˆå‘˜ template \u0026lt;typename H, typename E\u0026gt; friend class basic_inifile; using DataContainer = std::unordered_map\u0026lt;std::string, field, Hash, Equal\u0026gt;; public: using comment_container = field::comment_container; using key_type = typename DataContainer::key_type; using mapped_type = typename DataContainer::mapped_type; using value_type = typename DataContainer::value_type; using size_type = typename DataContainer::size_type; using difference_type = typename DataContainer::difference_type; using iterator = typename DataContainer::iterator; using const_iterator = typename DataContainer::const_iterator; // é»˜è®¤æ„é€  basic_section() = default; // é»˜è®¤ææ„å‡½æ•° ~basic_section() = default; // é»˜è®¤ç§»åŠ¨æ„é€ å‡½æ•° basic_section(basic_section \u0026amp;\u0026amp;) noexcept = default; // é»˜è®¤ç§»åŠ¨èµ‹å€¼å‡½æ•° basic_section \u0026amp;operator=(basic_section \u0026amp;\u0026amp;) noexcept = default; private: DataContainer data_; // å­˜å‚¨é”®å€¼å¯¹ }; // ini æ–‡ä»¶ç±»ï¼Œå­˜å‚¨å¤šä¸ª section template \u0026lt;typename Hash, typename Equal\u0026gt; class basic_inifile { public: using section = basic_section\u0026lt;Hash, Equal\u0026gt;; // åœ¨ basic_inifile å†…éƒ¨å®šä¹‰ section åˆ«å using SectionContainer = std::unordered_map\u0026lt;std::string, section, Hash, Equal\u0026gt;; using key_type = typename SectionContainer::key_type; using mapped_type = typename SectionContainer::mapped_type; using value_type = typename SectionContainer::value_type; using size_type = typename SectionContainer::size_type; using difference_type = typename SectionContainer::difference_type; using iterator = typename SectionContainer::iterator; using const_iterator = typename SectionContainer::const_iterator; // é»˜è®¤æ„é€  basic_inifile() = default; // é»˜è®¤ææ„ ~basic_inifile() = default; // é»˜è®¤ç§»åŠ¨æ„é€  basic_inifile(basic_inifile \u0026amp;\u0026amp;) noexcept = default; // é»˜è®¤ç§»åŠ¨èµ‹å€¼ basic_inifile \u0026amp;operator=(basic_inifile \u0026amp;\u0026amp;) noexcept = default; // æ·»åŠ ä¸€ä¸ª section section \u0026amp;add_section(const std::string \u0026amp;name) { return sections_[name]; // å¦‚æœ name å­˜åœ¨ï¼Œè¿”å›å·²æœ‰çš„ sectionï¼Œå¦åˆ™åˆ›å»ºæ–° section } // è·å–ä¸€ä¸ª sectionï¼ˆå¯å˜ç‰ˆæœ¬ï¼‰ section *get_section(const std::string \u0026amp;name) { auto it = sections_.find(name); return it != sections_.end() ? \u0026amp;it-\u0026gt;second : nullptr; } // è·å–ä¸€ä¸ª sectionï¼ˆåªè¯»ç‰ˆæœ¬ï¼‰ const section *get_section(const std::string \u0026amp;name) const { auto it = sections_.find(name); return it != sections_.end() ? \u0026amp;it-\u0026gt;second : nullptr; } private: SectionContainer sections_; // å­˜å‚¨å¤šä¸ª section }; // æä¾›é»˜è®¤å¤§å°å†™ä¸æ•æ„Ÿçš„ç±»å‹åˆ«åï¼ˆç±»ä¼¼ std::stringï¼‰ using section = basic_section\u0026lt;CaseInsensitiveHash, CaseInsensitiveEqual\u0026gt;; using inifile = basic_inifile\u0026lt;CaseInsensitiveHash, CaseInsensitiveEqual\u0026gt;; #include \u0026lt;iostream\u0026gt; int main() { inifile ini; ini.add_section(\u0026#34;General\u0026#34;); ini.add_section(\u0026#34;Database\u0026#34;); // æµ‹è¯•å¤§å°å†™ä¸æ•æ„Ÿ if (ini.get_section(\u0026#34;general\u0026#34;)) { std::cout \u0026lt;\u0026lt; \u0026#34;Section \u0026#39;General\u0026#39; exists (case insensitive)\u0026#34; \u0026lt;\u0026lt; std::endl; } if (ini.get_section(\u0026#34;DATABASE\u0026#34;)) { std::cout \u0026lt;\u0026lt; \u0026#34;Section \u0026#39;Database\u0026#39; exists (case insensitive)\u0026#34; \u0026lt;\u0026lt; std::endl; } return 0; } ","date":"2025-04-02T21:38:50+08:00","permalink":"https://abin-z.github.io/p/secondblog/","title":"SecondBlog"},{"content":"ä½ å¥½, ä¸–ç•Œ è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 #include \u0026lt;inifile/inifile.h\u0026gt; /// @brief Specialization of INIFILE_TYPE_CONVERTER for std::vector\u0026lt;T\u0026gt;. /// @tparam T The type of elements in the vector. template \u0026lt;typename T\u0026gt; struct INIFILE_TYPE_CONVERTER\u0026lt;std::vector\u0026lt;T\u0026gt;\u0026gt; { /// @brief Encodes a vector into a delimited string. void encode(const std::vector\u0026lt;T\u0026gt; \u0026amp;vec, std::string \u0026amp;value) { constexpr char delimiter = \u0026#39;,\u0026#39;; // Delimiter used to separate elements in the string std::string encoded_item; for (const auto \u0026amp;v : vec) { INIFILE_TYPE_CONVERTER\u0026lt;T\u0026gt; conv; conv.encode(v, encoded_item); // Encode each element of the vector value += encoded_item + delimiter; // Append the encoded element and delimiter } if (value.back() == delimiter) value.pop_back(); // Remove the trailing delimiter } /// @brief Decodes a delimited string into a vector. void decode(const std::string \u0026amp;value, std::vector\u0026lt;T\u0026gt; \u0026amp;vec) { constexpr char delimiter = \u0026#39;,\u0026#39;; // Delimiter used to separate elements in the string std::vector\u0026lt;std::string\u0026gt; info = ini::split(value, delimiter); // Split the string T encoded_item; for (const auto \u0026amp;v : info) { INIFILE_TYPE_CONVERTER\u0026lt;T\u0026gt; conv; conv.decode(v, encoded_item); // Decode each part of the string vec.emplace_back(std::move(encoded_item)); // Add the decoded element to the vector } } }; /// @brief Print the contents of a vector to the console. template \u0026lt;typename T\u0026gt; void print_vector(const std::vector\u0026lt;T\u0026gt; \u0026amp;vec) { std::cout \u0026lt;\u0026lt; \u0026#34;[\u0026#34;; for (size_t i = 0; i \u0026lt; vec.size(); ++i) { std::cout \u0026lt;\u0026lt; vec[i]; if (i != vec.size() - 1) { std::cout \u0026lt;\u0026lt; \u0026#34;, \u0026#34;; } } std::cout \u0026lt;\u0026lt; \u0026#34;]\u0026#34; \u0026lt;\u0026lt; std::endl; } int main() { ini::inifile inif; // Create an INI file object // Define vectors of different types std::vector\u0026lt;int\u0026gt; vec1 = {1, 2, 3, 4, 5}; std::vector\u0026lt;double\u0026gt; vec2 = {1.1111, 2.2222, 3.3333, 4.4444, 5.5555}; std::vector\u0026lt;std::string\u0026gt; vec3 = {\u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34;, \u0026#34;ccc\u0026#34;, \u0026#34;ddd\u0026#34;, \u0026#34;eee\u0026#34;}; // Set different types of vectors in the INI file object inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;] = vec1; inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;] = vec2; inif[\u0026#34;section\u0026#34;][\u0026#34;key3\u0026#34;] = vec3; // Get different vectors from INI file object std::vector\u0026lt;int\u0026gt; v1 = inif[\u0026#34;section\u0026#34;][\u0026#34;key1\u0026#34;]; std::vector\u0026lt;double\u0026gt; v2 = inif[\u0026#34;section\u0026#34;][\u0026#34;key2\u0026#34;]; std::vector\u0026lt;std::string\u0026gt; v3 = inif[\u0026#34;section\u0026#34;][\u0026#34;key3\u0026#34;]; // Print the vectors to the console print_vector(v1); print_vector(v2); print_vector(v3); // Print the entire INI file content as a string std::cout \u0026lt;\u0026lt; \u0026#34;ini info:\\n\u0026#34; \u0026lt;\u0026lt; inif.to_string() \u0026lt;\u0026lt; std::endl; return 0; // Exit the program } ","date":"2025-04-01T23:37:26+08:00","permalink":"https://abin-z.github.io/p/firstblog/","title":"Firstblog"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;â€”\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\nâ€” Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code A B C D E F Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies, sapien non euismod aliquam, dui ligula tincidunt odio, at accumsan nulla sapien eget ex. Proin eleifend dictum ipsum, non euismod ipsum pulvinar et. Vivamus sollicitudin, quam in pulvinar aliquam, metus elit pretium purus Proin sit amet velit nec enim imperdiet vehicula. Ut bibendum vestibulum quam, eu egestas turpis gravida nec Sed scelerisque nec turpis vel viverra. Vivamus vitae pretium sapien Code Blocks Code block with backticks 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Diff code block 1 2 3 4 5 [dependencies.bevy] git = \u0026#34;https://github.com/bevyengine/bevy\u0026#34; rev = \u0026#34;11f52b8c72fc3a568e8bb4a4cd1f3eb025ac2e13\u0026#34; - features = [\u0026#34;dynamic\u0026#34;] + features = [\u0026#34;jpeg\u0026#34;, \u0026#34;dynamic\u0026#34;] List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements â€” abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL + ALT + Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nHyperlinked image The above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2024-03-11T00:00:00Z","image":"https://abin-z.github.io/p/markdown-syntax-guide/pawel-czerwinski-8uZPynIu-rQ-unsplash_hu_e95a4276bf860a84.jpg","permalink":"https://abin-z.github.io/p/markdown-syntax-guide/","title":"Markdown Syntax Guide"},{"content":"Gitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ gitåŸç†å›¾è§£\ngitæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ, ç‰ˆæœ¬æ§åˆ¶æ˜¯ä¸€ç§è®°å½•ä¸€ä¸ªæˆ–è‹¥å¹²æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿã€‚\nåœ¨æœ¬ä¹¦æ‰€å±•ç¤ºçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯¹ä¿å­˜ç€è½¯ä»¶æºä»£ç çš„æ–‡ä»¶ä½œç‰ˆæœ¬æ§åˆ¶ï¼Œä½†å®é™…ä¸Šï¼Œå¯ä»¥å¯¹ä»»ä½•ç±»å‹çš„æ–‡ä»¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚\nå¿«é€Ÿä¸Šæ‰‹: https://www.yiibai.com/git/git_basic_concepts.html\nGitä½¿ç”¨é“ä»¤ åˆ‡æ¢åˆ†æ”¯å‰å…ˆæäº¤æœ¬åœ°çš„ä¿®æ”¹ ä»£ç åŠæ—¶æäº¤, åªè¦æäº¤è¿‡äº†å°±ä¸ä¼šä¸¢ åˆ‡å‹¿åˆ é™¤ .git ç›®å½• ä¸€. ç‰ˆæœ¬æ§åˆ¶åˆ†ç±» æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ è®¸å¤šäººä¹ æƒ¯ç”¨å¤åˆ¶æ•´ä¸ªé¡¹ç›®ç›®å½•çš„æ–¹å¼æ¥ä¿å­˜ä¸åŒçš„ç‰ˆæœ¬ï¼Œæˆ–è®¸è¿˜ä¼šæ”¹ååŠ ä¸Šå¤‡ä»½æ—¶é—´ä»¥ç¤ºåŒºåˆ«ã€‚ è¿™ä¹ˆåšå”¯ä¸€çš„å¥½å¤„å°±æ˜¯ç®€å•ï¼Œä½†æ˜¯ç‰¹åˆ«å®¹æ˜“çŠ¯é”™ã€‚ æœ‰æ—¶å€™ä¼šæ··æ·†æ‰€åœ¨çš„å·¥ä½œç›®å½•ï¼Œä¸€ä¸å°å¿ƒä¼šå†™é”™æ–‡ä»¶æˆ–è€…è¦†ç›–æ„æƒ³å¤–çš„æ–‡ä»¶ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œäººä»¬å¾ˆä¹…ä»¥å‰å°±å¼€å‘äº†è®¸å¤šç§æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¤§å¤šéƒ½æ˜¯é‡‡ç”¨æŸç§ç®€å•çš„æ•°æ®åº“æ¥è®°å½•æ–‡ä»¶çš„å†æ¬¡æ›´æ–°å·®å¼‚ã€‚\nå…¶ä¸­æœ€æµè¡Œçš„ä¸€ç§å«åš RCSï¼Œç°ä»Šè®¸å¤šè®¡ç®—æœºç³»ç»Ÿä¸Šéƒ½è¿˜çœ‹å¾—åˆ°å®ƒçš„è¸ªå½±ã€‚ ç”šè‡³åœ¨æµè¡Œçš„ Mac OS X ç³»ç»Ÿä¸Šå®‰è£…äº†å¼€å‘è€…å·¥å…·åŒ…ä¹‹åï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ rcs å‘½ä»¤ã€‚ å®ƒçš„å·¥ä½œåŸç†æ˜¯åœ¨ç¡¬ç›˜ä¸Šä¿å­˜è¡¥ä¸é›†(è¡¥ä¸æ˜¯æŒ‡æ–‡ä»¶ä¿®è®¢å‰åçš„å˜åŒ–)ï¼›é€šè¿‡åº”ç”¨æ‰€æœ‰çš„è¡¥ä¸ï¼Œå¯ä»¥é‡æ–°è®¡ç®—å‡ºå„ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶å†…å®¹ã€‚\né›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ ä»£è¡¨ä½œ: SVN\næ¥ä¸‹æ¥äººä»¬åˆé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•è®©åœ¨ä¸åŒç³»ç»Ÿä¸Šçš„å¼€å‘è€…ååŒå·¥ä½œï¼Ÿ äºæ˜¯ï¼Œé›†ä¸­åŒ–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ(Centralized Version Control Systemsï¼Œç®€ç§° CVCS)åº”è¿è€Œç”Ÿã€‚ è¿™ç±»ç³»ç»Ÿï¼Œè¯¸å¦‚ CVSã€Subversion(SVN) ä»¥åŠ Perforce ç­‰ï¼Œéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„é›†ä¸­ç®¡ç†çš„æœåŠ¡å™¨ï¼Œä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®è®¢ç‰ˆæœ¬ï¼Œè€ŒååŒå·¥ä½œçš„äººä»¬éƒ½é€šè¿‡å®¢æˆ·ç«¯è¿åˆ°è¿™å°æœåŠ¡å™¨ï¼Œå–å‡ºæœ€æ–°çš„æ–‡ä»¶æˆ–è€…æäº¤æ›´æ–°ã€‚å¤šå¹´ä»¥æ¥ï¼Œè¿™å·²æˆä¸ºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„æ ‡å‡†åšæ³•ã€‚\nè¿™ç§åšæ³•å¸¦æ¥äº†è®¸å¤šå¥½å¤„ï¼Œç‰¹åˆ«æ˜¯ç›¸è¾ƒäºè€å¼çš„æœ¬åœ° VCS æ¥è¯´ã€‚ ç°åœ¨ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šçœ‹åˆ°é¡¹ç›®ä¸­çš„å…¶ä»–äººæ­£åœ¨åšäº›ä»€ä¹ˆã€‚ è€Œç®¡ç†å‘˜ä¹Ÿå¯ä»¥è½»æ¾æŒæ§æ¯ä¸ªå¼€å‘è€…çš„æƒé™ï¼Œå¹¶ä¸”ç®¡ç†ä¸€ä¸ª CVCS è¦è¿œæ¯”åœ¨å„ä¸ªå®¢æˆ·ç«¯ä¸Šç»´æŠ¤æœ¬åœ°æ•°æ®åº“æ¥å¾—è½»æ¾å®¹æ˜“ã€‚\näº‹åˆ†ä¸¤é¢ï¼Œæœ‰å¥½æœ‰åã€‚ è¿™ä¹ˆåšæœ€æ˜¾è€Œæ˜“è§çš„ç¼ºç‚¹æ˜¯ä¸­å¤®æœåŠ¡å™¨çš„å•ç‚¹æ•…éšœã€‚ å¦‚æœå®•æœºä¸€å°æ—¶ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸€å°æ—¶å†…ï¼Œè°éƒ½æ— æ³•æäº¤æ›´æ–°ï¼Œä¹Ÿå°±æ— æ³•ååŒå·¥ä½œã€‚ å¦‚æœä¸­å¿ƒæ•°æ®åº“æ‰€åœ¨çš„ç£ç›˜å‘ç”ŸæŸåï¼Œåˆæ²¡æœ‰åšæ°å½“å¤‡ä»½ï¼Œæ¯«æ— ç–‘é—®æ‚¨å°†ä¸¢å¤±æ‰€æœ‰æ•°æ®â€”â€”åŒ…æ‹¬é¡¹ç›®çš„æ•´ä¸ªå˜æ›´å†å²ï¼Œåªå‰©ä¸‹äººä»¬åœ¨å„è‡ªæœºå™¨ä¸Šä¿ç•™çš„å•ç‹¬å¿«ç…§ã€‚æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¹Ÿå­˜åœ¨ç±»ä¼¼é—®é¢˜ï¼Œåªè¦æ•´ä¸ªé¡¹ç›®çš„å†å²è®°å½•è¢«ä¿å­˜åœ¨å•ä¸€ä½ç½®ï¼Œå°±æœ‰ä¸¢å¤±æ‰€æœ‰å†å²æ›´æ–°è®°å½•çš„é£é™©ã€‚\nåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ ä»£è¡¨ä½œæ˜¯git\näºæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ(Distributed Version Control Systemï¼Œç®€ç§° DVCS)é¢ä¸–äº†ã€‚ åœ¨è¿™ç±»ç³»ç»Ÿä¸­ï¼Œåƒ Gitã€Mercurialã€Bazaar ä»¥åŠ Darcs ç­‰ï¼Œå®¢æˆ·ç«¯å¹¶ä¸åªæå–æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ï¼Œè€Œæ˜¯æŠŠä»£ç ä»“åº“å®Œæ•´åœ°é•œåƒä¸‹æ¥ã€‚ è¿™ä¹ˆä¸€æ¥ï¼Œä»»ä½•ä¸€å¤„ååŒå·¥ä½œç”¨çš„æœåŠ¡å™¨å‘ç”Ÿæ•…éšœï¼Œäº‹åéƒ½å¯ä»¥ç”¨ä»»ä½•ä¸€ä¸ªé•œåƒå‡ºæ¥çš„æœ¬åœ°ä»“åº“æ¢å¤ã€‚ å› ä¸ºæ¯ä¸€æ¬¡çš„å…‹éš†æ“ä½œï¼Œå®é™…ä¸Šéƒ½æ˜¯ä¸€æ¬¡å¯¹ä»£ç ä»“åº“çš„å®Œæ•´å¤‡ä»½ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º:\næ›´è¿›ä¸€æ­¥ï¼Œè®¸å¤šè¿™ç±»ç³»ç»Ÿéƒ½å¯ä»¥æŒ‡å®šå’Œè‹¥å¹²ä¸åŒçš„è¿œç«¯ä»£ç ä»“åº“è¿›è¡Œäº¤äº’ã€‚è—‰æ­¤ï¼Œä½ å°±å¯ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œåˆ†åˆ«å’Œä¸åŒå·¥ä½œå°ç»„çš„äººç›¸äº’åä½œã€‚å¯ä»¥æ ¹æ®éœ€è¦è®¾å®šä¸åŒçš„åä½œæµç¨‹ï¼Œæ¯”å¦‚å±‚æ¬¡æ¨¡å‹å¼çš„å·¥ä½œæµï¼Œè€Œè¿™åœ¨ä»¥å‰çš„é›†ä¸­å¼ç³»ç»Ÿä¸­æ˜¯æ— æ³•å®ç°çš„ã€‚\nåˆ†å¸ƒå¼ç›¸æ¯”äºé›†ä¸­å¼çš„æœ€å¤§åŒºåˆ«åœ¨äºå¼€å‘è€…å¯ä»¥æäº¤åˆ°æœ¬åœ°ï¼Œæ¯ä¸ªå¼€å‘è€…é€šè¿‡å…‹éš†ï¼ˆgit cloneï¼‰ï¼Œåœ¨æœ¬åœ°æœºå™¨ä¸Šæ‹·è´ä¸€ä¸ªå®Œæ•´çš„Gitä»“åº“ã€‚\näºŒ. gitçš„ä¸‹è½½å®‰è£…ä¸åŸºæœ¬é…ç½®: gitå®‰è£…é…ç½®: https://www.yiibai.com/git/git_environment.html\n1. gitä½¿ç”¨å‰çš„é…ç½® Git è‡ªå¸¦ä¸€ä¸ª git config çš„å·¥å…·æ¥å¸®åŠ©è®¾ç½®æ§åˆ¶ Git å¤–è§‚å’Œè¡Œä¸ºçš„é…ç½®å˜é‡ã€‚ è¿™äº›å˜é‡å­˜å‚¨åœ¨ä¸‰ä¸ªä¸åŒçš„ä½ç½®ï¼š\n/etc/gitconfig æ–‡ä»¶: åŒ…å«ç³»ç»Ÿä¸Šæ¯ä¸€ä¸ªç”¨æˆ·åŠä»–ä»¬ä»“åº“çš„é€šç”¨é…ç½®ã€‚ å¦‚æœä½¿ç”¨å¸¦æœ‰ --system é€‰é¡¹çš„ git config æ—¶ï¼Œå®ƒä¼šä»æ­¤æ–‡ä»¶è¯»å†™é…ç½®å˜é‡ã€‚\n~/.gitconfig æˆ– ~/.config/git/config æ–‡ä»¶ï¼šåªé’ˆå¯¹å½“å‰ç”¨æˆ·ã€‚ å¯ä»¥ä¼ é€’--global é€‰é¡¹è®© Git è¯»å†™æ­¤æ–‡ä»¶ã€‚\nå½“å‰ä½¿ç”¨ä»“åº“çš„ Git ç›®å½•ä¸­çš„ config æ–‡ä»¶(å°±æ˜¯ .git/config)ï¼šé’ˆå¯¹è¯¥ä»“åº“ã€‚\næ¯ä¸€ä¸ªçº§åˆ«è¦†ç›–ä¸Šä¸€çº§åˆ«çš„é…ç½®ï¼Œæ‰€ä»¥ .git/config çš„é…ç½®å˜é‡ä¼šè¦†ç›– /etc/gitconfig ä¸­çš„é…ç½®å˜é‡ã€‚\nåœ¨ Windows ç³»ç»Ÿä¸­ï¼ŒGit ä¼šæŸ¥æ‰¾ $HOME ç›®å½•ä¸‹(ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ C:\\Users\\$USER)çš„ .gitconfig æ–‡ä»¶ã€‚ Git åŒæ ·ä¹Ÿä¼šå¯»æ‰¾ /etc/gitconfig æ–‡ä»¶ï¼Œä½†åªé™äº MSys çš„æ ¹ç›®å½•ä¸‹ï¼Œå³å®‰è£… Git æ—¶æ‰€é€‰çš„ç›®æ ‡ä½ç½®ã€‚\n2. ç”¨æˆ·ä¿¡æ¯ å½“å®‰è£…å®Œ Git åº”è¯¥åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è®¾ç½®ç”¨æˆ·åç§°ä¸é‚®ä»¶åœ°å€ã€‚è¿™æ ·åšå¾ˆé‡è¦ï¼Œå› ä¸ºæ¯ä¸€ä¸ª Git çš„æäº¤éƒ½ä¼šä½¿ç”¨è¿™äº›ä¿¡æ¯ï¼Œå¹¶ä¸”å®ƒä¼šå†™å…¥åˆ°æ¯ä¸€æ¬¡æäº¤ä¸­ï¼Œä¸å¯æ›´æ”¹ï¼š(è¿™ä¸ªå¯ä»¥æ˜¯ä¸å­˜åœ¨çš„é‚®ç®±ï¼Œä½†æ˜¯å°±æ˜¯å¿…é¡»è¦æœ‰)\n1 2 3 4 5 6 $ git config --global user.name \u0026#34;abin\u0026#34; $ git config --global user.email abin_z@163.com # ä¸ä½¿ç”¨ --global å‚æ•°å°±æ˜¯è®¾ç½®å½“å‰é¡¹ç›®çš„gité…ç½® $ git config user.name \u0026#34;abin\u0026#34; $ git config user.email abin_z@163.com å†æ¬¡å¼ºè°ƒï¼Œå¦‚æœä½¿ç”¨äº† --global é€‰é¡¹ï¼Œé‚£ä¹ˆè¯¥å‘½ä»¤åªéœ€è¦è¿è¡Œä¸€æ¬¡ï¼Œå› ä¸ºä¹‹åæ— è®ºä½ åœ¨è¯¥ç³»ç»Ÿä¸Šåšä»»ä½•äº‹æƒ…ï¼Œ Git éƒ½ä¼šä½¿ç”¨è¿™äº›ä¿¡æ¯ã€‚ å½“ä½ æƒ³é’ˆå¯¹ç‰¹å®šé¡¹ç›®ä½¿ç”¨ä¸åŒçš„ç”¨æˆ·åç§°ä¸é‚®ä»¶åœ°å€æ—¶ï¼Œå¯ä»¥åœ¨é‚£ä¸ªé¡¹ç›®ç›®å½•ä¸‹è¿è¡Œä¸ä½¿ç”¨ --global é€‰é¡¹çš„å‘½ä»¤æ¥é…ç½®ã€‚\nä¿®æ”¹åå¯ä»¥åœ¨æ–‡ä»¶ä¸­æŸ¥çœ‹é…ç½®: C:\\Users\\Abin\\.gitconfig (windowsä¸‹)\n3. æ£€æŸ¥é…ç½®ä¿¡æ¯ å¦‚æœæƒ³è¦æ£€æŸ¥ä½ çš„é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ git config --list å‘½ä»¤æ¥åˆ—å‡ºæ‰€æœ‰ Git å½“æ—¶èƒ½æ‰¾åˆ°çš„é…ç½®ã€‚\næˆ–è€…æ˜¯ä½¿ç”¨git config -l æŸ¥çœ‹å½“å‰é…ç½®\n1 2 3 4 5 6 7 8 yiibai@ubuntu:~$ git config --list user.name=maxsu user.email=maxsu@yiibai.com color.status=auto color.branch=auto color.interactive=auto color.diff=auto ... ä¸Šé¢çš„è¾“å‡ºç»“æœä¸­ï¼Œå¯èƒ½ä¼šçœ‹åˆ°é‡å¤çš„å˜é‡åï¼Œå› ä¸º Git ä¼šä»ä¸åŒçš„æ–‡ä»¶ä¸­è¯»å–åŒä¸€ä¸ªé…ç½®(ä¾‹å¦‚ï¼š/etc/gitconfig ä¸ ~/.gitconfig)ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼ŒGit ä¼šä½¿ç”¨å®ƒæ‰¾åˆ°çš„æ¯ä¸€ä¸ªå˜é‡çš„æœ€åä¸€ä¸ªé…ç½®ã€‚\nå¯ä»¥é€šè¿‡è¾“å…¥ git config \u0026lt;key\u0026gt;ï¼š æ¥æ£€æŸ¥ Git çš„æŸä¸€é¡¹é…ç½®ã€‚\n1 2 3 4 5 yiibai@ubuntu:~$ git config user.name maxsu yiibai@ubuntu:~$ git config user.email maxsu@yiibai.com yiibai@ubuntu:~$ 4. è·å–å¸®åŠ© è‹¥åœ¨ä½¿ç”¨ Git æ—¶éœ€è¦è·å–å¸®åŠ©ï¼Œæœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥æ‰¾åˆ° Git å‘½ä»¤çš„ä½¿ç”¨æ‰‹å†Œï¼š\n1 2 3 $ git help \u0026lt;verb\u0026gt; $ git \u0026lt;verb\u0026gt; --help $ man git-\u0026lt;verb\u0026gt; ä¾‹å¦‚ï¼Œè¦æƒ³è·å¾— config å‘½ä»¤çš„æ‰‹å†Œï¼Œæ‰§è¡Œ\n1 $ git help config è¿™äº›å‘½ä»¤å¾ˆæ£’ï¼Œå› ä¸ºéšæ—¶éšåœ°å¯ä»¥ä½¿ç”¨è€Œæ— éœ€è”ç½‘ã€‚å¦‚æœä½ è§‰å¾—æ‰‹å†Œæˆ–è€…æœ¬ä¹¦çš„å†…å®¹è¿˜ä¸å¤Ÿç”¨ï¼Œä½ å¯ä»¥å°è¯•åœ¨ Freenode IRC æœåŠ¡å™¨( irc.freenode.net )çš„ #git æˆ– #github é¢‘é“å¯»æ±‚å¸®åŠ©ã€‚è¿™äº›é¢‘é“ç»å¸¸æœ‰ä¸Šç™¾äººåœ¨çº¿ï¼Œä»–ä»¬éƒ½ç²¾é€š Git å¹¶ä¸”ä¹äºåŠ©äººã€‚\n5. ä¸ºå¸¸ç”¨æŒ‡ä»¤è®¾ç½®åˆ«å æœ‰äº›å¸¸ç”¨çš„æŒ‡ä»¤å‚æ•°éå¸¸å¤šï¼Œæ¯æ¬¡éƒ½è¦è¾“å…¥å¥½å¤šå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ«åã€‚\næ‰“å¼€ç”¨æˆ·ç›®å½•ï¼Œåˆ›å»º .bashrc æ–‡ä»¶ éƒ¨åˆ†windowsç³»ç»Ÿä¸å…è®¸ç”¨æˆ·åˆ›å»ºç‚¹å·å¼€å¤´çš„æ–‡ä»¶ï¼Œå¯ä»¥æ‰“å¼€gitbash,æ‰§è¡Œ touch ~/.bashrc åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸‹ä¿¡æ¯: 1 2 3 4 5 #ç”¨äºè¾“å‡ºgitæäº¤æ—¥å¿— alias git-log=\u0026#39;git log --pretty=oneline --all --graph --abbrev-commit\u0026#39; #ç”¨äºè¾“å‡ºå½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ alias ll=\u0026#39;ls -al\u0026#39; 6. è§£å†³gitbashä¸­æ–‡ä¹±ç é—®é¢˜ æ‰“å¼€gitbashæ‰§è¡Œä»¥ä¸‹çš„å‘½ä»¤:\n1 git config --global core.quotepath false # è®© Git åœ¨æ˜¾ç¤ºæ–‡ä»¶åæ—¶ä¸ä½¿ç”¨å¼•å·ï¼Œå¹¶ä¸”é¿å…å¯¹é ASCII å­—ç¬¦è¿›è¡Œè½¬ä¹‰ã€‚ ${git_home}/etc/bash.bashrc æ–‡ä»¶æœ€åæ·»åŠ å¦‚ä¸‹å†…å®¹:\n1 2 export LANG=\u0026#34;zh_CN.UTF-8\u0026#34; export LC_ALL=\u0026#34;zh_CN.UTF-8\u0026#34; 7. è§£å†³gitkä¸­æ–‡ä¹±ç é—®é¢˜ æ‰“å¼€gitbashæ‰§è¡Œä¸€ä¸‹çš„å‘½ä»¤\n1 git config --global gui.encoding utf-8 ä¸‰. Git å·¥ä½œæµç¨‹å›¾ è¯´æ˜ï¼š\nworkspaceï¼šå·¥ä½œåŒº staging areaï¼šæš‚å­˜åŒº/ç¼“å­˜åŒº local repositoryï¼šç‰ˆæœ¬åº“æˆ–æœ¬åœ°ä»“åº“ remote repositoryï¼šè¿œç¨‹ä»“åº“ 1 2 3 4 5 6 7 8 9 10 11 clone #å…‹éš†ï¼š ä»è¿œç¨‹ä»“åº“ä¸­å…‹éš†ä»£ç åˆ°æœ¬åœ°ä»“åº“ checkout\t#æ£€å‡º: ä»æœ¬åœ°ä»“åº“ä¸­æ£€å‡ºä¸€ä¸ªä»“åº“åˆ†æ”¯ç„¶åè¿›è¡Œä¿®è®¢ add\t#æ·»åŠ : åœ¨æäº¤ä»£ç å‰å…ˆå°†ä»£ç æ·»åŠ åˆ°æš‚å­˜åŒº commit\t#æäº¤: æäº¤åˆ°æœ¬åœ°ä»“åº“. æœ¬åœ°ä»“åº“ä¸­ä¿å­˜äº†ä¿®æ”¹çš„å†å²ç‰ˆæœ¬ fetch\t#æŠ“å–: ä»è¿œç¨‹ä»“åº“æŠ“å–åˆ°æœ¬åœ°ä»“åº“,ä¸è¿›è¡Œä»»ä½•çš„åˆå¹¶æ“ä½œ,ä½¿ç”¨é¢‘ç‡ä¸é«˜ pull\t#æ‹‰å–: ä»è¿œç¨‹ä»“åº“ä¸­æ‹‰å–ä»£ç åˆ°æœ¬åœ°ä»“åº“,å¹¶è‡ªåŠ¨è¿›è¡Œåˆå¹¶(merge),ç„¶åæ”¾åˆ°å·¥ä½œåŒº push\t#æ¨é€: ä¿®æ”¹å®Œæˆå,éœ€è¦å’Œå›¢é˜Ÿæˆå‘˜å…±äº«ä»£ç æ—¶,å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ log\t#æ—¥å¿—: æŸ¥çœ‹å†å²æäº¤è®°å½• config\t#é…ç½®: å¯ä»¥é…ç½®å’ŒæŸ¥çœ‹ç›¸åº”çš„gité…ç½®ä¿¡æ¯ status\t#çŠ¶æ€: æŸ¥çœ‹å½“å‰çŠ¶æ€ switch\t#åˆ‡æ¢: åˆ‡æ¢åˆ†æ”¯ ä¸€ä¸ªç®€å•çš„æ“ä½œæ­¥éª¤ï¼š\n1 2 3 $ git init #åˆå§‹åŒ–ä»“åº“ã€‚ $ git add . #æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒºã€‚ $ git commit #å°†æš‚å­˜åŒºå†…å®¹æ·»åŠ åˆ°æœ¬åœ°ä»“åº“ä¸­ã€‚ 1. åˆ›å»ºä»“åº“å‘½ä»¤ ä¸‹è¡¨åˆ—å‡ºäº† git åˆ›å»ºä»“åº“çš„å‘½ä»¤ï¼š\nå‘½ä»¤ è¯´æ˜ git init åˆå§‹åŒ–ä»“åº“, æ–‡ä»¶å¤¹ä¸­ä¼šå‡ºç°ä¸€ä¸ª .git çš„æ–‡ä»¶å¤¹ git clone æ‹·è´ä¸€ä»½è¿œç¨‹ä»“åº“ï¼Œä¹Ÿå°±æ˜¯ä¸‹è½½ä¸€ä¸ªé¡¹ç›®ã€‚ 2. æäº¤ä¸ä¿®æ”¹ Git çš„å·¥ä½œå°±æ˜¯åˆ›å»ºå’Œä¿å­˜ä½ çš„é¡¹ç›®çš„å¿«ç…§åŠä¸ä¹‹åçš„å¿«ç…§è¿›è¡Œå¯¹æ¯”ã€‚\nä¸‹è¡¨åˆ—å‡ºäº†æœ‰å…³åˆ›å»ºä¸æäº¤ä½ çš„é¡¹ç›®çš„å¿«ç…§çš„å‘½ä»¤ï¼š\nå‘½ä»¤ è¯´æ˜ git add æ·»åŠ æ–‡ä»¶åˆ°ä»“åº“ git status æŸ¥çœ‹ä»“åº“å½“å‰çš„çŠ¶æ€ï¼Œæ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶ã€‚ git diff æ¯”è¾ƒæ–‡ä»¶çš„ä¸åŒï¼Œå³æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚ã€‚ git show æ˜¾ç¤ºå„ç§ç±»å‹çš„å¯¹è±¡, å¸¸ç”¨äºæŸ¥çœ‹æäº¤å·®å¼‚ git commit æäº¤æš‚å­˜åŒºåˆ°æœ¬åœ°ä»“åº“ã€‚ git reset å›é€€ç‰ˆæœ¬ã€‚ git rm åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ã€‚ git mv ç§»åŠ¨æˆ–é‡å‘½åå·¥ä½œåŒºæ–‡ä»¶ã€‚ git tag å¯¹ç‰ˆæœ¬åº“åšæ ‡è®°, å®ƒæ˜¯æŒ‡å‘æŸä¸ªcommitçš„æŒ‡é’ˆ git log #æ—¥å¿— git log å‘½ä»¤æ˜¯ Git ä¸­ç”¨äºæŸ¥çœ‹æäº¤å†å²çš„å‘½ä»¤\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 git log\t#å¯ä»¥æŒ‰é”®ç›˜ç©ºæ ¼/å­—æ¯bé”®å°†ä¿¡æ¯å‘ä¸‹/å‘ä¸Šç¿»é¡µï¼Œä¹Ÿå¯ä»¥æŒ‰é”®ç›˜å‘ä¸Š/å‘ä¸‹ç®­å¤´å‘ä¸Š/å‘ä¸‹æŒ‰è¡Œæ»šåŠ¨ git log â€“p\t#è¾“å‡ºæ¯ä¸€ä¸ªcommitä¹‹é—´çš„å·®å¼‚ä¿¡æ¯ git log --stat\t#è¾“å‡ºæ¯ä¸€ä¸ªcommitä¹‹é—´çš„å·®å¼‚ç»Ÿè®¡ä¿¡æ¯ git log--oneline\t#è¾“å‡ºå†å²commitçš„ç®€çŸ­ä¿¡æ¯ git logï¼šæ˜¾ç¤ºå½“å‰åˆ†æ”¯ï¼ˆHEADï¼‰çš„å…¨éƒ¨æäº¤è®°å½•ï¼ŒæŒ‰ç…§æ—¶é—´å€’åºæ’åˆ—ã€‚ git log \u0026lt;commit\u0026gt;ï¼šä»æŒ‡å®šçš„æäº¤è®°å½•å¼€å§‹æ˜¾ç¤ºï¼ŒæŒ‰ç…§æ—¶é—´å€’åºæ’åˆ—ã€‚ git log --follow \u0026lt;file\u0026gt;ï¼šæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„æäº¤å†å²ï¼Œå¹¶æ˜¾ç¤ºè¯¥æ–‡ä»¶çš„ç§»åŠ¨æˆ–é‡å‘½åè®°å½•ã€‚ git log --pretty=\u0026lt;format\u0026gt;ï¼šä½¿ç”¨æŒ‡å®šçš„æ ¼å¼è¾“å‡ºæäº¤ä¿¡æ¯ã€‚å¸¸ç”¨çš„æ ¼å¼æœ‰ %Hï¼ˆæäº¤å“ˆå¸Œå€¼ï¼‰ã€%hï¼ˆç®€çŸ­çš„æäº¤å“ˆå¸Œå€¼ï¼‰ã€%anï¼ˆä½œè€…åï¼‰ã€%aeï¼ˆä½œè€…é‚®ç®±ï¼‰ã€%cnï¼ˆæäº¤è€…åï¼‰ã€%ceï¼ˆæäº¤è€…é‚®ç®±ï¼‰ã€%sï¼ˆæäº¤è¯´æ˜ï¼‰ç­‰ã€‚ git log --grep=\u0026lt;pattern\u0026gt;ï¼šä»…æ˜¾ç¤ºåŒ…å«æŒ‡å®šæ¨¡å¼çš„æäº¤è®°å½•ï¼Œæ¨¡å¼å¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚ git log --author=\u0026lt;name\u0026gt;ï¼šä»…æ˜¾ç¤ºæŒ‡å®šä½œè€…çš„æäº¤è®°å½•ã€‚ git log --onelineï¼šå°†æ¯ä¸ªæäº¤è®°å½•å‹ç¼©ä¸ºä¸€è¡Œï¼Œåªæ˜¾ç¤ºæäº¤å“ˆå¸Œå€¼å’Œæäº¤è¯´æ˜ã€‚ git log --graphï¼šåœ¨æäº¤è®°å½•å‰é¢ç»˜åˆ¶ ASCII å›¾å½¢è¡¨ç¤ºæäº¤è®°å½•ä¹‹é—´çš„å…³ç³»ã€‚ git log --since=\u0026lt;date\u0026gt;ï¼šä»…æ˜¾ç¤ºæŒ‡å®šæ—¥æœŸä¹‹åçš„æäº¤è®°å½•ï¼Œæ—¥æœŸçš„æ ¼å¼å¯ä»¥æ˜¯ â€œYYYY-MM-DDâ€ æˆ– â€œ\u0026lt;n\u0026gt; days agoâ€ ç­‰ã€‚ git diff #å·®å¼‚ å½“åˆå¹¶åˆ†æ”¯æ—¶, å¦‚æœå‡ºç°äº†å†²çª, ä¹Ÿå¯ä»¥ä½¿ç”¨git diffæŸ¥çœ‹æ˜¯é‚£äº›åœ°æ–¹å‡ºç°äº†å†²çª æŸ¥çœ‹å½“å‰åˆ†æ”¯ä¿®æ”¹äº†é‚£äº›å†…å®¹git diff 1 2 3 4 5 6 7 8 9 10 11 12 13 git diff\t#æ˜¾ç¤ºå·¥ä½œåŒºä¸æš‚å­˜åŒºçš„å·®å¼‚ git diff --cached\t#æ˜¾ç¤ºæš‚å­˜åŒºä¸å†å²ç‰ˆæœ¬åº“çš„å·®å¼‚ git diff HEAD~2\t#æ˜¾ç¤ºå·¥ä½œåŒºä¸æœ€æ–°æäº¤ç¬¬äºŒçˆ¶æäº¤çš„å·®å¼‚ git diff HEAD~2 --a.txt\t#æ˜¾ç¤ºå·¥ä½œåŒºä¸æœ€æ–°æäº¤ç¬¬äºŒçˆ¶æäº¤ä¸­a.txtæ–‡ä»¶å·®å¼‚ git diff â€“cachedHEAD~1\t#æ˜¾ç¤ºæš‚å­˜åŒºä¸å†å²ç‰ˆæœ¬åº“æœ€æ–°æäº¤ç¬¬ä¸€çˆ¶æäº¤çš„å·®å¼‚ git diff HEAD HEAD~2\t#æ˜¾ç¤ºHEADæŒ‡å‘çš„å†å²æäº¤å’Œå…¶ç¬¬äºŒçˆ¶æäº¤ä¹‹é—´çš„å·®å¼‚ git diff HEAD HEAD~2-- a.txt\t#æ˜¾ç¤ºHEADæŒ‡å‘çš„å†å²æäº¤å’Œå…¶ç¬¬äºŒçˆ¶æäº¤ä¸­a.txtä¹‹é—´çš„å·®å¼‚ git show #æ˜¾ç¤º æ˜¾ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ï¼ˆblobã€æ ‘ã€æ ‡ç­¾å’Œæäº¤ï¼‰ã€‚\nå¯¹äºæäº¤ï¼Œå®ƒæ˜¾ç¤ºæ—¥å¿—æ¶ˆæ¯å’Œæ–‡æœ¬å·®å¼‚ã€‚å®ƒè¿˜ä»¥ git diff-tree \u0026ndash;cc ç”Ÿæˆçš„ç‰¹æ®Šæ ¼å¼å‘ˆç°åˆå¹¶æäº¤ã€‚ å¯¹äºæ ‡ç­¾ï¼Œå®ƒæ˜¾ç¤ºæ ‡ç­¾æ¶ˆæ¯å’Œå¼•ç”¨çš„å¯¹è±¡ã€‚ å¯¹äºæ ‘ï¼Œå®ƒæ˜¾ç¤ºåç§°ï¼ˆç›¸å½“äºå¸¦æœ‰ \u0026ndash;name-only çš„ git ls-treeï¼‰ã€‚ å¯¹äºçº¯ blobï¼Œå®ƒæ˜¾ç¤ºçº¯å†…å®¹ã€‚ 1 2 3 4 5 6 7 8 9 git show [commit_id]Â #æŸ¥çœ‹æŸæ¬¡å†å²æäº¤ä¿¡æ¯çš„å®Œæ•´ä¿¡æ¯ git show HEAD\t#æŸ¥çœ‹HEADæ ‡ç­¾å½“å‰æŒ‡å‘çš„æäº¤çš„å®Œæ•´ä¿¡æ¯ git show masterÂ #æŸ¥çœ‹masteråˆ†æ”¯æœ€æ–°ä¸€æ¬¡æäº¤çš„å®Œæ•´ä¿¡æ¯ git show master^æˆ–git show master~Â #æŸ¥çœ‹masteråˆ†æ”¯æœ€æ–°ä¸€æ¬¡æäº¤çš„çˆ¶æäº¤çš„å®Œæ•´ä¿¡æ¯ git show master^2\t#æŸ¥çœ‹masteråˆ†æ”¯æœ€æ–°ä¸€æ¬¡æäº¤çš„ç¬¬äºŒä¸ªçˆ¶æäº¤ï¼ˆä¹Ÿå°±æ˜¯çˆ¶æäº¤çš„çˆ¶æäº¤ï¼‰çš„å®Œæ•´ä¿¡æ¯ git ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤ å¦‚æœä½ æƒ³ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤çš„è®°å½•ï¼ˆåŒ…æ‹¬æäº¤ä¿¡æ¯ã€æ–‡ä»¶å†…å®¹æˆ–ä½œè€…ä¿¡æ¯ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ git commit --amend å‘½ä»¤ã€‚\nä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤çš„æäº¤ä¿¡æ¯ å¦‚æœä½ åªæƒ³ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤çš„æäº¤ä¿¡æ¯ï¼Œè€Œä¸æ”¹å˜æäº¤çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 git commit --amend æ‰§è¡Œè¯¥å‘½ä»¤åï¼ŒGit ä¼šæ‰“å¼€é»˜è®¤çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ vi æˆ– nanoï¼‰ï¼Œè®©ä½ ç¼–è¾‘æäº¤ä¿¡æ¯ã€‚ä¿®æ”¹æäº¤ä¿¡æ¯åï¼Œä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ï¼ŒGit ä¼šæ›´æ–°æäº¤ä¿¡æ¯ã€‚\nä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤çš„ä½œè€…ä¿¡æ¯ï¼ˆé‚®ç®±/ç”¨æˆ·åï¼‰ å¦‚æœä½ æƒ³ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤çš„ä½œè€…ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œä¿®æ”¹ç”¨æˆ·åæˆ–é‚®ç®±ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ --author é€‰é¡¹ã€‚æ¯”å¦‚ï¼š\n1 git commit --amend --author=\u0026#34;New-Name \u0026lt;new-email@example.com\u0026gt;\u0026#34; è¿™ä¼šå°†ä¸Šä¸€æ¬¡æäº¤çš„ä½œè€…ä¿¡æ¯ä¿®æ”¹ä¸º New-Name \u0026lt;new-email@example.com\u0026gt;ï¼Œå¹¶ä¿æŒå…¶ä»–æäº¤å†…å®¹ä¸å˜ã€‚\nä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤çš„æ–‡ä»¶å†…å®¹ å¦‚æœä½ æƒ³ä¿®æ”¹ä¸Šä¸€æ¬¡æäº¤çš„æ–‡ä»¶å†…å®¹ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š\nä¿®æ”¹æ–‡ä»¶ï¼šå¯¹æ–‡ä»¶è¿›è¡Œæ›´æ”¹ï¼Œä¿®æ”¹ä½ éœ€è¦æ›´æ–°çš„å†…å®¹ã€‚\næš‚å­˜ä¿®æ”¹ï¼šä½¿ç”¨ git add å°†ä¿®æ”¹çš„æ–‡ä»¶æš‚å­˜èµ·æ¥ï¼š\n1 git add \u0026lt;file\u0026gt; ä½¿ç”¨ git commit --amend æ›´æ–°æäº¤ï¼š\n1 git commit --amend è¿™æ ·ï¼ŒGit ä¼šå°†ä¿®æ”¹çš„å†…å®¹æ·»åŠ åˆ°ä¸Šä¸€æ¬¡æäº¤ä¸­ï¼Œå¹¶ä¿æŒåŸæ¥çš„æäº¤ä¿¡æ¯ã€‚ä½ å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­é€‰æ‹©æ˜¯å¦ä¿®æ”¹æäº¤ä¿¡æ¯ã€‚\nå¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆå¦‚æœå·²ç»æ¨é€ï¼‰è°¨æ…æ“ä½œ â€‹\tå¦‚æœä½ å·²ç»å°†è¯¥æäº¤æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œå¹¶ä¸”éœ€è¦æ›´æ–°è¿œç¨‹çš„æäº¤å†å²ï¼ˆä¾‹å¦‚ï¼Œä¿®æ”¹äº†æäº¤ä¿¡æ¯ã€ä½œè€…æˆ–æ–‡ä»¶ï¼‰ï¼Œä½ éœ€è¦å¼ºåˆ¶æ¨é€ï¼š\n1 git push --force æ³¨æ„ï¼š å¼ºåˆ¶æ¨é€ä¼šè¦†ç›–è¿œç¨‹ä»“åº“ä¸­çš„æäº¤å†å²ã€‚å¦‚æœæœ‰å…¶ä»–äººæ­£åœ¨åŸºäºè¿™äº›æäº¤å·¥ä½œï¼Œå¼ºåˆ¶æ¨é€å¯èƒ½ä¼šå¯¼è‡´å†²çªï¼Œå› æ­¤åœ¨å›¢é˜Ÿåä½œä¸­è¦å°å¿ƒä½¿ç”¨ã€‚\n3. æŸ¥çœ‹æäº¤æ—¥å¿— å‘½ä»¤ è¯´æ˜ git log æŸ¥çœ‹å†å²æäº¤è®°å½• git blame \u0026lt;file\u0026gt; ä»¥åˆ—è¡¨å½¢å¼æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å†å²ä¿®æ”¹è®°å½• 4. è¿œç¨‹æ“ä½œ å‘½ä»¤ è¯´æ˜ git remote è¿œç¨‹ä»“åº“æ“ä½œ git fetch ä»è¿œç¨‹è·å–ä»£ç åº“ git pull ä¸‹è½½è¿œç¨‹ä»£ç å¹¶åˆå¹¶ git push ä¸Šä¼ è¿œç¨‹ä»£ç å¹¶åˆå¹¶ 5. resetç‰ˆæœ¬å›é€€ git reset å‘½ä»¤ç”¨äºå›é€€ç‰ˆæœ¬ï¼Œå¯ä»¥æŒ‡å®šé€€å›æŸä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬ã€‚\nè¦æƒ³ç”¨å¥½resetå‘½ä»¤ï¼Œå¿…é¡»æ·±å…¥ç†è§£å®ƒçš„ä¸‰ä¸ªå‚æ•°: --softï¼Œ--mixedï¼ˆé»˜è®¤ï¼‰ï¼Œ--hard\ngit reset \u0026ndash;soft å¦‚ä¸‹å›¾ï¼Œsoftå‚æ•°æ˜¯æŒ‡å°†æœ¬åœ°ä»“å›æ»šåˆ°Yç‰ˆæœ¬ï¼Œä½†æ˜¯æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¿æŒä¸å˜ã€‚æ­¤æ—¶æœ¬åœ°ä»“å›æ»šåˆ°Yç‰ˆæœ¬å·commitå®Œæˆçš„é‚£ä¸€åˆ»ã€‚\ngit reset \u0026ndash;mixed 1 git reset --mixed æˆ–è€… git reset è¿™æ˜¯é»˜è®¤å‚æ•°ã€‚å¦‚ä¸‹å›¾ \u0026ndash;mixed è¡¨ç¤ºæœ¬åœ°ä»“å’Œæš‚å­˜åŒºï¼Œéƒ½å›æ»šåˆ°Yç‰ˆæœ¬å·ã€‚å·¥ä½œåŒºä»£ç ä¸å—å½±å“ã€‚\ngit reset \u0026ndash;hard æœ¬åœ°ä»“åº“ã€æš‚å­˜åŒºã€å·¥ä½œåŒºï¼Œä¸‰åŒºéƒ½å›æ»šã€‚\nä½œç”¨: ä¸åŒæäº¤ç‰ˆæœ¬ä¹‹é—´çš„åˆ‡æ¢\n1 2 3 4 5 6 7 8 9 git reset [--soft | --mixed | --hard] [HEAD] # --soft å›é€€åˆ°æŸä¸ªç‰ˆæœ¬ ã€‚æ˜¯æŒ‡å°†æœ¬åœ°ä»“å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œä½†æ˜¯æš‚å­˜åŒºå’Œå·¥ä½œåŒºä¿æŒä¸å˜ git reset --soft \u0026lt;commitID\u0026gt; # --mixed ä¸ºé»˜è®¤ï¼Œå¯ä»¥ä¸ç”¨å¸¦è¯¥å‚æ•°ï¼Œç”¨äºé‡ç½®æš‚å­˜åŒºçš„æ–‡ä»¶ä¸ä¸Šä¸€æ¬¡çš„æäº¤(commit)ä¿æŒä¸€è‡´ï¼Œå·¥ä½œåŒºæ–‡ä»¶å†…å®¹ä¿æŒä¸å˜ã€‚ git reset --mixed \u0026lt;commitID\u0026gt; # --hard å‚æ•°æ’¤é”€å·¥ä½œåŒºä¸­æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹å†…å®¹ï¼Œå°†æš‚å­˜åŒºä¸å·¥ä½œåŒºéƒ½å›åˆ°ä¸Šä¸€æ¬¡ç‰ˆæœ¬ï¼Œå¹¶åˆ é™¤ä¹‹å‰çš„æ‰€æœ‰ä¿¡æ¯æäº¤ï¼š git reset --hard \u0026lt;commitID\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 # å›é€€æ‰€æœ‰å†…å®¹åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ git reset HEAD^ # å›é€€test.txtè¿™ä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ git reset HEAD^ test.txt # å‘å‰å›é€€åˆ°ç¬¬3ä¸ªç‰ˆæœ¬ git reset HEAD~3 # å›é€€åˆ°æŸä¸ªç‰ˆæœ¬51363e6 git reset 51363e6 commitID å¯ä»¥ä½¿ç”¨ git log æˆ–è€…æ˜¯git-log æŸ¥çœ‹\nå¦‚ä½•æŸ¥çœ‹å·²ç»æ‰€æœ‰å·²æäº¤çš„è®°å½•?\n1 git reflog\t#è¿™ä¸ªæŒ‡ä»¤å¯ä»¥çœ‹åˆ°å·²ç»åˆ é™¤çš„æäº¤è®°å½•, åŒ…æ‹¬ git reset --hard 6. tagæ ‡ç­¾ gitä»“åº“çš„tagæ˜¯ç»™ä»“åº“å†å²ä¸­çš„æŸä¸€ä¸ªæäº¤æ‰“ä¸Šæ ‡ç­¾ï¼Œä»¥ç¤ºé‡è¦, å®ƒæŒ‡å‘æŸä¸ªcommit idæ ‡è®°çš„å¿«ç…§è®°å½•æŒ‡é’ˆ. tagä¸»è¦ç”¨äºå‘å¸ƒç‰ˆæœ¬çš„ç®¡ç†ï¼Œä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºgitæ‰“ä¸Š v.1.0.1 v.1.0.2 â€¦è¿™æ ·çš„æ ‡ç­¾ã€‚ tag å¯¹åº”æŸæ¬¡commit, æ˜¯ä¸€ä¸ªç‚¹ï¼Œæ˜¯ä¸å¯ç§»åŠ¨çš„ã€‚ åˆ›å»º tag æ˜¯åŸºäºæœ¬åœ°åˆ†æ”¯çš„ commitï¼Œè€Œä¸”ä¸åˆ†æ”¯çš„æ¨é€æ˜¯ä¸¤å›äº‹ï¼Œå°±æ˜¯è¯´åˆ†æ”¯å·²ç»æ¨é€åˆ°è¿œç¨‹äº†ï¼Œä½†æ˜¯ä½ çš„ tag å¹¶æ²¡æœ‰ï¼Œå¦‚æœæƒ³æŠŠ tag æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ä¸Šï¼Œéœ€è¦å¦å¤–æ‰§è¡Œ tag çš„æ¨é€å‘½ä»¤ã€‚ tag å¸¸ç”¨å‘½ä»¤:\nåˆ›å»ºtagæ ‡ç­¾ Git æ”¯æŒä¸¤ç§æ ‡ç­¾ï¼šè½»é‡æ ‡ç­¾ï¼ˆlightweight)ä¸é™„æ³¨æ ‡ç­¾ï¼ˆannotated)ã€‚\nè½»é‡æ ‡ç­¾å¾ˆåƒä¸€ä¸ªä¸ä¼šæ”¹å˜çš„åˆ†æ”¯â€”â€”å®ƒåªæ˜¯æŸä¸ªç‰¹å®šæäº¤çš„å¼•ç”¨ã€‚\nè€Œé™„æ³¨æ ‡ç­¾æ˜¯å­˜å‚¨åœ¨ Git æ•°æ®åº“ä¸­çš„ä¸€ä¸ªå®Œæ•´å¯¹è±¡ï¼Œ å®ƒä»¬æ˜¯å¯ä»¥è¢«æ ¡éªŒçš„ï¼Œå…¶ä¸­åŒ…å«æ‰“æ ‡ç­¾è€…çš„åå­—ã€ç”µå­é‚®ä»¶åœ°å€ã€æ—¥æœŸæ—¶é—´ï¼Œ æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªæ ‡ç­¾ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ GNU Privacy Guard ï¼ˆGPGï¼‰ç­¾åå¹¶éªŒè¯ã€‚ é€šå¸¸ä¼šå»ºè®®åˆ›å»ºé™„æ³¨æ ‡ç­¾ï¼Œè¿™æ ·ä½ å¯ä»¥æ‹¥æœ‰ä»¥ä¸Šæ‰€æœ‰ä¿¡æ¯ã€‚ä½†æ˜¯å¦‚æœä½ åªæ˜¯æƒ³ç”¨ä¸€ä¸ªä¸´æ—¶çš„æ ‡ç­¾ï¼Œ æˆ–è€…å› ä¸ºæŸäº›åŸå› ä¸æƒ³è¦ä¿å­˜è¿™äº›ä¿¡æ¯ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ç”¨è½»é‡æ ‡ç­¾ã€‚\né™„æ³¨æ ‡ç­¾ åœ¨ Git ä¸­åˆ›å»ºé™„æ³¨æ ‡ç­¾ååˆ†ç®€å•ã€‚ æœ€ç®€å•çš„æ–¹å¼æ˜¯å½“ä½ åœ¨è¿è¡Œ tag å‘½ä»¤æ—¶æŒ‡å®š -a é€‰é¡¹ï¼š\n1 git tag -a \u0026lt;tagname\u0026gt; -m \u0026lt;comment\u0026gt;\t# åˆ›å»ºæœ¬åœ°é™„æ³¨tag, -a æŒ‡å®šæ ‡ç­¾å, -m æŒ‡å®šè¯´æ˜ä¿¡æ¯ -m é€‰é¡¹æŒ‡å®šäº†ä¸€æ¡å°†ä¼šå­˜å‚¨åœ¨æ ‡ç­¾ä¸­çš„ä¿¡æ¯ã€‚ å¦‚æœæ²¡æœ‰ä¸ºé™„æ³¨æ ‡ç­¾æŒ‡å®šä¸€æ¡ä¿¡æ¯ï¼ŒGit ä¼šå¯åŠ¨ç¼–è¾‘å™¨è¦æ±‚ä½ è¾“å…¥ä¿¡æ¯ã€‚\n1 git show \u0026lt;tagname\u0026gt;\t# showå‘½ä»¤å¯ä»¥çœ‹åˆ°æ ‡ç­¾ä¿¡æ¯å’Œä¸ä¹‹å¯¹åº”çš„æäº¤ä¿¡æ¯ é€šè¿‡ä½¿ç”¨ git show \u0026lt;tagname\u0026gt; ä¼šè¾“å‡ºæ˜¾ç¤ºäº†æ‰“æ ‡ç­¾è€…çš„ä¿¡æ¯ã€æ‰“æ ‡ç­¾çš„æ—¥æœŸæ—¶é—´ã€é™„æ³¨ä¿¡æ¯ï¼Œç„¶åæ˜¾ç¤ºå…·ä½“çš„æäº¤ä¿¡æ¯:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git tag -l v0.11 v1.12 Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git show v1.12 tag v1.12 Tagger: abin \u0026lt;abin_z@163.com\u0026gt; Date: Thu Aug 10 22:43:19 2023 +0800 æ ‡æ³¨tagè¯´æ˜, ç‰ˆæœ¬å·v1.12, æµ‹è¯•tagæŒ‡ä»¤ commit 1e1f9aecb47dd0671a64bd84138172b96869e45a (HEAD -\u0026gt; master, tag: v1.12) Author: abin \u0026lt;abin_z@163.com\u0026gt; Date: Thu Aug 10 22:42:36 2023 +0800 ä¿®æ”¹testFile.txtæ–‡ä»¶ è½»é‡æ ‡ç­¾ å¦ä¸€ç§ç»™æäº¤æ‰“æ ‡ç­¾çš„æ–¹å¼æ˜¯ä½¿ç”¨è½»é‡æ ‡ç­¾ã€‚ è½»é‡æ ‡ç­¾æœ¬è´¨ä¸Šæ˜¯å°†æäº¤æ ¡éªŒå’Œå­˜å‚¨åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­â€”â€”æ²¡æœ‰ä¿å­˜ä»»ä½•å…¶ä»–ä¿¡æ¯ã€‚ åˆ›å»ºè½»é‡æ ‡ç­¾ï¼Œä¸éœ€è¦ä½¿ç”¨ -aã€-s æˆ– -m é€‰é¡¹ï¼Œåªéœ€è¦æä¾›æ ‡ç­¾åå­—ï¼š\n1 git tag \u0026lt;tagname\u0026gt;\t# åˆ›å»ºè½»é‡çº§æ ‡ç­¾ï¼Œä¸ç”¨-aï¼Œ-mç­‰å‚æ•° è¿™æ—¶ï¼Œå¦‚æœåœ¨æ ‡ç­¾ä¸Šè¿è¡Œ git show \u0026lt;tagname\u0026gt; ï¼Œä½ ä¸ä¼šçœ‹åˆ°é¢å¤–çš„æ ‡ç­¾ä¿¡æ¯ã€‚ å‘½ä»¤åªä¼šæ˜¾ç¤ºå‡ºæäº¤ä¿¡æ¯ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git tag v1.13_lw Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git tag v0.11 v1.12 v1.13_lw Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git show v1.13_lw commit ced5c08e34686bf2ddc6b9c7711b79bacf8fce8d (HEAD -\u0026gt; master, tag: v1.13_lw) Author: abin \u0026lt;abin_z@163.com\u0026gt; Date: Thu Aug 10 22:57:14 2023 +0800 ä¿®æ”¹testFile.txtæ–‡ä»¶ ç»™æŒ‡å®šçš„commitæ‰“Tag ä½ ä¹Ÿå¯ä»¥å¯¹è¿‡å»çš„æäº¤æ‰“æ ‡ç­¾ã€‚æ‰“Tagä¸å¿…è¦åœ¨headä¹‹ä¸Šï¼Œä¹Ÿå¯åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸Šæ‰“ï¼Œè¿™éœ€è¦ä½ çŸ¥é“æŸä¸ªæäº¤å¯¹è±¡çš„æ ¡éªŒå’Œï¼ˆé€šè¿‡git logè·å–ï¼‰ã€‚\n1 git tag -a \u0026lt;tagname\u0026gt; \u0026lt;commitID\u0026gt;\t# ç»™æŒ‡å®šçš„commitIDæ‰“tag 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git tag -a v0.1 766f0ae Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git tag v0.1 v0.11 v1.12 v1.13_lw Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git show v0.1 tag v0.1 Tagger: abin \u0026lt;abin_z@163.com\u0026gt; Date: Thu Aug 10 23:15:47 2023 +0800 æµ‹è¯•åœ¨æŒ‡å®šcommitIDä¸Šæ·»åŠ tagæ ‡ç­¾ commit 766f0ae17925916f572745c13136234cee7e3298 (tag: v0.1) Author: zhangbin \u0026lt;abin_z@163.com\u0026gt; Date: Wed Dec 22 16:29:26 2021 +0800 abc.txt åˆ—å‡ºæ ‡ç­¾ åœ¨ Git ä¸­åˆ—å‡ºå·²æœ‰çš„æ ‡ç­¾éå¸¸ç®€å•ï¼Œåªéœ€è¦è¾“å…¥ git tag ï¼ˆå¯å¸¦ä¸Šå¯é€‰çš„ -l é€‰é¡¹ --listï¼‰ï¼š\n1 2 3 git tag # æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰tagåˆ—è¡¨ git tag --list # æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰tagåˆ—è¡¨ git tag -l # åŒç†æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰tagåˆ—è¡¨ è¿™ä¸ªå‘½ä»¤ä»¥å­—æ¯é¡ºåºåˆ—å‡ºæ ‡ç­¾ï¼Œä½†æ˜¯å®ƒä»¬æ˜¾ç¤ºçš„é¡ºåºå¹¶ä¸é‡è¦ã€‚\nä½ ä¹Ÿå¯ä»¥æŒ‰ç…§ç‰¹å®šçš„æ¨¡å¼æŸ¥æ‰¾æ ‡ç­¾ã€‚ ä¾‹å¦‚ï¼ŒGit è‡ªèº«çš„æºä»£ç ä»“åº“åŒ…å«æ ‡ç­¾çš„æ•°é‡è¶…è¿‡ 500 ä¸ªã€‚ å¦‚æœåªå¯¹ 1.8.5 ç³»åˆ—æ„Ÿå…´è¶£ï¼Œå¯ä»¥è¿è¡Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 $ git tag -l \u0026#34;v1.8.5*\u0026#34;\t# åªæŸ¥çœ‹v1.8.5å¼€å¤´çš„tagæ ‡ç­¾, *å·ä¸ºé€šé…ç¬¦ v1.8.5 v1.8.5-rc0 v1.8.5-rc1 v1.8.5-rc2 v1.8.5-rc3 v1.8.5.1 v1.8.5.2 v1.8.5.3 v1.8.5.4 v1.8.5.5 å…±äº«æ ‡ç­¾ é»˜è®¤æƒ…å†µä¸‹ï¼Œgit push å‘½ä»¤å¹¶ä¸ä¼šä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šã€‚ åœ¨åˆ›å»ºå®Œæ ‡ç­¾åä½ å¿…é¡»æ˜¾å¼åœ°æ¨é€æ ‡ç­¾åˆ°å…±äº«æœåŠ¡å™¨ä¸Šã€‚ è¿™ä¸ªè¿‡ç¨‹å°±åƒå…±äº«è¿œç¨‹åˆ†æ”¯ä¸€æ ·â€”â€”ä½ å¯ä»¥è¿è¡Œ git push origin \u0026lt;tagname\u0026gt;ã€‚\n1 git push origin \u0026lt;tagname\u0026gt;\t# æ¨é€ä¸€ä¸ªæœ¬åœ°æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“origin 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git tag -l \u0026#34;v1*\u0026#34; v1.12 v1.13_lw Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git push origin v1.12 Enumerating objects: 6, done. Counting objects: 100% (6/6), done. Delta compression using up to 6 threads Compressing objects: 100% (3/3), done. Writing objects: 100% (4/4), 470 bytes | 156.00 KiB/s, done. Total 4 (delta 1), reused 0 (delta 0), pack-reused 0 remote: Powered by GITEE.COM [GNK-6.4] To gitee.com:abin_z/git-demo.git * [new tag] v1.12 -\u0026gt; v1.12 #æ•ˆæœå¦‚ä¸‹å›¾: å¦‚æœæƒ³è¦ä¸€æ¬¡æ€§æ¨é€å¾ˆå¤šæ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¸¦æœ‰ --tags é€‰é¡¹çš„ git push å‘½ä»¤ã€‚ è¿™å°†ä¼šæŠŠæ‰€æœ‰ä¸åœ¨è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šçš„æ ‡ç­¾å…¨éƒ¨ä¼ é€åˆ°é‚£é‡Œã€‚\n1 git push \u0026lt;remote\u0026gt; --tags\t# æ¨é€å…¨éƒ¨æœªæ¨é€è¿‡çš„æœ¬åœ°æ ‡ç­¾(åŒ…æ‹¬è½»é‡æ ‡ç­¾),åˆ°è¿œç¨‹ä»“åº“ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git push origin --tags Enumerating objects: 7, done. Counting objects: 100% (7/7), done. Delta compression using up to 6 threads Compressing objects: 100% (4/4), done. Writing objects: 100% (5/5), 607 bytes | 202.00 KiB/s, done. Total 5 (delta 1), reused 0 (delta 0), pack-reused 0 remote: Powered by GITEE.COM [GNK-6.4] To gitee.com:abin_z/git-demo.git * [new tag] v0.1 -\u0026gt; v0.1 * [new tag] v0.11 -\u0026gt; v0.11 * [new tag] v1.13_lw -\u0026gt; v1.13_lw # æ•ˆæœå¦‚ä¸‹å›¾: åˆ é™¤æ ‡ç­¾ è¦åˆ é™¤æ‰ä½ æœ¬åœ°ä»“åº“ä¸Šçš„æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ git tag -d \u0026lt;tagname\u0026gt;ã€‚\n1 git tag -d \u0026lt;tagname\u0026gt;\t# åˆ é™¤æœ¬åœ°ä»“åº“ä¸Šçš„æ ‡ç­¾, æ­¤å‘½ä»¤ä¸ä¼šåˆ é™¤è¿œç¨‹ä»“åº“ä¸­å·²å­˜åœ¨çš„æ ‡ç­¾ ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤ä¸€ä¸ªè½»é‡æ ‡ç­¾ï¼š\n1 2 3 4 5 6 7 8 9 Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git tag -d v1.13_lw Deleted tag \u0026#39;v1.13_lw\u0026#39; (was ced5c08) Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git tag v0.1 v0.11 v1.12 æ³¨æ„: ä¸Šè¿°å‘½ä»¤å¹¶ä¸ä¼šä»ä»»ä½•è¿œç¨‹ä»“åº“ä¸­ç§»é™¤è¿™ä¸ªæ ‡ç­¾ï¼Œä½ å¿…é¡»ç”¨ git push \u0026lt;remote\u0026gt; :refs/tags/\u0026lt;tagname\u0026gt; æ¥æ›´æ–°ä½ çš„è¿œç¨‹ä»“åº“ï¼š\n1 git push --delete origin \u0026lt;tag_name\u0026gt;\t# è¿™æ¡æŒ‡ä»¤å¯ä»¥åˆ é™¤è¿œç¨‹çš„tag 1 git push \u0026lt;remote\u0026gt; :refs/tags/\u0026lt;tag_name\u0026gt; # æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“åŒæ­¥ 1 2 3 4 5 6 Abin@DESKTOP-TFU43J6 MINGW64 /f/gitDemo (master) $ git push origin :refs/tags/v1.13_lw remote: Powered by GITEE.COM [GNK-6.4] To gitee.com:abin_z/git-demo.git - [deleted] v1.13_lw 6. gitåŸºç¡€æ“ä½œæŒ‡ä»¤ Gitå·¥ä½œç›®å½•ä¸‹å¯¹äºæ–‡ä»¶çš„ä¿®æ”¹(å¢åŠ ã€åˆ é™¤ã€æ›´æ–°)ä¼šå­˜åœ¨å‡ ä¸ªçŠ¶æ€ï¼Œè¿™äº›ä¿®æ”¹çš„çŠ¶æ€ä¼šéšç€æˆ‘ä»¬æ‰§è¡ŒGitçš„å‘½ä»¤è€Œ å‘ç”Ÿå˜åŒ–ã€‚\ngitåŸºç¡€æŒ‡ä»¤ç»ƒä¹  é¦–å…ˆå‡†å¤‡ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ åˆå§‹åŒ–æœ¬åœ°ä»“åº“ 1 git init åˆ›å»ºä¸€ä¸ªfile01.txtæ–‡ä»¶(è¿™ä¸ªæ–‡ä»¶æ€ä¹ˆåˆ›å»ºéƒ½å¯ä»¥,å¯ä»¥åœ¨Windowsä¸‹åˆ›å»º) 1 touch file01.txt æŸ¥çœ‹å½“å‰å·¥ä½œåŒºçš„æ–‡ä»¶çŠ¶æ€ 1 git status å°†å·¥ä½œåŒºä¸­çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº 1 git add .\t#æ³¨æ„å…¶ä¸­çš„ . è¡¨ç¤ºå½“å‰æ–‡ä»¶å¤¹çš„æ‰€æœ‰æ–‡ä»¶ ä¹Ÿå¯ä»¥å•ç‹¬æŒ‡å®šæŸä¸ªæ–‡ä»¶ æäº¤æš‚å­˜åŒºæ–‡ä»¶åˆ°æœ¬åœ°ä»“åº“ 1 git commit -m \u0026#39;add file01\u0026#39;\t#-m è¡¨ç¤ºæäº¤çš„è¯´æ˜ä¿¡æ¯/ä¸€èˆ¬ä¸ºåŠŸèƒ½æè¿° æŸ¥çœ‹æäº¤çš„æ–‡ä»¶çš„ç›®çš„åœ°(æ‰€åœ¨åˆ†æ”¯) 1 git log\t#æŸ¥çœ‹æ–‡å†å²æäº¤æ—¥å¿— ç°åœ¨ä¿®æ”¹å·¥ä½œåŒºä¸­çš„æ–‡ä»¶ 1 vim file01.txt æŸ¥çœ‹æ­¤æ—¶æ–‡ä»¶çš„çŠ¶æ€: æ­¤æ—¶çš„çŠ¶æ€ä¸ºæœªæš‚å­˜ 1 git status æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº æäº¤æœ¬æ¬¡ä¿®æ”¹ 1 git commit -m \u0026#39;update file01\u0026#39; æŸ¥çœ‹æ­¤æ—¶çš„æäº¤æ—¥å¿— 1 git log æ¼”ç¤ºç‰ˆæœ¬å›é€€åŠŸèƒ½ å†æ¬¡æäº¤ä¸€æ¬¡ä¿®æ”¹, å¹¶ä¸”æ·»åŠ ä¸€ä¸ªæ–‡ä»¶ file02.txt æ–‡ä»¶\næäº¤æœ¬æ¬¡ç‰ˆæœ¬\nç‰ˆæœ¬å›é€€ å¯ä»¥è·³è½¬åˆ°ä»»ä½•æäº¤çš„ç‰ˆæœ¬ 1 git reset --hard [commitID]\t#commitID è¡¨ç¤ºè¦å›é€€çš„ç‰ˆæœ¬ æŸ¥çœ‹å†å²æäº¤ç‰ˆæœ¬è®°å½• , è¿˜æ˜¯å¯ä»¥å›åˆ°ä¹‹å‰çš„ç‰ˆæœ¬çš„, å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å†å²æäº¤ç‰ˆæœ¬ 1 git reflog æ¼”ç¤ºtagæŒ‡ä»¤, tagæ˜¯gitç‰ˆæœ¬åº“çš„ä¸€ä¸ªæ ‡è®°ï¼ŒæŒ‡å‘æŸä¸ªcommitçš„æŒ‡é’ˆã€‚ 1 git tag # æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰ tag å››. æ·»åŠ å¿½ç•¥åˆ—è¡¨(.gitignoreæ–‡ä»¶) ä¸€èˆ¬æˆ‘ä»¬æ€»ä¼šæœ‰äº›æ–‡ä»¶æ— éœ€çº³å…¥Git çš„ç®¡ç†ï¼Œä¹Ÿä¸å¸Œæœ›å®ƒä»¬æ€»å‡ºç°åœ¨æœªè·Ÿè¸ªæ–‡ä»¶åˆ—è¡¨ã€‚ é€šå¸¸éƒ½æ˜¯äº›è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼Œæ¯”å¦‚æ—¥å¿—æ–‡ä»¶ï¼Œæˆ–è€…ç¼–è¯‘è¿‡ç¨‹ä¸­åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶ç­‰ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¥ä½œç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º.gitignore çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶åç§°å›ºå®šï¼‰ï¼Œåˆ—å‡ºè¦å¿½ç•¥çš„æ–‡ä»¶æ¨¡å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹:\n1 2 touch .gitignore vim .gitignore 1. å¸¸ç”¨å¿½ç•¥è§„åˆ™ /abc/ï¼šå¿½ç•¥æ ¹ç›®å½•ä¸‹çš„abcæ–‡ä»¶å¤¹ä»¥åŠabcæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ bcd/ï¼šå¿½ç•¥æ ¹ç›®å½•ä¸‹æˆ–è€…æ ¹ç›®å½•ä¸‹ä»»æ„å­ç›®å½•ä¸‹çš„bcdæ–‡ä»¶å¤¹ä»¥åŠbcdæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ /mmm.txtï¼šå¿½ç•¥æ ¹ç›®å½•ä¸‹çš„mmm.txtæ–‡ä»¶ nnn.txtï¼šå¿½ç•¥æ ¹ç›®å½•ä¸‹æˆ–è€…æ ¹ç›®å½•ä¸‹ä»»æ„å­ç›®å½•ä¸‹çš„nnn.txtæ–‡ä»¶\næ ¹ç›®å½•ï¼šå³å·¥ä½œåŒºç›®å½•ã€‚å·¥ä½œåŒºã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“æ¦‚å¿µ\n2. å¿½ç•¥å·²è¢«è·Ÿè¸ªçš„æ–‡ä»¶ **å¿½ç•¥è§„åˆ™åªé’ˆå¯¹è¿˜æ²¡æœ‰è¢«gitè·Ÿè¸ªçš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹æœ‰æ•ˆã€‚**è‹¥éœ€è¦å¿½ç•¥è§„åˆ™å¯¹å·²è¢«è·Ÿè¸ªçš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹æœ‰æ•ˆï¼Œåˆ™éœ€è¦å–æ¶ˆå¯¹æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„è·Ÿè¸ª\n1 2 3 git rm -r --cached \u0026lt;dir\u0026gt;ï¼šå–æ¶ˆå¯¹æ–‡ä»¶å¤¹åŠæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹ã€æ–‡ä»¶çš„è·Ÿè¸ªï¼Œæ–‡ä»¶å¤¹åŠæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹ã€æ–‡ä»¶çš„çŠ¶æ€å°†ä»è·Ÿè¸ªçŠ¶æ€å˜ä¸ºæœªè·Ÿè¸ªçŠ¶æ€ git rm --cached \u0026lt;file\u0026gt;ï¼šå–æ¶ˆå¯¹æ–‡ä»¶çš„è·Ÿè¸ªï¼Œæ–‡ä»¶çš„è·Ÿè¸ªçŠ¶æ€å°†å˜ä¸ºæœªè·Ÿè¸ªçŠ¶æ€ git restore --staged \u0026lt;file\u0026gt; å°†æŒ‡å®šæ–‡ä»¶ç§»é™¤è·Ÿè¸ª å–æ¶ˆå¯¹æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„è·Ÿè¸ªä¹‹åï¼Œ.gitignoreæ–‡ä»¶ä¸­çš„å¿½ç•¥è§„åˆ™å°†ä¼šå¯¹å–æ¶ˆäº†è·Ÿè¸ªçŠ¶æ€çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ç”Ÿæ•ˆ\nè¿è¡Œå¦‚ä¸‹ç±»ä¼¼çš„å‘½ä»¤:\n1 2 3 4 git rm -r --cached . # å–æ¶ˆæ–‡ä»¶è·Ÿè¸ª git add .\t# æ·»åŠ è·Ÿè¸ª(æ–°å¢çš„.gitignoreæ–‡ä»¶ä¼šç”Ÿæ•ˆ)\tgit commit -m \u0026#34;add gitignore\u0026#34;\t# æäº¤ä»£ç  git push origin master\t# æ¨é€ä»£ç è‡³è¿œç¨‹ä»“åº“ äº”. Git åˆ†æ”¯ç®¡ç† å‡ ä¹æ¯ä¸€ç§ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿéƒ½ä»¥æŸç§å½¢å¼æ”¯æŒåˆ†æ”¯ã€‚ä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥ä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥ï¼Œç„¶ååœ¨ä¸å½±å“ä¸»çº¿çš„åŒæ—¶ç»§ç»­å·¥ä½œã€‚\næœ‰äººæŠŠ Git çš„åˆ†æ”¯æ¨¡å‹ç§°ä¸ºå¿…æ€æŠ€ç‰¹æ€§ï¼Œè€Œæ­£æ˜¯å› ä¸ºå®ƒï¼Œå°† Git ä»ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå®¶æ—é‡ŒåŒºåˆ†å‡ºæ¥ã€‚\nGitåˆ†æ”¯å‘½ä»¤git branchã€git switchã€git checkoutçš„åŒºåˆ«: https://blog.csdn.net/wpw2000/article/details/115895848\n1. åˆ—å‡ºåˆ†æ”¯å‘½ä»¤ï¼š 1 2 3 4 git branch\t#æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼Œå½“å‰åˆ†æ”¯å‰é¢ä¼šæ ‡ä¸€ä¸ª*å·ã€‚ git branch -r #æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ã€‚ git branch -a\t#æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ï¼Œè¿œç¨‹åˆ†æ”¯ä¼šç”¨çº¢è‰²è¡¨ç¤ºå‡ºæ¥ï¼ˆå¦‚æœä½ å¼€äº†é¢œè‰²æ”¯æŒçš„è¯ï¼‰ã€‚ git branch -vv #æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ã€‚\tå‡ºç°aheadè¡¨ç¤ºæœ¬åœ°åˆ†æ”¯é¢†å…ˆè¿œç«¯åˆ†æ”¯ 1 git branch -vv\t#è¯´æ˜ 2. åˆ›å»ºåˆ†æ”¯å‘½ä»¤ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 git branch [branchname]\t#åˆ›å»ºåˆ†æ”¯, ä½†æ˜¯æ²¡æœ‰åˆ‡æ¢è¿‡å», è¿˜åœç•™åœ¨å½“å‰åˆ†æ”¯ ---------------------------------------------------------------------------------- git checkout -b \u0026lt;name\u0026gt; #åˆ›å»ºä¸€ä¸ªå«nameçš„åˆ†æ”¯ï¼Œç„¶ååˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚ #ç›¸å½“äºä¸¤æ¡å‘½ä»¤ï¼šgit branch \u0026lt;name\u0026gt;ï¼Œgit checkout \u0026lt;name\u0026gt; git switch -c \u0026lt;name\u0026gt; #åˆ›å»ºä¸€ä¸ªå«nameçš„åˆ†æ”¯,å¹¶åˆ‡æ¢è¿‡å» #ç›¸å½“äºä¸¤æ¡å‘½ä»¤ï¼šgit branch \u0026lt;name\u0026gt;ï¼Œgit switch \u0026lt;name\u0026gt; ---------------------------------------------------------------------------------- git branch -m oldName newName\t#é‡å‘½ååˆ†æ”¯ ç°åœ¨åœ¨masterä¸»åˆ†æ”¯ä¸Šæ–°å»ºæ–‡ä»¶master.txtå¹¶æäº¤\n3. åˆ‡æ¢åˆ†æ”¯å‘½ä»¤: å°±ç®€å•çš„åˆ‡æ¢åˆ†æ”¯ï¼Œæ¨èä½¿ç”¨switchå‘½ä»¤ï¼Œä¸æ¨èä½¿ç”¨checkout\ngit checkoutå‘½ä»¤ç”¨äºåˆ‡æ¢åˆ†æ”¯æˆ–æ¢å¤å·¥ä½œæ ‘æ–‡ä»¶ã€‚git checkoutæ˜¯gitæœ€å¸¸ç”¨çš„å‘½ä»¤ä¹‹ä¸€ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå±é™©çš„å‘½ä»¤ï¼Œå› ä¸ºè¿™æ¡å‘½ä»¤ä¼šé‡å†™å·¥ä½œåŒºã€‚\n1 2 3 4 5 6 7 git checkout [branchname]\t#åˆ‡æ¢åˆ†æ”¯ git switch\t[branchname]\t#åˆ‡æ¢åˆ†æ”¯, æ¨èä½¿ç”¨ switch åˆ‡æ¢åˆ†æ”¯ #-------------------------- checkout å’Œ switch åœ¨åˆ†æ”¯æ“ä½œæ–¹é¢çš„ç”¨å¤„å®Œå…¨ä¸€æ ·, é‚£ä¹ˆåœ¨åˆ†æ”¯æ“ä½œä¸Šå°½é‡ä½¿ç”¨: git branch å’Œ git switch #-------------------------- å› ä¸º git checkout é™¤äº†å¯ä»¥æ“ä½œåˆ†æ”¯, å®ƒè¿˜å¯ä»¥æ“ä½œæ–‡ä»¶, è¿™ä¸ªå‘½ä»¤å¯ä»¥é‡å†™å·¥ä½œåŒº, æ˜¯ä¸€ä¸ªå¾ˆå±é™©çš„å‘½ä»¤ ================================================================ git checkout -b [branchname]\t#ç›´æ¥åˆ›å»ºåˆ†æ”¯å¹¶ä¸”åˆ‡æ¢åˆ°å½“å‰åˆ†æ”¯,è‹¥åˆ†æ”¯å­˜åœ¨åˆ™ç›´æ¥åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯\tå½“ä½ åˆ‡æ¢åˆ†æ”¯çš„æ—¶å€™ï¼ŒGit ä¼šç”¨è¯¥åˆ†æ”¯çš„æœ€åæäº¤çš„å¿«ç…§æ›¿æ¢ä½ çš„å·¥ä½œç›®å½•çš„å†…å®¹ï¼Œ æ‰€ä»¥å¤šä¸ªåˆ†æ”¯ä¸éœ€è¦å¤šä¸ªç›®å½•ã€‚\nç°åœ¨åœ¨developåˆ†æ”¯ä¸Šæ–°å»ºæ–‡ä»¶develop.txtå¹¶æäº¤\nç°åœ¨åˆ‡æ¢å›masteråˆ†æ”¯ä¸Š, ä¸ä¼šå‡ºç°developåˆ†æ”¯ä¸Šæäº¤çš„develop.txtæ–‡ä»¶\n4. åˆå¹¶åˆ†æ”¯å‘½ä»¤: 1 git merge [branchname]\t# å°†branchnameçš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ åˆä½œå¼€å‘æ—¶,åŸºæœ¬éƒ½æ˜¯åœ¨developåˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘çš„, éœ€è¦ä¿è¯masteråˆ†æ”¯çš„ç¨³å®šæ€§\nååŒå¼€å‘å°±ä¼šå‡ºç°åˆ†æ”¯, ä¸‹å›¾æ˜¯åœ¨developåˆ†æ”¯ä¸Šå¼€å‘çš„æƒ…å†µ\nä¸‹å›¾æ˜¯åœ¨masteråˆ†æ”¯ä¸Šå¼€å‘çš„æƒ…å†µ\nåˆå¹¶åˆ†æ”¯æ“ä½œ(æ²¡æœ‰å†²çªçš„æ—¶å€™):\n1 git merge [branchname] å¡«å†™åˆå¹¶åˆ†æ”¯çš„è¯´æ˜ä¿¡æ¯(ä¸€èˆ¬ä¸ºå®ç°äº†ä»€ä¹ˆåŠŸèƒ½)\n5. åˆ é™¤åˆ†æ”¯å‘½ä»¤ï¼š åˆ é™¤åˆ†æ”¯çš„æ—¶å€™æ˜¯ä¸èƒ½åˆ é™¤å½“å‰æ‰€åœ¨çš„åˆ†æ”¯çš„ 1 2 3 git branch -d [branchname]\t#éœ€è¦åšæ£€æŸ¥,æœªåˆå¹¶åˆ†æ”¯çš„æ—¶å€™ä¼šæç¤º git branch -D [branchname]\t#ä¸éœ€è¦åšæ£€æŸ¥,ç›´æ¥åˆ é™¤ 6. åˆå¹¶åˆ†æ”¯å†²çª å½“ä¸¤ä¸ªåˆ†æ”¯éƒ½ä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€éƒ¨åˆ†(æ¯”å¦‚åŒä¸€è¡Œ)å°±ä¼šäº§ç”Ÿå†²çª,è¿™æ—¶å€™gitéœ€è¦å¼€å‘äººå‘˜å†³å®šè¦ä¿ç•™å“ªä¸€éƒ¨åˆ†\nåˆ›å»ºä¸€ä¸ªæ–‡ä»¶(common.txt)æ¨¡æ‹Ÿå†²çª åŸå§‹æ•°æ®å¦‚ä¸‹\nmasteråˆ†æ”¯ä¸­æäº¤çš„æ•°æ®\ndevåˆ†æ”¯ä¸­æäº¤çš„æ•°æ®\nç›®å‰åˆ†æ”¯æƒ…å†µ:\næ‰§è¡Œåˆå¹¶åˆ†æ”¯æ“ä½œ:\nå¯ä»¥é€šè¿‡æŸ¥çœ‹æ–‡ä»¶è¯¦æƒ…äº†è§£é‚£äº›æ–‡ä»¶å†²çª\n1 git status #æŸ¥çœ‹é‚£äº›æ–‡ä»¶å­˜åœ¨å†²çª æ­¤æ—¶çš„å†²çªæ–‡ä»¶common.txtå†…å®¹ä¸º:\næ ¹æ®å®é™…æƒ…å†µæ¥ä¿®æ”¹å†²çªçš„æ–‡ä»¶\nä¿®æ”¹å®Œå†²çªæ–‡ä»¶å, åé¢è¿›è¡Œadd , commit æŒ‡å®šè§£å†³å†²çªä¿¡æ¯\n7. Gitåˆå¹¶çš„å¿«è¿›æ¨¡å¼ åœ¨masteræ‰§è¡Œåˆå¹¶æ“ä½œ,å°±ä¼šæ‰§è¡Œå¿«è¿›æ¨¡å¼(æ•ˆæœæ˜¯ä¸€æ ·çš„)\n8. git revert (è¿˜åŸ) git revert æ’¤é”€æŸæ¬¡æ“ä½œï¼Œæ­¤æ¬¡æ“ä½œä¹‹å‰å’Œä¹‹åçš„commitå’Œhistoryéƒ½ä¼šä¿ç•™ï¼Œå¹¶ä¸”æŠŠè¿™æ¬¡æ’¤é”€ä½œä¸ºä¸€æ¬¡æœ€æ–°çš„æäº¤\ngit revertå‘½ä»¤å¯ä»¥è¢«è®¤ä¸ºæ˜¯â€œæ’¤æ¶ˆâ€å‘½ä»¤ã€‚ä½†æ˜¯å®ƒä¸æ˜¯ä¼ ç»Ÿçš„æ’¤æ¶ˆæ“ä½œã€‚ä¸æ˜¯ä»é¡¹ç›®å†å²ä¸­åˆ é™¤æäº¤ï¼Œè€Œæ˜¯è®¡ç®—å‡ºå¦‚ä½•åè½¬è¦æ’¤é”€çš„æäº¤æ‰€å¼•å…¥çš„æ›´æ”¹ï¼Œå¹¶é™„åŠ ä¸€ä¸ªæ–°çš„æäº¤åŠç”Ÿæˆçš„åå‘å†…å®¹ã€‚è¿™ç§æ–¹å¼å¯ä»¥é˜²æ­¢ Git ä¸¢å¤±å†å²è®°å½•ï¼Œè¿™å¯¹äºæˆ‘ä»¬çš„ä¿®è®¢å†å²è®°å½•çš„å®Œæ•´æ€§å’Œå¯é çš„åä½œéå¸¸é‡è¦ã€‚\nå½“æƒ³è¦åº”ç”¨é¡¹ç›®å†å²ä¸­æäº¤çš„é€†å‘æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ revertã€‚å¦‚æœæˆ‘ä»¬æ­£åœ¨è·Ÿè¸ªé”™è¯¯å¹¶å‘ç°å®ƒæ˜¯ç”±å•ä¸ªæäº¤å¼•å…¥çš„ã€‚æ­¤æ—¶æˆ‘ä»¬æ— éœ€æ‰‹åŠ¨è¿›å…¥ã€ä¿®å¤å¹¶æäº¤æ–°å¿«ç…§ï¼Œè€Œæ˜¯å¯ä»¥ä½¿ç”¨git revertè‡ªåŠ¨ä¸ºæˆ‘ä»¬å®Œæˆæ‰€æœ‰è¿™äº›å·¥ä½œã€‚\nrevertåˆ†ä¸º revert æ™®é€šcommit å’Œ revert merge commit\nå¯¹äºæ™®é€šçš„commitï¼Œä½¿ç”¨ git revert \u0026lt;commit id\u0026gt; å³å¯ï¼Œgit ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ commitï¼Œå°†æŒ‡å®šçš„ commit å†…å®¹ä»å½“å‰åˆ†æ”¯ä¸Šæ’¤é™¤\nå¯¹äºmerge commitï¼Œéœ€è¦æ·»åŠ  -m é€‰é¡¹ä»¥ä»£è¡¨è¿™æ¬¡ revert çš„æ˜¯ä¸€ä¸ª merge commit, ä½†å¦‚æœç›´æ¥ä½¿ç”¨ git revert \u0026lt;commit id\u0026gt;ï¼Œgit ä¹Ÿä¸çŸ¥é“åˆ°åº•è¦æ’¤é™¤å“ªä¸€æ¡åˆ†æ”¯ä¸Šçš„å†…å®¹ï¼Œè¿™æ—¶éœ€è¦æŒ‡å®šä¸€ä¸ª parent number æ ‡è¯†å‡º\u0026quot;ä¸»çº¿\u0026quot;ï¼Œä¸»çº¿çš„å†…å®¹å°†ä¼šä¿ç•™ï¼Œè€Œå¦ä¸€æ¡åˆ†æ”¯çš„å†…å®¹å°†è¢« revertã€‚ å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä» git show å‘½ä»¤çš„ç»“æœä¸­å¯ä»¥çœ‹åˆ°ï¼Œmerge commit çš„ parent åˆ†åˆ«ä¸º d98dc å’Œ ca82cï¼Œå…¶ä¸­ d98dc ä»£è¡¨ master åˆ†æ”¯ï¼ˆä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼‰ï¼Œca82c ä»£è¡¨ will-be-revert åˆ†æ”¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ -m é€‰é¡¹æ¥æ”¶çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ•°å­—å–å€¼ä¸º 1 å’Œ 2ï¼Œä¹Ÿå°±æ˜¯ Merge è¡Œé‡Œé¢åˆ—å‡ºæ¥çš„ç¬¬ä¸€ä¸ªè¿˜æ˜¯ç¬¬äºŒä¸ªï¼Œå…¶å«ä¹‰ç”¨æ¥ä¿ç•™æŸä¸ªåˆ†æ”¯ã€‚\ngit revertçš„æ³¨æ„äº‹é¡¹: å…³äºgit revertçš„ä¸€ç‚¹å‘\n1 git revert \u0026lt;commit id\u0026gt; #è¿˜åŸæŸäº›ç°æœ‰æäº¤ 1 2 # æ‰§è¡Œæ’¤é”€ 5f09a20 çš„æäº¤ git revert 5f09a20 å†æ¬¡æŸ¥çœ‹git-log\n9. git cherry-pick é€šè¿‡ cherry-pick å‘½ä»¤ï¼ŒGit å¯ä»¥å°†å…¶ä»–ä»»ä½•åˆ†æ”¯ä¸­çš„é€‰å®šæäº¤åˆå¹¶åˆ°å½“å‰çš„ Git HEAD åˆ†æ”¯ä¸­ã€‚\n1 git cherry-pick \u0026lt;commit sha\u0026gt;\t# å°†å…¶ä»–åˆ†æ”¯çš„commitIDçš„æäº¤åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ åœ¨æ‰§è¡Œ git merge æˆ– git rebase æ—¶ï¼Œä¸€ä¸ªåˆ†æ”¯çš„æ‰€æœ‰æäº¤éƒ½ä¼šè¢«åˆå¹¶ã€‚è€Œ cherry-pick å‘½ä»¤åˆ™å…è®¸ä½ é€‰æ‹©å•ä¸ªæäº¤è¿›è¡Œæ•´åˆã€‚\nåŒºåˆ«å›¾ç¤ºå¦‚ä¸‹:\n1 ä½¿ç”¨ merge çš„æƒ…å†µ: åœ¨æ‰§è¡Œ merge æˆ– rebase æ—¶ï¼Œä¸€ä¸ªåˆ†æ”¯çš„æ‰€æœ‰æäº¤éƒ½ä¼šè¢«æ•´åˆã€‚ 1 ä½¿ç”¨ cherry-pick çš„æƒ…å†µ: å…è®¸ä½ é€‰æ‹©ä¸ªåˆ«æäº¤è¿›è¡Œæ•´åˆã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œåªæœ‰ C2 è¢«æ•´åˆåˆ°ä¸»åˆ†æ”¯ï¼Œè€Œä¸æ˜¯ C4ã€‚ æ¡ˆä¾‹:\nå½“å‰åœ¨masteråˆ†æ”¯ä¸Š\n1 2 3 # æ‰§è¡Œ git cherry-pick 0ee5634, ä»developåˆ†æ”¯ä¸Šåˆå¹¶0ee5634è¿™ä¸€æ¬¡æäº¤ git cherry-pick 0ee5634 # åˆå¹¶åçš„ç»“æœå¦‚ä¸‹å›¾ ä»€ä¹ˆæ—¶å€™ç”¨ Cherry-pick?\nç®€è€Œè¨€ä¹‹å°±æ˜¯ï¼šå°½é‡å°‘ç”¨ã€‚ä¹‹æ‰€ä»¥è¦å°½é‡å°‘ç”¨ cherry-pickï¼Œæ˜¯å› ä¸ºå®ƒå¾ˆå®¹æ˜“äº§ç”Ÿ \u0026ldquo;é‡å¤\u0026quot;æäº¤ï¼šå½“ä½ ä½¿ç”¨ cherry-pick å°†ä¸€ä¸ªæäº¤æ•´åˆåˆ° HEAD åˆ†æ”¯æ—¶ï¼ŒGit å¿…é¡»åˆ›å»ºä¸€ä¸ªå†…å®¹å®Œå…¨ç›¸åŒçš„æ–°æäº¤ã€‚ä¸è¿‡ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„æäº¤å¯¹è±¡ï¼Œæœ‰è‡ªå·±çš„ SHA æ ‡è¯†ç¬¦ã€‚åŒæ—¶ä¹Ÿä¼šå¤±å»è·Ÿè¸ªæäº¤å†å²çš„èƒ½åŠ›ã€‚\nå¦‚æœä½ ä¸æŒ‰é¡ºåºæäº¤äº†å¾ˆå¤šæäº¤ï¼Œè¿™äº›æäº¤å°±ä¼šè¢«è®°å½•åœ¨ä½ çš„åˆ†æ”¯ä¸­ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä½ çš„ Git åˆ†æ”¯å‡ºç°ä¸ç†æƒ³çš„ç»“æœã€‚\nåªè¦èƒ½ç”¨ä¼ ç»Ÿçš„åˆå¹¶æˆ–é‡ç½®æ¥æ•´åˆï¼Œå°±åº”è¯¥è¿™ä¹ˆåšã€‚Cherry-pick åº”ä¿ç•™ç»™ä¸å¯èƒ½è¿™æ ·åšçš„æƒ…å†µï¼Œä¾‹å¦‚å¿…é¡»åˆ›å»º Hotfix æˆ–åªæƒ³ä»ä¸€ä¸ªåºŸå¼ƒçš„åˆ†æ”¯ä¸­ä¿å­˜ä¸€ä¸ªæˆ–å‡ ä¸ªæäº¤ã€‚\n10. git stash (æš‚å­˜) git stashï¼šå°†æœ¬åœ°æ²¡æäº¤çš„å†…å®¹è¿›è¡Œç¼“å­˜å¹¶ä»å½“å‰åˆ†æ”¯ç§»é™¤ã€‚ç¼“å­˜çš„æ•°æ®ç»“æ„ä¸ºå †æ ˆï¼Œå…ˆè¿›åå‡ºã€‚\næ³¨æ„ï¼šgit commitçš„å†…å®¹ä¸ä¼šè¢«ç¼“å­˜ï¼Œ ä½†git addçš„å†…å®¹ä¼šè¢«ç¼“å­˜ã€‚stash åªä¼šæ“ä½œè¢«gitè¿½è¸ªçš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœ‰æ–°å¢çš„æ–‡ä»¶ï¼Œéœ€è¦è¿›è¡Œgit add [æ–‡ä»¶å]è®©gitè¿½è¸ªè¯¥æ–‡ä»¶ï¼Œå†è¿›è¡Œstashå°±å¯ä»¥äº†ã€‚\nå‘½ä»¤å ä½œç”¨ git stash éšè—å½“å‰çš„å·¥ä½œç°åœº, æ­¤æ—¶, git statusçš„ç»“æœæ˜¯ clean git stash list æŸ¥çœ‹æ‰€æœ‰éšè—, æ¯ä¸€è¡Œçš„å†’å·å‰é¢çš„å­—ç¬¦ä¸²å°±æ˜¯æ ‡è¯†æ­¤éšè—çš„id git stash pop æ¢å¤æœ€æ–°çš„stashè¿›åº¦åˆ°å·¥ä½œåŒº, å¹¶åˆ é™¤æ ˆä¸­çš„stash git stash pop stash@{stash_id} æ¢å¤æŒ‡å®šçš„stashè¿›åº¦åˆ°å·¥ä½œåŒº, å¹¶åˆ é™¤æ ˆä¸­çš„stash git stash apply æ¢å¤æœ€æ–°çš„è¿›åº¦åˆ°å·¥ä½œåŒº, ä¸ä¼šåˆ é™¤æ ˆä¸­çš„stash git stash drop stash@{stash_id} ä»æš‚å­˜åˆ—è¡¨ä¸­åˆ é™¤ä¸€ä¸ªç‰¹å®šçš„æš‚å­˜ã€‚ git stash clear æ¸…ç©ºæš‚å­˜åŒºçš„æ‰€æœ‰stash, è°¨æ…ä½¿ç”¨(ä¸å½“ä½¿ç”¨ä¼šå¯¼è‡´æ›´æ”¹ä¸¢å¤±) git stash å‘½ä»¤å®ç”¨æŒ‡å—\næˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼š æ­£åœ¨devåˆ†æ”¯å¼€å‘æ–°åŠŸèƒ½ï¼Œåšåˆ°ä¸€åŠæ—¶æœ‰äººè¿‡æ¥åé¦ˆä¸€ä¸ªbugï¼Œè®©é©¬ä¸Šè§£å†³ï¼Œä½†æ˜¯æ–°åŠŸèƒ½åšåˆ°äº†ä¸€åŠä½ åˆä¸æƒ³æäº¤ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨git stashå‘½ä»¤å…ˆæŠŠå½“å‰è¿›åº¦ä¿å­˜èµ·æ¥ï¼Œç„¶ååˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯å»ä¿®æ”¹bugï¼Œä¿®æ”¹å®Œæäº¤åï¼Œå†åˆ‡å›devåˆ†æ”¯ï¼Œä½¿ç”¨git stash popæ¥æ¢å¤ä¹‹å‰çš„è¿›åº¦ç»§ç»­å¼€å‘æ–°åŠŸèƒ½ã€‚\nåˆ†æ”¯æœ‰æ”¹å˜æ—¶ä¸æäº¤åˆä¸èƒ½åˆ‡æ¢åˆ†æ”¯ï¼Œå¦‚ä¸‹ï¼š\nä½¿ç”¨ git stash ä¿å­˜å½“å‰å·¥ä½œè¿›åº¦ï¼Œä¼šæŠŠæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ”¹åŠ¨ä¿å­˜èµ·æ¥ã€‚æ‰§è¡Œå®Œè¿™ä¸ªå‘½ä»¤åï¼Œåœ¨è¿è¡Œgit statuså‘½ä»¤ï¼Œå°±ä¼šå‘ç°å½“å‰æ˜¯ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œåŒºï¼Œæ²¡æœ‰ä»»ä½•æ”¹åŠ¨ã€‚ä½¿ç”¨git stash save 'message...'å¯ä»¥æ·»åŠ ä¸€äº›æ³¨é‡Š\nå®ƒä¼šä¿å­˜å½“å‰å·¥ä½œè¿›åº¦ï¼Œä¼šæŠŠæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ”¹åŠ¨ä¿å­˜åˆ°ä¸€ä¸ªæœªå®Œç»“å˜æ›´çš„å †æ ˆä¸­ï¼›æ‰§è¡Œå®Œè¿™ä¸ªå‘½ä»¤åï¼Œåœ¨è¿è¡Œ git status å‘½ä»¤ï¼Œå°±ä¼šå‘ç°å½“å‰æ˜¯ä¸€ä¸ªå¹²å‡€çš„å·¥ä½œåŒºï¼Œæ²¡æœ‰ä»»ä½•æ”¹åŠ¨ã€‚\ngit stash æ˜¯æœ¬åœ°çš„ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼› å¯ä»¥é€šè¿‡ä½¿ç”¨git stash save 'message...'å¯ä»¥æ·»åŠ ä¸€äº›æ³¨é‡Šã€‚ ä¸‹é¢æ˜¯ä½¿ç”¨ git stash æ—¶è¦éµå¾ªçš„é¡ºåºï¼š\nå°†ä¿®æ”¹ä¿å­˜åˆ°åˆ†æ”¯ Aã€‚ è¿è¡Œ git stashã€‚ ç­¾å‡ºåˆ†æ”¯ Bã€‚ ä¿®æ­£ B åˆ†æ”¯çš„é”™è¯¯ã€‚ æäº¤å¹¶ï¼ˆå¯é€‰ï¼‰æ¨é€åˆ°è¿œç¨‹ã€‚ å›åˆ°åˆ†æ”¯ A è¿è¡Œ git stash pop æ¥å–å›ä½ çš„æš‚å­˜çš„æ”¹åŠ¨ã€‚ 11. git rebase (è°¨æ…ä½¿ç”¨) ç†è§£rebaseå‘½ä»¤ git rebase å‘½ä»¤çš„æ–‡æ¡£æè¿°æ˜¯ Reapply commits on top of another base tipï¼Œä»å­—é¢ä¸Šç†è§£æ˜¯ã€Œåœ¨å¦ä¸€ä¸ªåŸºç«¯ä¹‹ä¸Šé‡æ–°åº”ç”¨æäº¤ã€ï¼Œè¿™ä¸ªå®šä¹‰å¬èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Œæ¢ä¸ªè§’åº¦å¯ä»¥ç†è§£ä¸ºã€Œå°†åˆ†æ”¯çš„åŸºç¡€ä»ä¸€ä¸ªæäº¤æ”¹æˆå¦ä¸€ä¸ªæäº¤ï¼Œä½¿å…¶çœ‹èµ·æ¥å°±åƒæ˜¯ä»å¦ä¸€ä¸ªæäº¤ä¸­åˆ›å»ºäº†åˆ†æ”¯ä¸€æ ·ã€ï¼Œå¦‚ä¸‹å›¾ï¼š\nå‡è®¾æˆ‘ä»¬ä» Master çš„æäº¤ A åˆ›å»ºäº† Feature åˆ†æ”¯è¿›è¡Œæ–°çš„åŠŸèƒ½å¼€å‘ï¼Œè¿™æ—¶ A å°±æ˜¯ Feature çš„åŸºç«¯ã€‚æ¥ç€ Matser æ–°å¢äº†ä¸¤ä¸ªæäº¤ B å’Œ Cï¼Œ Feature æ–°å¢äº†ä¸¤ä¸ªæäº¤ D å’Œ Eã€‚ç°åœ¨æˆ‘ä»¬å‡ºäºæŸç§åŸå› ï¼Œæ¯”å¦‚æ–°åŠŸèƒ½çš„å¼€å‘ä¾èµ– Bã€C æäº¤ï¼Œéœ€è¦å°† Master çš„ä¸¤ä¸ªæ–°æäº¤æ•´åˆåˆ° Feature åˆ†æ”¯ï¼Œä¸ºäº†ä¿æŒæäº¤å†å²çš„æ•´æ´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ‡æ¢åˆ° Feature åˆ†æ”¯æ‰§è¡Œ rebase æ“ä½œï¼š\n1 git rebase master\t# åœ¨Featureåˆ†æ”¯ä¸Šæ‰§è¡Œ git rebase master æ“ä½œ rebase çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯é¦–å…ˆæ‰¾åˆ°è¿™ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³å½“å‰åˆ†æ”¯ Featureã€ rebase æ“ä½œçš„ç›®æ ‡åŸºåº•åˆ†æ”¯ Masterï¼‰ çš„æœ€è¿‘å…±åŒç¥–å…ˆæäº¤ Aï¼Œç„¶åå¯¹æ¯”å½“å‰åˆ†æ”¯ç›¸å¯¹äºè¯¥ç¥–å…ˆæäº¤çš„å†æ¬¡æäº¤ï¼ˆD å’Œ Eï¼‰ï¼Œæå–ç›¸åº”çš„ä¿®æ”¹å¹¶å­˜ä¸ºä¸´æ—¶æ–‡ä»¶ï¼Œç„¶åå°†å½“å‰åˆ†æ”¯æŒ‡å‘ç›®æ ‡åŸºåº• Master æ‰€æŒ‡å‘çš„æäº¤ C, æœ€åä»¥æ­¤ä½œä¸ºæ–°çš„åŸºç«¯å°†ä¹‹å‰å¦å­˜ä¸ºä¸´æ—¶æ–‡ä»¶çš„ä¿®æ”¹ä¾åºåº”ç”¨ã€‚\næˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ä¸Šæ–‡ç†è§£æˆå°† Feature åˆ†æ”¯çš„åŸºç¡€ä»æäº¤ A æ”¹æˆäº†æäº¤ Cï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯ä»æäº¤ C åˆ›å»ºäº†è¯¥åˆ†æ”¯ï¼Œå¹¶æäº¤äº† D å’Œ Eã€‚ä½†å®é™…ä¸Šè¿™åªæ˜¯ã€Œçœ‹èµ·æ¥ã€ï¼Œåœ¨å†…éƒ¨ Git å¤åˆ¶äº†æäº¤ D å’Œ E çš„å†…å®¹ï¼Œåˆ›å»ºæ–°çš„æäº¤ D\u0026rsquo; å’Œ E\u0026rsquo; å¹¶å°†å…¶åº”ç”¨åˆ°ç‰¹å®šåŸºç¡€ä¸Šï¼ˆAâ†’Bâ†’Cï¼‰ã€‚å°½ç®¡æ–°çš„ Feature åˆ†æ”¯å’Œä¹‹å‰çœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„ï¼Œä½†å®ƒæ˜¯ç”±å…¨æ–°çš„æäº¤ç»„æˆçš„ã€‚\nrebase æ“ä½œçš„å®è´¨æ˜¯ä¸¢å¼ƒä¸€äº›ç°æœ‰çš„æäº¤ï¼Œç„¶åç›¸åº”åœ°æ–°å»ºä¸€äº›å†…å®¹ä¸€æ ·ä½†å®é™…ä¸Šä¸åŒçš„æäº¤(commitIDä¸åŒ)ã€‚\n1 2 # åœ¨developåˆ†æ”¯ä¸Šæ‰§è¡Œrebaseæ“ä½œ git rebase master rebaseä¸»è¦ç”¨é€” rebase é€šå¸¸ç”¨äºé‡å†™æäº¤å†å²ã€‚ä¸‹é¢çš„ä½¿ç”¨åœºæ™¯åœ¨å¤§å¤šæ•° Git å·¥ä½œæµä¸­æ˜¯ååˆ†å¸¸è§çš„ï¼š\næˆ‘ä»¬ä» master åˆ†æ”¯æ‹‰å–äº†ä¸€æ¡ feature åˆ†æ”¯åœ¨æœ¬åœ°è¿›è¡ŒåŠŸèƒ½å¼€å‘ è¿œç¨‹çš„ master åˆ†æ”¯åœ¨ä¹‹ååˆåˆå¹¶äº†ä¸€äº›æ–°çš„æäº¤ æˆ‘ä»¬æƒ³åœ¨ feature åˆ†æ”¯é›†æˆ master çš„æœ€æ–°æ›´æ”¹ rebase å’Œ merge çš„åŒºåˆ« ä»¥ä¸Šåœºæ™¯åŒæ ·å¯ä»¥ä½¿ç”¨ merge æ¥è¾¾æˆç›®çš„ï¼Œä½†ä½¿ç”¨ rebase å¯ä»¥ä½¿æˆ‘ä»¬ä¿æŒä¸€ä¸ªçº¿æ€§ä¸”æ›´åŠ æ•´æ´çš„æäº¤å†å²ã€‚å‡è®¾æˆ‘ä»¬æœ‰å¦‚ä¸‹åˆ†æ”¯ï¼š\n1 2 3 D---E feature / A---B---C master ç°åœ¨æˆ‘ä»¬å°†åˆ†åˆ«ä½¿ç”¨ merge å’Œ rebaseï¼ŒæŠŠ master åˆ†æ”¯çš„ Bã€C æäº¤é›†æˆåˆ° feature åˆ†æ”¯ï¼Œå¹¶åœ¨ feature åˆ†æ”¯æ–°å¢ä¸€ä¸ªæäº¤ Fï¼Œç„¶åå†å°† feature åˆ†æ”¯åˆå…¥ master ï¼Œæœ€åå¯¹æ¯”ä¸¤ç§æ–¹æ³•æ‰€å½¢æˆçš„æäº¤å†å²çš„åŒºåˆ«ã€‚\nä½¿ç”¨ merge\nåˆ‡æ¢åˆ° feature åˆ†æ”¯ï¼š git checkout featureã€‚ åˆå¹¶ master åˆ†æ”¯çš„æ›´æ–°ï¼š git merge masterã€‚ æ–°å¢ä¸€ä¸ªæäº¤ Fï¼š git add . \u0026amp;\u0026amp; git commit -m \u0026quot;commit F\u0026quot; ã€‚ åˆ‡å› master åˆ†æ”¯å¹¶æ‰§è¡Œå¿«è¿›åˆå¹¶ï¼š git chekcout master \u0026amp;\u0026amp; git merge featureã€‚ æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\næˆ‘ä»¬å°†å¾—åˆ°å¦‚ä¸‹æäº¤å†å²ï¼š\n1 2 3 4 5 6 7 8 9 * 6fa5484 (HEAD -\u0026gt; master, feature) commit F * 875906b Merge branch \u0026#39;master\u0026#39; into feature |\\ | | 5b05585 commit E | | f5b0fc0 commit D * * d017dff commit C * * 9df916f commit B |/ * cb932a6 commit A ä½¿ç”¨ rebase æ­¥éª¤ä¸ä½¿ç”¨ merge åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ç¬¬ 2 æ­¥çš„å‘½ä»¤æ›¿æ¢æˆï¼š git rebase masterã€‚\næ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\næˆ‘ä»¬å°†å¾—åˆ°å¦‚ä¸‹æäº¤å†å²ï¼š\n1 2 3 4 5 6 * 74199ce (HEAD -\u0026gt; master, feature) commit F * e7c7111 commit E * d9623b0 commit D * 73deeed commit C * c50221f commit B * ef13725 commit A å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ rebase æ–¹æ³•å½¢æˆçš„æäº¤å†å²æ˜¯å®Œå…¨çº¿æ€§çš„ï¼ŒåŒæ—¶ç›¸æ¯” merge æ–¹æ³•å°‘äº†ä¸€æ¬¡ merge æäº¤ï¼Œçœ‹ä¸Šå»æ›´åŠ æ•´æ´ã€‚\nrebaseä¸Šæ½œåœ¨å¼Šç«¯å’Œåå¯¹æ„è§ ä»ä»¥ä¸Šåœºæ™¯æ¥çœ‹ rebase åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä½†æˆ‘ä»¬ä¹Ÿéœ€è¦æ„è¯†åˆ°å®ƒä¸æ˜¯ä¸‡èƒ½çš„ï¼Œç”šè‡³å¯¹æ–°æ‰‹æ¥è¯´æœ‰äº›å±é™©ï¼Œç¨æœ‰ä¸æ…å°±ä¼šå‘ç° git log é‡Œçš„æäº¤ä¸è§äº†ï¼Œæˆ–è€…å¡åœ¨ rebase çš„æŸä¸ªæ­¥éª¤ä¸çŸ¥é“å¦‚ä½•æ¢å¤ã€‚\næˆ‘ä»¬ä¸Šé¢å·²ç»æåˆ°äº† rebase æœ‰ä¿æŒæ•´æ´çš„çº¿æ€§æäº¤å†å²çš„ä¼˜ç‚¹ï¼Œä½†ä¹Ÿéœ€è¦æ„è¯†åˆ°å®ƒæœ‰ä»¥ä¸‹æ½œåœ¨çš„å¼Šç«¯ï¼š\nå¦‚æœæ¶‰åŠåˆ°å·²ç»æ¨é€è¿‡çš„æäº¤ï¼Œéœ€è¦å¼ºåˆ¶æ¨é€æ‰èƒ½å°†æœ¬åœ° rebase åçš„æäº¤æ¨é€åˆ°è¿œç¨‹ã€‚å› æ­¤ç»å¯¹ä¸è¦åœ¨ä¸€ä¸ªå…¬å…±åˆ†æ”¯ï¼ˆä¹Ÿå°±æ˜¯è¯´è¿˜æœ‰å…¶ä»–äººåŸºäºè¿™ä¸ªåˆ†æ”¯è¿›è¡Œå¼€å‘ï¼‰æ‰§è¡Œ rebaseï¼Œå¦åˆ™å…¶ä»–äººä¹‹åæ‰§è¡Œ git pull ä¼šåˆå¹¶å‡ºä¸€æ¡ä»¤äººå›°æƒ‘çš„æœ¬åœ°æäº¤å†å²ï¼Œè¿›ä¸€æ­¥æ¨é€å›è¿œç¨‹åˆ†æ”¯ååˆä¼šå°†è¿œç¨‹çš„æäº¤å†å²æ‰“ä¹±ï¼Œè¾ƒä¸¥é‡çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå¯¹ä½ çš„äººèº«å®‰å…¨å¸¦æ¥é£é™©ã€‚ å¯¹æ–°æ‰‹ä¸å‹å¥½ï¼Œæ–°æ‰‹å¾ˆæœ‰å¯èƒ½åœ¨äº¤äº’æ¨¡å¼ä¸­è¯¯æ“ä½œã€Œä¸¢å¤±ã€æŸäº›æäº¤ï¼ˆä½†å…¶å®æ˜¯èƒ½å¤Ÿæ‰¾å›çš„ï¼‰ã€‚ å‡å¦‚ä½ é¢‘ç¹çš„ä½¿ç”¨ rebase æ¥é›†æˆä¸»åˆ†æ”¯çš„æ›´æ–°ï¼Œä¸€ä¸ªæ½œåœ¨çš„åæœæ˜¯ä½ ä¼šé‡åˆ°è¶Šæ¥è¶Šå¤šéœ€è¦åˆå¹¶çš„å†²çªã€‚å°½ç®¡ä½ å¯ä»¥åœ¨ rebase è¿‡ç¨‹ä¸­å¤„ç†è¿™äº›å†²çªï¼Œä½†è¿™å¹¶éé•¿ä¹…ä¹‹è®¡ï¼Œæ›´æ¨èçš„åšæ³•æ˜¯é¢‘ç¹çš„åˆå…¥ä¸»åˆ†æ”¯ç„¶ååˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸€ä¸ªé•¿æ—¶é—´å­˜åœ¨çš„åŠŸèƒ½åˆ†æ”¯ã€‚ å¦å¤–æœ‰ä¸€äº›è§‚ç‚¹æ˜¯æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…é‡å†™æäº¤å†å²ï¼š\næœ‰ä¸€ç§è§‚ç‚¹è®¤ä¸ºï¼Œä»“åº“çš„æäº¤å†å²å³æ˜¯ è®°å½•å®é™…å‘ç”Ÿè¿‡ä»€ä¹ˆã€‚ å®ƒæ˜¯é’ˆå¯¹å†å²çš„æ–‡æ¡£ï¼Œæœ¬èº«å°±æœ‰ä»·å€¼ï¼Œä¸èƒ½ä¹±æ”¹ã€‚ ä»è¿™ä¸ªè§’åº¦çœ‹æ¥ï¼Œæ”¹å˜æäº¤å†å²æ˜¯ä¸€ç§äºµæ¸ï¼Œä½ ä½¿ç”¨ è°è¨€ æ©ç›–äº†å®é™…å‘ç”Ÿè¿‡çš„äº‹æƒ…ã€‚ å¦‚æœç”±åˆå¹¶äº§ç”Ÿçš„æäº¤å†å²æ˜¯ä¸€å›¢ç³Ÿæ€ä¹ˆåŠï¼Ÿ æ—¢ç„¶äº‹å®å°±æ˜¯å¦‚æ­¤ï¼Œé‚£ä¹ˆè¿™äº›ç—•è¿¹å°±åº”è¯¥è¢«ä¿ç•™ä¸‹æ¥ï¼Œè®©åäººèƒ½å¤ŸæŸ¥é˜…ã€‚\nä»¥åŠé¢‘ç¹çš„ä½¿ç”¨ rebase å¯èƒ½ä¼šä½¿ä»å†å²æäº¤ä¸­å®šä½ bug å˜å¾—æ›´åŠ å›°éš¾ï¼Œè¯¦è§ Why you should stop using Git rebaseã€‚\ngit rebase ç”¨æ³•è¯¦è§£ä¸å·¥ä½œåŸç†\ngit rebase å˜åŸº\nå…­. å¼€å‘ä¸­åˆ†æ”¯ä½¿ç”¨åŸåˆ™ä¸æµç¨‹ å‡ ä¹æ‰€æœ‰çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿéƒ½ä»¥æŸç§å½¢å¼æ”¯æŒåˆ†æ”¯ã€‚\nä½¿ç”¨åˆ†æ”¯æ„å‘³ç€ä½ å¯ä»¥æŠŠä½ çš„å·¥ä½œä»å¼€å‘ä¸»çº¿ä¸Šåˆ†ç¦»å¼€æ¥è¿›è¡Œ.\né‡å¤§çš„Bugä¿®æ”¹ã€å¼€å‘æ–°çš„åŠŸèƒ½ï¼Œä»¥å…å½±å“å¼€å‘ä¸»çº¿ã€‚\nåœ¨å¼€å‘ä¸­ï¼Œä¸€èˆ¬æœ‰å¦‚ä¸‹åˆ†æ”¯ä½¿ç”¨åŸåˆ™ä¸æµç¨‹ï¼š\n1. masteråˆ†æ”¯(ç”Ÿäº§ç¯å¢ƒ) çº¿ä¸Šåˆ†æ”¯ï¼Œä¸»åˆ†æ”¯ï¼Œä¸­å°è§„æ¨¡é¡¹ç›®ä½œä¸ºçº¿ä¸Šè¿è¡Œçš„åº”ç”¨å¯¹åº”çš„åˆ†æ”¯; éœ€è¦ç¡®ä¿masteråˆ†æ”¯çš„ç¨³å®šæ€§, ä¸€èˆ¬ä¸ä¼šå†masteråˆ†æ”¯ä¸Šç›´æ¥è¿›è¡Œå¼€å‘. ä¸€èˆ¬ä¸ä¼šåˆ é™¤masterä¸»åˆ†æ”¯ 2. developåˆ†æ”¯(å¼€å‘ç¯å¢ƒ) æ˜¯ä»masteråˆ›å»ºçš„åˆ†æ”¯ï¼Œä¸€èˆ¬ä½œä¸ºå¼€å‘éƒ¨é—¨çš„ä¸»è¦å¼€å‘åˆ†æ”¯. å¼€å‘æ–°åŠŸèƒ½ä¸€èˆ¬éƒ½åœ¨developåˆ†æ”¯ä¸Šå¼€å‘ å¦‚æœæ²¡æœ‰å…¶ä»–å¹¶è¡Œå¼€å‘ä¸åŒæœŸä¸Šçº¿è¦æ±‚ï¼Œéƒ½å¯ä»¥åœ¨æ­¤ç‰ˆæœ¬è¿›è¡Œå¼€å‘ï¼Œé˜¶æ®µå¼€å‘å®Œæˆåï¼Œéœ€è¦æ˜¯åˆå¹¶åˆ°masteråˆ†æ”¯,å‡†å¤‡ä¸Šçº¿ã€‚ ä¸€èˆ¬ä¹Ÿä¸ä¼šåˆ é™¤developåˆ†æ”¯ 3. feature(ç‰¹å¾åˆ†æ”¯) ä»developåˆ›å»ºçš„åˆ†æ”¯, ä¸ºäº†å®Œæˆä¸åŒçš„å¼€å‘éœ€æ±‚ ä¸€èˆ¬æ˜¯åŒæœŸå¹¶è¡Œå¼€å‘ï¼Œä½†ä¸åŒæœŸä¸Šçº¿æ—¶åˆ›å»ºçš„åˆ†æ”¯ åˆ†æ”¯ä¸Šçš„ç ”å‘ä»»åŠ¡å®Œæˆååˆå¹¶åˆ°developåˆ†æ”¯ã€‚ æµ‹è¯•é€šè¿‡å,åˆå¹¶åˆ°developåˆ†æ”¯å, å¯ä»¥åˆ é™¤è¯¥åˆ†æ”¯ 4. hotfix(BUGä¿®å¤åˆ†æ”¯) ä»masteræ´¾ç”Ÿçš„åˆ†æ”¯ï¼Œä¸€èˆ¬ä½œä¸ºçº¿ä¸Šbugä¿®å¤ä½¿ç”¨ ä¿®å¤å®Œæˆåéœ€è¦åˆå¹¶åˆ°masterã€testã€developåˆ†æ”¯ã€‚ BUGä¿®å¤å®Œæˆå¹¶åˆå¹¶å®Œæˆåå¯ä»¥åˆ é™¤è¯¥åˆ†æ”¯ 5. teståˆ†æ”¯(æµ‹è¯•åˆ†æ”¯)ç­‰å…¶ä»–åˆ†æ”¯ testä¸»è¦æ˜¯ç”¨äºæµ‹è¯• å¯ä»¥åˆ é™¤ 6. åˆ†æ”¯ç¤ºæ„å›¾ gitä½¿ç”¨è¿œç«¯ä»“åº“å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»“åº“\n1 2 3 git fetch --all #å°†è¿œç«¯ä»“åº“çš„æ‰€æœ‰æŠ“å–ä¸‹æ¥ git reset --hard origin/[åˆ†æ”¯åç§°]\t#ç‰ˆæœ¬å›é€€ git pull #é‡æ–°æ‹‰å–å¹¶åˆå¹¶ gitæœ¬åœ°å¼ºåˆ¶è¦†ç›–è¿œç¨‹ è¯´æ˜åˆ†æ”¯æƒ…å†µ\n1 git push origin [åˆ†æ”¯åç§°] --force\t#å¼ºåˆ¶æ¨é€åˆ°åˆ†æ”¯ï¼Œè°¨æ…ä½¿ç”¨ ä¸ƒ. Gitè¿œç¨‹ä»“åº“ å¸¸è§çš„ä»£ç æ‰˜ç®¡æœåŠ¡ GitHubï¼ˆ åœ°å€ï¼šhttps://github.com/ ï¼‰æ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ï¼Œå› ä¸ºåªæ”¯æŒGit ä½œä¸ºå”¯ä¸€çš„ç‰ˆæœ¬åº“æ ¼å¼è¿›è¡Œæ‰˜ç®¡ï¼Œæ•…åGitHub Giteeï¼ˆåœ°å€ï¼š https://gitee.com/ ï¼‰æ˜¯å›½å†…çš„ä¸€ä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼Œç”±äºæœåŠ¡å™¨åœ¨å›½å†…ï¼Œæ‰€ä»¥ç›¸æ¯”äºGitHubï¼Œç äº‘é€Ÿåº¦ä¼šæ›´å¿«, ä½†æ˜¯å­˜åœ¨ä»£ç å®¡æ ¸, æœ‰å­˜åœ¨ä»£ç å®¡æ ¸ä¸é€šè¿‡çš„å±é™©. GitLab ï¼ˆåœ°å€ï¼š https://about.gitlab.com/ ï¼‰æ˜¯ä¸€ä¸ªç”¨äºä»“åº“ç®¡ç†ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ï¼Œä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡ï¼Œä¸€èˆ¬ç”¨äºåœ¨ä¼ä¸šã€å­¦æ ¡ç­‰å†…éƒ¨ç½‘ç»œæ­å»ºgitç§æœã€‚\nGitea (åœ°å€: https://about.gitea.com/)æ˜¯ä¸€ä¸ªè½»é‡çº§çš„DevOpså¹³å°è½¯ä»¶ï¼Œå®ƒæ”¯æŒGitæ‰˜ç®¡ã€ä»£ç å®¡æŸ¥ã€å›¢é˜Ÿåä½œã€è½¯ä»¶åŒ…æ³¨å†Œå’ŒCI/CDç­‰åŠŸèƒ½ã€‚ä¸GitHubå’ŒGitLabç›¸æ¯”ï¼ŒGiteaçš„ä¸€ä¸ªæ˜¾è‘—ç‰¹ç‚¹æ˜¯å®ƒæä¾›äº†è‡ªæ‰˜ç®¡çš„èƒ½åŠ›ï¼Œè¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥å®Œå…¨æ§åˆ¶è‡ªå·±çš„ä»“åº“å’ŒåŸºç¡€è®¾æ–½ï¼Œè€Œä¸éœ€è¦ä¾èµ–å¤–éƒ¨æœåŠ¡æä¾›å•†ã€‚æ­¤å¤–ï¼ŒGiteaçš„è®¾è®¡ç›®æ ‡æ˜¯æ˜“äºå®‰è£…å’Œä½¿ç”¨ï¼Œå®ƒçš„æ€§èƒ½å‡ºè‰²ï¼Œèƒ½å¤Ÿå¿«é€Ÿå“åº”å„ç§è¯·æ±‚ï¼Œä¿è¯ç”¨æˆ·ä½“éªŒ\nä¼ä¸šä¸­å¼€å‘ä¸€èˆ¬ä½¿ç”¨çš„æ˜¯GitLab, å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æœºæˆ¿æ¥æ­å»º,è‡ªå·±çš„ä»£ç è‡ªå·±æ¥æ‰˜ç®¡\ngithubä¸€èˆ¬æ˜¯å¾ˆå¤šçš„å¼€æºé¡¹ç›®çš„æœåŠ¡æ‰˜ç®¡å¹³å°(å›½å†…ä¸€èˆ¬ä½¿ç”¨çš„æ˜¯Gitee)\nGitè¿œç¨‹ä»“åº“çš„SSHé…ç½® GitHub é…ç½® SSH Key çš„æ­¥éª¤åŠåŸç†è§£é‡Š ssh key çš„é…ç½®æ˜¯é’ˆå¯¹æ¯å°ä¸»æœºçš„ï¼æ¯”å¦‚æˆ‘åœ¨æŸå°ä¸»æœºä¸Šæ“ä½œ git å’Œæˆ‘çš„è¿œç¨‹ä»“åº“ï¼Œæƒ³è¦ push æ—¶ä¸è¾“å…¥è´¦å·å¯†ç ï¼Œèµ° ssh åè®®ï¼Œå°±éœ€è¦é…ç½® ssh keyï¼Œæ”¾ä¸Šå»çš„ key æ˜¯å½“å‰ä¸»æœºçš„ ssh å…¬é’¥ã€‚é‚£ä¹ˆå¦‚æœæˆ‘æ¢äº†ä¸€å°å…¶ä»–ä¸»æœºï¼Œæƒ³è¦å®ç°æ— å¯†ç™»å½•ï¼Œä¹Ÿå°±éœ€è¦é‡æ–°é…ç½®ã€‚\n1.åˆ›å»ºè¿œç¨‹ä»“åº“ 2.é…ç½®SSHå…¬é’¥ ç”ŸæˆSSHå…¬é’¥\n1 ssh-keygen -t rsa\t#ä½¿ç”¨rsaæ–¹å¼ç”Ÿæˆéå¯¹ç§°ç§˜é’¥ æ³¨æ„: å¦‚æœå…¬é’¥å·²ç»å­˜åœ¨,åˆ™è‡ªåŠ¨è¦†ç›–\nåœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„ .ssh ç›®å½•ä¸‹ä¼šç”Ÿæˆç›¸åº”çš„å…¬é’¥id_rsa.pub\nå°†ç”Ÿæˆçš„å…¬é’¥id_rsa.pubå†…å®¹å¤åˆ¶åˆ°ä»£ç æ‰˜ç®¡å¹³å°ä¸Š\nç‚¹å‡»ç¡®å®šåè¾“å…¥å¯†ç åå°±é…ç½®å¥½äº†å…¬é’¥, å¯ä»¥åœ¨gitbashä¸­æµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸ\n1 ssh -T git@gitee.com\t#éœ€è¦è¾“å…¥ yes æ“ä½œè¿œç¨‹ä»“åº“ 1.æ·»åŠ è¿œç¨‹ä»“åº“ 1 git remote add [è¿œç«¯ä»“åº“å] [sshè¿œç¨‹ä»“åº“åœ°å€]\t#ä¸€èˆ¬è¿œç«¯ä»“åº“åéƒ½ä¸º origin 1 git remote add [è¿œç«¯ä»“åº“å] [httpsè¿œç¨‹ä»“åº“åœ°å€] #ä¸€èˆ¬è¿œç«¯ä»“åº“åéƒ½ä¸º origin 1 git remote add origin git@gitee.com:abin_z/git-demo.git\t#originä»…ä»…æ˜¯è¿œç«¯ä»“åº“å, è¿˜æ²¡æœ‰è¿œç«¯åˆ†æ”¯å å–æ¶ˆæœ¬åœ°ç›®å½•ä¸‹å…³è”çš„è¿œç¨‹åº“\n1 git remote remove [è¿œç¨‹ä»“åº“å] # æ¡ˆä¾‹: git remote remove origin, ä¼šå–æ¶ˆæœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“çš„å…³è” 2.æŸ¥çœ‹è¿œç¨‹ä»“åº“ 1 2 git remote #æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„è¿œç¨‹ä»“åº“çš„åç§° git remote -v\t#æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„åç§°å’Œè¿œç¨‹ä»“åº“çš„ç½‘å€ 3.æ¨é€åˆ°è¿œç¨‹ä»“åº“ åœ¨æ¨é€(push)æ“ä½œä¹‹å‰ï¼Œå¦‚æƒ³è¦æ£€æŸ¥æ–‡ä»¶ä»£ç å˜åŒ–ï¼Œå¯ä½¿ç”¨git show [commitID] å‘½ä»¤æŒ‡å®šæäº¤IDæ¥æŸ¥çœ‹å…·ä½“çš„å˜åŒ–ã€‚\n1 git push [-f] [--set-upstream] [è¿œç«¯åˆ†æ”¯å [æœ¬åœ°åˆ†æ”¯å]:[è¿œç«¯åˆ†æ”¯å]]\t-f è¡¨ç¤ºå¼ºåˆ¶æ¨é€\nå¦‚æœè¿œç¨‹åˆ†æ”¯åå’Œæœ¬åœ°åˆ†æ”¯åä¸€è‡´,åˆ™å¯ä»¥åªå†™æœ¬åœ°åˆ†æ”¯å\n1 git push origin master \u0026ndash;set-upstream è¡¨ç¤ºåœ¨æ¨é€åˆ°è¿œç«¯çš„åŒæ—¶å¹¶å»ºç«‹èµ·æœ¬åœ°åˆ†æ”¯å’Œè¿œç«¯åˆ†æ”¯çš„è¿½è¸ªå…³ç³»\n1 git push --set-upstream origin master å¦‚æœå½“å‰åˆ†æ”¯å·²ç»å’Œè¿œç«¯åˆ†æ”¯å…³è”,åˆ™å¯ä»¥çœç•¥åˆ†æ”¯åå’Œè¿œç«¯å\n1 git push\t#å°†masteråˆ†æ”¯æ¨é€åˆ°è¿œç«¯çš„masteråˆ†æ”¯ 1 git push --set-upstream origin master 4.å…³è”è¿œç¨‹åˆ†æ”¯ 1 2 3 4 5 6 7 ## å»ºç«‹å½“å‰åˆ†æ”¯ä¸æŒ‡å®šè¿œç¨‹åˆ†æ”¯çš„è¿½è¸ªå…³ç³»ï¼Œä½†ä¸ä¼šæ‹‰å–ä»£ç ã€‚å‚æ•°\u0026#34;-u\u0026#34;å’Œ\u0026#34;--set-upstream-to\u0026#34;åŒæ ·çš„æ„æ€ã€‚ $ git branch -u \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; $ git branch --set-upstream-to \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; git branch -vv #ç”¨äºæŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ä¸è¿œç«¯åˆ†æ”¯çš„ç»‘å®šæƒ…å†µ git push --set-upstream origin master:master\t#æ¨é€çš„åŒæ—¶å»ºç«‹è¿½è¸ªå…³ç³» åˆ›å»ºæœ¬åœ°åˆ†æ”¯æ¥è·Ÿè¸ªå¹¶æ‹‰å–è¿œç¨‹åˆ†æ”¯ git switch -cã€git checkout -bã€git branch \u0026ndash;track\n1 2 3 4 ## è¯¥å‘½ä»¤åˆ›å»ºæœ¬åœ°åˆ†æ”¯è·Ÿè¸ªåˆ†æ”¯\u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt;ï¼Œå¹¶ä»è¿œç¨‹åˆ†æ”¯\u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt;æ‹‰å–ä»£ç ã€‚ git switch -c \u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; git checkout -b \u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; git branch --track \u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; 5.ä»è¿œç¨‹ä»“åº“å…‹éš† 1 git clone [è¿œç«¯åœ°å€] å…‹éš†æˆåŠŸ! å…‹éš†åçš„ç›®å½•å’Œè¿œç«¯æ˜¯ä¸€æ ·çš„(ä¸€èˆ¬å…‹éš†æ“ä½œåªéœ€è¦ä½¿ç”¨ä¸€æ¬¡å°±å¯ä»¥)\n6.ä»è¿œç¨‹ä»“åº“æŠ“å–å’Œæ‹‰å– fetchæŠ“å–, å°†ä»“åº“é‡Œçš„æ›´æ–°éƒ½æŠ“å–åˆ°æœ¬åœ°,ä½†æ˜¯ä¸è¿›è¡Œåˆå¹¶ å¦‚æœä¸æŒ‡å®šè¿œç«¯åç§°å’Œåˆ†æ”¯, åˆ™æŠ“å–æ‰€æœ‰åˆ†æ”¯ä¿®æ”¹ 1 git fetch [remote name] [branch name] pullæ‹‰å–, å°†è¿œç¨‹ä»“åº“çš„ä¿®æ”¹æ‹‰å–åˆ°æœ¬åœ°å¹¶è‡ªåŠ¨è¿›è¡Œåˆå¹¶,ç±»ä¼¼äº: pull = fetch + merge å¦‚æœä¸æŒ‡å®šè¿œç«¯åç§°å’Œåˆ†æ”¯, åˆ™æŠ“å–æ‰€æœ‰åˆ†æ”¯ä¿®æ”¹å¹¶è‡ªåŠ¨åˆå¹¶ 1 git pull #æŠ“å–å¹¶è‡ªåŠ¨åˆå¹¶ 7.è§£å†³åˆå¹¶å†²çª å‘é€å†²çªçš„æƒ…å†µ:\nâ€‹\tåœ¨ä¸€æ®µæ—¶é—´ï¼ŒAã€Bç”¨æˆ·ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶ï¼Œä¸”ä¿®æ”¹äº†åŒä¸€è¡Œä½ç½®çš„ä»£ç ï¼Œæ­¤æ—¶ä¼šå‘ç”Ÿåˆå¹¶å†²çªã€‚Aç”¨æˆ·åœ¨æœ¬åœ°ä¿®æ”¹ä»£ç åä¼˜å…ˆæ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œæ­¤æ—¶Bç”¨æˆ·åœ¨æœ¬åœ°ä¿®è®¢ä»£ç ï¼Œæäº¤åˆ°æœ¬åœ°ä»“åº“åï¼Œä¹Ÿéœ€è¦æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œæ­¤æ—¶Bç”¨æˆ·æ™šäºAç”¨æˆ·ï¼Œæ•…éœ€è¦å…ˆæ‹‰å–è¿œç¨‹ä»“åº“çš„æäº¤ï¼Œç»è¿‡åˆå¹¶åæ‰èƒ½æ¨é€åˆ°è¿œç«¯åˆ†æ”¯,å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\nåœ¨Bç”¨æˆ·æ‹‰å–ä»£ç æ—¶ï¼Œå› ä¸ºAã€Bç”¨æˆ·åŒä¸€æ®µæ—¶é—´ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶çš„ç›¸åŒä½ç½®ä»£ç ï¼Œæ•…ä¼šå‘ç”Ÿåˆå¹¶å†²çªã€‚ è¿œç¨‹åˆ†æ”¯ä¹Ÿæ˜¯åˆ†æ”¯ï¼Œæ‰€ä»¥åˆå¹¶æ—¶å†²çªçš„è§£å†³æ–¹å¼ä¹Ÿå’Œè§£å†³æœ¬åœ°åˆ†æ”¯å†²çªç›¸åŒç›¸åŒï¼Œä½†æ˜¯è§£å†³å†²çªæ—¶éœ€è¦åœ¨æœ¬åœ°è§£å†³\næ­¤æ—¶éœ€è¦å…ˆpullç„¶ååœ¨push\n8.é…ç½®gitä»£ç†(è®¿é—®github) 1. é…ç½® HTTP/HTTPS ä»£ç† é…ç½®æ­¥éª¤\næ‰“å¼€ç»ˆç«¯ï¼ˆCommand Promptã€PowerShell æˆ– Git Bashï¼‰ã€‚\né…ç½® HTTP å’Œ HTTPS ä»£ç†ï¼š\n1 2 git config --global http.proxy http://127.0.0.1:10809 git config --global https.proxy http://127.0.0.1:10809 127.0.0.1:10809 ä¸ºä»£ç†æœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£ã€‚ éªŒè¯é…ç½®ï¼š\n1 2 git config --global --get http.proxy git config --global --get https.proxy åº”è¿”å› http://127.0.0.1:10809ã€‚ æµ‹è¯•ä»£ç†æ˜¯å¦ç”Ÿæ•ˆï¼š\n1 git clone https://github.com/git/git.git å¦‚æœå¯ä»¥æ­£å¸¸å…‹éš†ï¼Œè¯´æ˜ä»£ç†é…ç½®æˆåŠŸã€‚ å–æ¶ˆä»£ç†é…ç½®\nå¦‚æœéœ€è¦å–æ¶ˆä»£ç†é…ç½®ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n1 2 git config --global --unset http.proxy git config --global --unset https.proxy æˆ–è€…æ¸…é™¤æ‰€æœ‰ä»£ç†é…ç½®ï¼š\n1 2 git config --global --remove-section http git config --global --remove-section https 2. ä»…å¯¹ GitHub ä½¿ç”¨ä»£ç† é…ç½®æ­¥éª¤\né…ç½® GitHub ä¸“ç”¨ä»£ç†ï¼š\n1 git config --global http.https://github.com.proxy http://127.0.0.1:10809 æ­¤é…ç½®ä»…å¯¹ https://github.com çš„è¯·æ±‚å¯ç”¨ä»£ç†ã€‚ éªŒè¯é…ç½®ï¼š\n1 git config --global --get http.https://github.com.proxy åº”è¿”å› http://127.0.0.1:10809ã€‚ æµ‹è¯•ï¼š\nå…‹éš† GitHub ä»“åº“ï¼š\n1 git clone https://github.com/git/git.git å…‹éš†å…¶ä»–ä»“åº“ï¼ˆå¦‚ GitLabï¼‰æµ‹è¯•æ˜¯å¦ä¸ä½¿ç”¨ä»£ç†ï¼š\n1 git clone https://gitlab.com/gitlab-org/git.git å–æ¶ˆ GitHub ä¸“ç”¨ä»£ç†ï¼š\n1 git config --global --unset http.https://github.com.proxy 3. é…ç½® SSH åè®®é€šè¿‡ä»£ç† SSH é»˜è®¤è¡Œä¸º\nGit ä½¿ç”¨ SSH åè®®ï¼ˆå¦‚ git@github.com:username/repository.gitï¼‰æ—¶ï¼Œä¸ä¼šèµ° HTTP/HTTPS ä»£ç†ã€‚ éœ€é…ç½® SSH å®¢æˆ·ç«¯å•ç‹¬ä½¿ç”¨ä»£ç†ã€‚ é…ç½®æ­¥éª¤\næ£€æŸ¥ä»£ç†ç±»å‹\nç¡®è®¤ä½ çš„ä»£ç†æœåŠ¡æ”¯æŒçš„åè®®ï¼ˆHTTP æˆ– SOCKS5ï¼‰ã€‚ å¦‚æœæ˜¯ SOCKS5 ä»£ç†ï¼Œé…ç½®å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ ç¼–è¾‘ SSH é…ç½®æ–‡ä»¶\næ‰“å¼€æˆ–åˆ›å»º SSH é…ç½®æ–‡ä»¶ï¼š\n1 vim ~/.ssh/config æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n1 2 3 4 Host github.com Hostname github.com User git ProxyCommand nc -X connect -x 127.0.0.1:10808 %h %p ProxyCommand è¡¨ç¤ºé€šè¿‡ä»£ç†è¿æ¥ç›®æ ‡ä¸»æœºã€‚ -X connect æŒ‡å®šä½¿ç”¨ HTTP CONNECT æ¨¡å¼ã€‚ -x 127.0.0.1:10809 æ˜¯ä»£ç†æœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£ã€‚ %h å’Œ %p åˆ†åˆ«ä»£è¡¨ç›®æ ‡ä¸»æœºå’Œç«¯å£ã€‚ å¦‚æœä½¿ç”¨çš„æ˜¯ SOCKS5 ä»£ç†ï¼Œæ”¹ä¸ºï¼š\n1 ProxyCommand nc -X 5 -x 127.0.0.1:10808 %h %p -X 5 æŒ‡å®šä½¿ç”¨ SOCKS5 åè®®ã€‚ è¿™æ˜¯æœ¬äººä½¿ç”¨çš„configé…ç½®(winç³»ç»Ÿ, å®‰è£…äº†nmap, ä½¿ç”¨å…¶ä¸­çš„ncat):\n1 2 3 4 5 6 # SSH é…ç½® - github.com Host github.com HostName ssh.github.com Port 443 User git ProxyCommand ncat --proxy-type socks5 --proxy 127.0.0.1:10808 %h %p å®‰è£… netcat å·¥å…·ï¼ˆå¦‚éœ€è¦ï¼‰\næŸäº›ç³»ç»Ÿå¯èƒ½éœ€è¦å®‰è£… netcat å·¥å…·ï¼ˆå¦‚ ncï¼‰ã€‚\nåœ¨ Debian/Ubuntu ç³»ç»Ÿä¸Šå®‰è£…ï¼š\n1 sudo apt-get install netcat åœ¨ CentOS/RHEL ç³»ç»Ÿä¸Šå®‰è£…ï¼š\n1 sudo yum install nc æµ‹è¯• SSH é…ç½®\næµ‹è¯• SSH æ˜¯å¦é€šè¿‡ä»£ç†è¿æ¥ï¼š\n1 ssh -T git@github.com è¿”å› Hi username! You've successfully authenticated è¯´æ˜é…ç½®æˆåŠŸã€‚ ä»£ç†è°ƒè¯•\nå¦‚æœè¿æ¥å¤±è´¥ï¼š ç¡®è®¤ä»£ç†æœåŠ¡æ˜¯å¦è¿è¡Œæ­£å¸¸ã€‚ æ£€æŸ¥ SSH é…ç½®æ–‡ä»¶è·¯å¾„å’Œè¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚ æŸ¥çœ‹ä»£ç†æ—¥å¿—ï¼Œæ’æŸ¥é—®é¢˜ã€‚ å–æ¶ˆ SSH ä»£ç†é…ç½®\nåˆ é™¤æˆ–æ³¨é‡Šæ‰ ~/.ssh/config ä¸­çš„ç›¸å…³é…ç½®ã€‚\nç¤ºä¾‹ï¼š\n1 2 3 4 # Host github.com # Hostname github.com # User git # ProxyCommand nc -X connect -x 127.0.0.1:10808 %h %p é«˜çº§é…ç½®ï¼ˆå¯é€‰ï¼‰\nä¸ºå¤šä¸ªä¸»æœºè®¾ç½®ä»£ç†\nå¦‚æœéœ€è¦ä¸ºå¤šä¸ªä¸»æœºé…ç½®ä»£ç†ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼š\n1 2 Host *.example.com ProxyCommand nc -X connect -x 127.0.0.1:10808 %h %p ä»…ç‰¹å®šç½‘ç»œç¯å¢ƒå¯ç”¨ä»£ç†\nå¯ä»¥ä½¿ç”¨è„šæœ¬åŠ¨æ€ä¿®æ”¹ ~/.ssh/configï¼Œæ ¹æ®ç½‘ç»œç¯å¢ƒå¯ç”¨æˆ–ç¦ç”¨ä»£ç†ã€‚ 4. æ³¨æ„äº‹é¡¹ SOCKS5 ä»£ç†\nå¦‚æœä½¿ç”¨ SOCKS5 ä»£ç†ï¼š\nGit é…ç½®ï¼š\n1 2 git config --global http.proxy socks5h://127.0.0.1:10808 git config --global https.proxy socks5h://127.0.0.1:10808 SSH é…ç½®ï¼š\n1 ProxyCommand nc -X 5 -x 127.0.0.1:10808 %h %p æŒ‰éœ€é…ç½®\nä¸ºç‰¹å®šåŸŸåè®¾ç½®ä»£ç†ï¼ˆå¦‚ GitHubï¼‰ï¼Œå…¶ä»–åŸŸåä¸èµ°ä»£ç†ã€‚ é¿å…ä¸ºæ‰€æœ‰æµé‡é…ç½®ä»£ç†ï¼Œå‡å°‘ä¸å¿…è¦çš„å»¶è¿Ÿã€‚ è°ƒè¯•ä»£ç†\nä½¿ç”¨ curl æµ‹è¯•ä»£ç†ï¼š\n1 curl -x http://127.0.0.1:10808 https://www.google.com æ£€æŸ¥ä»£ç†æœåŠ¡æ—¥å¿—ï¼Œç¡®ä¿æµé‡é€šè¿‡ä»£ç†ã€‚\nå…«. Gitå…¶ä»–æ“ä½œ 1. æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒºï¼šgit checkout 1 2 3 4 5 6 7 8 9 10 11 ## æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº $ git checkout -- [file] $ git checkout [file] # æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº $ git checkout . # æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº $ git checkout [commit] [file] ## æ³¨æ„ï¼šgit addç„¶ågit commitåï¼Œè®¤ä¸ºæš‚å­˜åŒºå’Œæœ¬åœ°ä»“åº“ä¸€è‡´ã€‚å…‹éš†æ–‡ä»¶ä¸‹æ¥æ—¶ï¼Œè®¤ä¸ºæš‚å­˜åŒºå’Œè¿œç¨‹ä»“åº“ä¸€è‡´ 1 2 3 git checkout -- [filename]\t#å°†filenameæ–‡ä»¶ä»æš‚å­˜åŒºæ¢å¤åˆ°å·¥ä½œåŒº.ä¼šå¯¼è‡´å·¥ä½œåŒºä¿®æ”¹ä¸¢å¤±, ä½¿ç”¨æ—¶æ…é‡ git checkout [filename]\t#å°†filenameæ–‡ä»¶ä»æš‚å­˜åŒºæ¢å¤åˆ°å·¥ä½œåŒº.ä¼šå¯¼è‡´å·¥ä½œåŒºä¿®æ”¹ä¸¢å¤±, ä½¿ç”¨æ—¶æ…é‡ git checkout .\t#å°†æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶æ¢å¤åˆ°å·¥ä½œåŒº,ä¼šå¯¼è‡´å·¥ä½œåŒºä¿®æ”¹ä¸¢å¤±, ä½¿ç”¨æ—¶æ…é‡ 2. åœ¨è¿œç¨‹ä»“åº“æ–°å»ºåˆ†æ”¯ gitæ˜¯æ— æ³•ç›´æ¥åœ¨è¿œç¨‹ä»“åº“ç›´æ¥æ–°å»ºåˆ†æ”¯çš„,\nä½†æ˜¯å¯ä»¥é€šè¿‡æ–°å»ºæœ¬åœ°åˆ†æ”¯+æ¨é€æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹è¾¾åˆ°æ–°å»ºè¿œç¨‹åˆ†æ”¯ç›®çš„\ngit branch + git push\nåœ¨æœ¬åœ°åˆ›å»ºdevelopåˆ†æ”¯\n1 $ git branch develop å°†åˆ›å»ºçš„developåˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“: è¿œç¨‹æ²¡æœ‰developåˆ†æ”¯,ä½†æ˜¯å°†æœ¬åœ°çš„developåˆ†æ”¯æ¨é€åˆ°è¿œç«¯ä»“åº“, å°±ä¼šåœ¨è¿œç¨‹ä»“åº“ä¸­æ–°å»ºä¸€ä¸ªdevelopåˆ†æ”¯\n1 $ git push origin develop #å°†æœ¬åœ°çš„æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œå¦‚æœè¿œç¨‹æ²¡æœ‰ç›¸ä¾çš„åˆ†æ”¯åˆ™åˆ›å»º 3.åˆ é™¤è¿œç¨‹ä»“åº“çš„åˆ†æ”¯ git push origin \u0026ndash;delete [name]\nä»…ä»…åˆ é™¤è¿œç¨‹ä»“åº“çš„å«[name]çš„åˆ†æ”¯, åŒåçš„æœ¬åœ°åˆ†æ”¯ä¸ä¼šè¢«åˆ é™¤, è¦åˆ é™¤æœ¬åœ°åŒåçš„æœ¬åœ°åˆ†æ”¯è¿˜éœ€è¦å•ç‹¬åˆ é™¤\n1 $ git push origin --delete test äº‹å…ˆå·²ç»åˆ›å»ºå¥½äº†è¿œç¨‹åˆ†æ”¯: test, feature\n4.ç”¨æœ¬åœ°åˆ†æ”¯è¿½è¸ªè¿œç¨‹ä»“åº“åˆ†æ”¯(å»ºç«‹è¿½è¸ªå…³ç³») å»ºç«‹å½“å‰åˆ†æ”¯ä¸æŒ‡å®šè¿œç¨‹åˆ†æ”¯çš„è¿½è¸ªå…³ç³»ï¼Œä½†ä¸ä¼šæ‹‰å–ä»£ç ã€‚\ngit branch \u0026ndash;set-upstream-to \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt;\n1 2 3 4 5 6 ## å»ºç«‹å½“å‰åˆ†æ”¯ä¸æŒ‡å®šè¿œç¨‹åˆ†æ”¯çš„è¿½è¸ªå…³ç³»ï¼Œä½†ä¸ä¼šæ‹‰å–ä»£ç ã€‚å‚æ•°\u0026#34;-u\u0026#34;å’Œ\u0026#34;--set-upstream-to\u0026#34;åŒæ ·çš„æ„æ€ã€‚ $ git branch -u \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; $ git branch --set-upstream-to \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; ================================================== $ git push --set-upstream \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt; \u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; #åœ¨pushçš„åŒæ—¶ä¹Ÿå»ºç«‹å½“å‰åˆ†æ”¯ä¸çš„è¿œç«¯åˆ†æ”¯çš„è¿½è¸ªå…³ç³»ï¼ˆä¼šæ–°å»ºè¿œç¨‹åˆ†æ”¯ï¼‰ 5.åˆ é™¤ git branch -r åˆ—è¡¨ä¸­çš„è¿½è¸ªåˆ†æ”¯ git branch -dr / æ²¡æœ‰åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼Œåªæ˜¯åˆ é™¤ git branch -r åˆ—è¡¨ä¸­çš„è¿½è¸ªåˆ†æ”¯ã€‚\n1 git branch -dr origin/feature\t#å¹¶ä¸æ˜¯åˆ é™¤è¿œç¨‹åˆ†æ”¯, ä»…ä»…æ˜¯åˆ é™¤git branch -rä¸­çš„è¿½è¸ªåˆ†æ”¯ 6.æŠŠè¿œç¨‹åˆ†æ”¯çš„æœ€æ–°æƒ…å†µæ‹‰å–åˆ°æœ¬åœ° git fetch -p\n1 $ git fetch -p 7.åˆ›å»ºæœ¬åœ°åˆ†æ”¯æ¥è·Ÿè¸ªå¹¶æ‹‰å–è¿œç¨‹åˆ†æ”¯ 1 2 3 4 ## è¯¥å‘½ä»¤åˆ›å»ºæœ¬åœ°åˆ†æ”¯è·Ÿè¸ªåˆ†æ”¯\u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt;ï¼Œå¹¶ä»è¿œç¨‹åˆ†æ”¯\u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt;æ‹‰å–ä»£ç ã€‚ git switch -c \u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; git checkout -b \u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; git branch --track \u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt;/\u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt; 8.ä¸€ä¸ªgité¡¹ç›®å¤šä¸ªè¿œç¨‹ä»“åº“ åœ¨æˆ‘ä»¬çš„gité¡¹ç›®ä¸­ï¼Œæ“ä½œè¿œç¨‹ä»“åº“ä¿¡æ¯çš„å‘½ä»¤ä¸º\n1 2 $ git remote # æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„è¿œç¨‹ä»“åº“çš„åç§° $ git remote -v # æŸ¥çœ‹è¿œç¨‹ä»“åº“çš„åç§°å’Œè¿œç¨‹ä»“åº“çš„ç½‘å€ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬ä»è¿œç¨‹ä»“åº“ä¸­å…‹éš†ä¸‹ä¸€ä¸ªé¡¹ç›®æ¥ä¹‹åã€‚é»˜è®¤çš„è¿œç¨‹ä»“åº“åæ˜¯ origin\n1 2 3 4 5 6 7 8 $ git clone https://github.com/onmpw/JYGO.git $ cd JYGO $ git remote origin $ git remote -v origin https://github.com/onmpw/JYGO.git (fetch) origin https://github.com/onmpw/JYGO.git (push) å½“pull æˆ–è€… push çš„æ—¶å€™é»˜è®¤ä½¿ç”¨çš„éƒ½æ˜¯originè¿œç¨‹ä»“åº“\n1 2 3 $ git pull origin master # æˆ–è€… git pull $ git push origin master # æˆ–è€… git push æ€ä¹ˆç»™è¿™ä¸ªé¡¹ç›®å†æ·»åŠ ä¸€ä¸ªè¿œç¨‹ä»“åº“å‘¢ï¼Ÿä½¿ç”¨git remote add å‘½ä»¤ã€‚\næ–¹æ³•ä¸€ã€ git remote add 1 $ git remote add local git@localhost:workspace/repo/JYGO2.git ä¸Šé¢çš„local å’Œ originä¸€æ ·ï¼Œä¹Ÿæ˜¯è¿œç¨‹ä»“åº“çš„åç§°\n1 2 3 4 5 $ git remote -v origin https://github.com/onmpw/JYGO.git (fetch) origin https://github.com/onmpw/JYGO.git local git@localhost:workspace/repo/JYGO2.git (fetch) local git@localhost:workspace/repo/JYGO2.git (push) æ·»åŠ æˆåŠŸä¹‹åï¼Œä»¥åå†ä½¿ç”¨git pushçš„æ—¶å€™ï¼Œå°±å¯ä»¥æ ¹æ®éœ€è¦æ¨é€åˆ°éœ€è¦çš„è¿œç¨‹ä»“åº“ä¸­ã€‚å¦‚æœéœ€è¦æ¨é€åˆ°ä¸¤ä¸ªä»“åº“ä¸­ï¼Œåˆ™æ‰§è¡Œä¸¤è¾¹ git push\n1 2 3 4 5 6 7 8 9 10 $ git push origin master # é»˜è®¤çš„originè¿œç¨‹ä»“åº“ $ git push local master # æ–°æ·»åŠ çš„ local è¿œç¨‹ä»“åº“ To git@localhost:workspace/repo/JYGO2.git ! [rejected] master -\u0026gt; master (fetch first) error: failed to push some refs to \u0026#39;git@localhost:workspace/repo/JYGO2.git\u0026#39; hint: Updates were rejected because the remote contains work that you do hint: not have locally. This is usually caused by another repository pushing hint: to the same ref. You may want to first integrate the remote changes hint: (e.g., \u0026#39;git pull ...\u0026#39;) before pushing again. hint: See the \u0026#39;Note about fast-forwards\u0026#39; in \u0026#39;git push --help\u0026#39; for details. pushæ²¡æœ‰æˆåŠŸï¼æ€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ã€‚åŸæ¥åœ¨ä½¿ç”¨git remote add æ·»åŠ å®Œè¿œç¨‹ä»“åº“ä¹‹åï¼Œå…¶å®æ˜¯ä¸èƒ½ç›´æ¥æ¨é€åˆ°è¿œç¨‹ä»“åº“çš„ã€‚ä¹Ÿå°±æ˜¯è¯´å¼€å§‹çš„æ—¶å€™ï¼Œä¸Šé¢ç¬¬äºŒæ¡å‘½ä»¤æ˜¯æ‰§è¡Œä¸æˆåŠŸçš„ã€‚å› ä¸ºè¿™æ—¶å€™ä½ æœ¬åœ°çš„ç‰ˆæœ¬å’Œlocalè¿œç¨‹ä»“åº“çš„ç‰ˆæœ¬æ˜¯ä¸ä¸€è‡´çš„ï¼Œéœ€è¦ä»localä¸Šè·å–æœ€æ–°çš„ä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æ‰§è¡Œ push ä¹‹å‰éœ€è¦å…ˆä»localä¸Šæ‹‰å–æœ€æ–°çš„å†…å®¹ã€‚\n1 2 3 4 5 6 $ git pull local master Unpacking objects: 100% (3/3), done. From git@localhost:workspace/repo/JYGO2.git * branch master -\u0026gt; FETCH_HEAD * [new branch] master -\u0026gt; github/master fatal: refusing to merge unrelated histories æ˜¯çš„ï¼Œä»…ä»…ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ä¹Ÿæ˜¯ä¸ä¼šæˆåŠŸçš„ã€‚éœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤\n1 $ git pull --allow-unrelated-histories local master é¡ºåˆ©æ‰§è¡ŒæˆåŠŸã€‚ç„¶åå†ä½¿ç”¨ push å°±å¯ä»¥æ¨é€åˆ°è¿œç¨‹ä»“åº“äº†ã€‚\n1 $ git push local master æˆåŠŸäº†ã€‚ å¾ˆå¥½ã€‚ä¸è¿‡é—®é¢˜ä¹Ÿéšä¹‹è€Œæ¥äº†ã€‚å¦‚æœæœ‰å¤šä¸ªè¿œç¨‹ä»“åº“éƒ½éœ€è¦æäº¤ï¼Œé‚£æˆ‘ä»¬è¦æ¯ä¸ªè¿œç¨‹ä»“åº“éƒ½æ‰§è¡Œä¸€æ¬¡ git pushã€‚æœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ä¸€æ¬¡pushå°±æäº¤åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“å‘¢ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯ï¼šè¿™ä¸ªçœŸæœ‰ï¼\næ–¹æ³•äºŒã€ git remote set-url \u0026ndash;add å‘½ä»¤ 1 $ git remote set-url --add origin git@localhost:workspace/repo/JYGO2.git ä¸Šé¢å‘½ä»¤å°±æ˜¯ç»™è¿œç¨‹ä»“åº“origin å†æ–°å¢ä¸€ä¸ªè¿œç¨‹ä»“åº“çš„åœ°å€ã€‚ç½‘ä¸Šæœ‰å¾ˆå¤šæ–‡ç« å†™åˆ°è¿™å°±è®¤ä¸ºï¼Œæ·»åŠ å®Œæˆä¹‹åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ git push å‘½ä»¤ä¸€æ¬¡æ€§æäº¤åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“äº†ã€‚å…¶å®ä¸ç„¶ï¼Œæœ€åˆå§‹çš„é‚£ä¸ªè¿œç¨‹ä»“åº“pushæˆåŠŸæ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯åˆ°äº†æ–°å¢çš„è¿™ä¸ªåœ°å€çš„æ—¶å€™å°±ä¼šå‡ºç°æ¨é€å¤±è´¥çš„æƒ…å†µã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 $ git push --all # æˆ–è€… git push origin master æˆ–è€…ç›´æ¥ä½¿ç”¨ git pushï¼Œ éƒ½å¯ä»¥ã€‚ Enumerating objects: 8, done. Counting objects: 100% (8/8), done. Delta compression using up to 4 threads Compressing objects: 100% (3/3), done. Writing objects: 100% (6/6), 931 bytes | 931.00 KiB/s, done. Total 6 (delta 0), reused 0 (delta 0) To https://github.com/onmpw/JYGO.git c1857d1..ff94cf0 master -\u0026gt; master To git@localhost:workspace/repo/JYGO2.git ! [rejected] master -\u0026gt; master (fetch first) error: failed to push some refs to \u0026#39;git@localhost:workspace/repo/JYGO2.git\u0026#39; hint: Updates were rejected because the remote contains work that you do hint: not have locally. This is usually caused by another repository pushing hint: to the same ref. You may want to first integrate the remote changes hint: (e.g., \u0026#39;git pull ...\u0026#39;) before pushing again. hint: See the \u0026#39;Note about fast-forwards\u0026#39; in \u0026#39;git push --help\u0026#39; for details. å¾ˆæ˜æ˜¾ï¼Œè¿˜æ˜¯å› ä¸ºæœ¬åœ°å’Œè¿œç¨‹ç‰ˆæœ¬ä¸åŒæ­¥çš„é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨push ä¹‹å‰éœ€è¦å…ˆ pull å†…å®¹ã€‚\n1 2 $ git pull Already up to date. å¾ˆå¥‡æ€ªï¼Œå·²ç»æ˜¯æœ€æ–°çš„å†…å®¹äº†ã€‚ä½†æ˜¯æ–°æ·»åŠ çš„è¿œç¨‹ä»“åº“å¹¶æ²¡æœ‰è·å–è¿‡ã€‚ å…¶å®é—®é¢˜çš„åŸå› æ˜¯åœ¨åŒä¸€ä»“åº“åç§°ä¸‹å¦‚æœæœ‰å¤šä¸ªè¿œç¨‹ä»“åº“åœ°å€çš„è¯ï¼Œpull çš„æ—¶å€™åªä¼šå»ç¬¬ä¸€ä¸ªä»“åº“åœ°å€ä¸­æ‹‰å–å†…å®¹ã€‚æ‰€ä»¥è¯´ï¼Œæˆ‘ä»¬æ–°æ·»åŠ çš„è¿œç¨‹ä»“åº“çš„å†…å®¹æ˜¯ä¸ä¼šè¢«è·å–åˆ°çš„ã€‚ä¹Ÿå°±æ˜¯ä¸èƒ½pushçš„ã€‚ é‚£è¿™ä¸ªé—®é¢˜è¦æ€ä¹ˆè§£å†³å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæ¢æˆç¬¬ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨ git remote add æ¥æ·»åŠ è¿œç¨‹ä»“åº“ï¼Œä»è€Œè¿›è¡Œç®¡ç†ã€‚ä½†æ˜¯ï¼Œpushçš„æ—¶å€™æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚ æœ‰æ²¡æœ‰å…¶ä»–çš„æ–¹æ³•å‘¢ï¼Ÿç­”æ¡ˆè¿˜æ˜¯ï¼šè¿™ä¸ªçœŸæœ‰ã€‚\n1. ä¿®æ”¹é…ç½®æ–‡ä»¶ .git/config é¦–å…ˆï¼Œæˆ‘ä»¬çŸ¥é“ä¸ç®¡æ˜¯ git remote add è¿˜æ˜¯ git remote set-url --add å…¶å®éƒ½æ˜¯æ¥æ“ä½œé¡¹ç›®ä¸­çš„.git/configé…ç½®æ–‡ä»¶(æœ‰å…´è¶£å¯ä»¥å»çœ‹ä¸€ä¸‹è¯¥é…ç½®æ–‡ä»¶çš„å†…å®¹)ã€‚å¯¹äº git remote set-url --add æ¥è¯´ï¼Œconfigé…ç½®æ–‡ä»¶çš„ä¸»è¦éƒ¨åˆ†å†…å®¹å¦‚ä¸‹\n1 2 3 4 [remote \u0026#34;origin\u0026#34;] url = https://github.com/onmpw/JYGO.git fetch = +refs/heads/*:refs/remotes/github/* url = git@localhost:workspace/repo/JYGO2.git çœ‹åˆ°å†…å®¹äº†å—ï¼Œå¾ˆç®€å•æ˜äº†ã€‚æ—¢ç„¶pullåªæ˜¯è·å–ç¬¬ä¸€ä¸ªè¿œç¨‹ä»“åº“çš„å†…å®¹ï¼Œé‚£è¿˜ä¸å¥½è¯´å—ï¼Œç›´æ¥äº¤æ¢äºŒè€…çš„ä½ç½®ï¼Œæ”¹åŠ¨å¦‚ä¸‹\n1 2 3 4 [remote \u0026#34;origin\u0026#34;] url = git@localhost:workspace/repo/JYGO2.git fetch = +refs/heads/*:refs/remotes/github/* url = https://github.com/onmpw/JYGO.git ç„¶åå†ä½¿ç”¨git pull\nè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨git pullçš„æ—¶å€™ï¼Œå’Œç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿè¦åŠ ä¸Š --allow-unrelated-histories å‚æ•°\n1 2 $ git pull $ git push --all å¾ˆå¼€å¿ƒï¼Œç»ˆäºæˆåŠŸäº†ã€‚\n2. ç©ºä»“åº“æ–¹æ³• è¿™ç§æ–¹æ³•å¾ˆç®€å•ã€‚æ—¢ç„¶å†…å®¹ç‰ˆæœ¬ä¸åŒæ­¥ï¼Œé‚£å°±ä¸è¦æœ‰å†…å®¹ã€‚æˆ‘ä»¬æ–°æ·»åŠ çš„è¿œç¨‹ä»“åº“è¦æ˜¯ä¸€ä¸ªç©ºä»“åº“ï¼Œä¸è¦æœ‰ä»»ä½•çš„æ–‡ä»¶å†…å®¹ã€‚ ç½‘ä¸Šæœ‰äººè¯´æ˜¯å› ä¸ºREADME.md æ–‡ä»¶çš„é—®é¢˜ã€‚å…¶å®åªæ˜¯è¯´å¯¹äº†ä¸€åŠã€‚å› ä¸ºåœ¨githubæˆ–è€…gitlabç­‰å¹³å°ä¸Šï¼Œæ–°å»ºä»“åº“çš„æ—¶å€™å¯èƒ½æœ‰äº›ä¼šé»˜è®¤åˆå§‹åŒ–ä¸€ä¸ªREADME.mdæ–‡ä»¶ã€‚åƒgithubåœ¨æ–°å»ºä»“åº“çš„æ—¶å€™æ˜¯ä¼šè®©ä½ é€‰æ‹©æ˜¯å¦åˆå§‹åŒ–README.mdæ–‡ä»¶çš„ï¼Œæˆ‘ä»¬åªè¦ä¸åˆå§‹åŒ–è¿™ä¸ªæ–‡ä»¶å°±è¡Œäº†ã€‚å½“ç„¶é™¤äº†è¿™ä¸ªé»˜è®¤æ–‡ä»¶ã€‚åœ¨æˆ‘ä»¬å°†è¿™ä¸ªè¿œç¨‹ä»“åº“åŠ åˆ°æˆ‘ä»¬é¡¹ç›®ä¸­ä¹‹å‰ï¼Œè¯¥ä»“åº“ä¸­å°±ä¸è¦æœ‰ä»»ä½•çš„æ–‡ä»¶äº†ã€‚åªæœ‰è¿™æ ·ï¼Œå½“æˆ‘ä»¬å°†è¿œç¨‹ä»“åº“åŠ åˆ°é¡¹ç›®ä¸­ä¹‹åæ‰ä¸éœ€è¦pullå°±å¯ä»¥ç›´æ¥æ¨é€æœ¬åœ°å†…å®¹åˆ°è¯¥è¿œç¨‹ä»“åº“äº†ã€‚\næ›´å¤šæ›´è¯¦ç»†æ•™ç¨‹å‚è€ƒæ˜“ç™¾æ•™ç¨‹ï¼š https://www.yiibai.com/git\nè¿¹å¿†å®¢Gitæ•™ç¨‹: https://www.jiyik.com/w/git\n","date":"2023-05-09T23:09:05+08:00","permalink":"https://abin-z.github.io/p/%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E8%AE%A9%E4%BD%A0%E7%86%9F%E7%BB%83%E4%BD%BF%E7%94%A8git/","title":"ä¸€ç¯‡æ–‡ç« è®©ä½ ç†Ÿç»ƒä½¿ç”¨Git"},{"content":"æ­£æ–‡æµ‹è¯• è€Œè¿™äº›å¹¶ä¸æ˜¯å®Œå…¨é‡è¦ï¼Œæ›´åŠ é‡è¦çš„é—®é¢˜æ˜¯ï¼Œ å¸¦ç€è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æ¥å®¡è§†ä¸€ä¸‹å­¦ç”Ÿä¼šé€€ä¼šã€‚ æ—¢ç„¶å¦‚ä½•ï¼Œ å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œå­¦ç”Ÿä¼šé€€ä¼šä¸ä»…ä»…æ˜¯ä¸€ä¸ªé‡å¤§çš„äº‹ä»¶ï¼Œè¿˜å¯èƒ½ä¼šæ”¹å˜æˆ‘çš„äººç”Ÿã€‚ æˆ‘ä»¬ä¸å¾—ä¸é¢å¯¹ä¸€ä¸ªéå¸¸å°´å°¬çš„äº‹å®ï¼Œé‚£å°±æ˜¯ï¼Œ å¯æ˜¯ï¼Œå³ä½¿æ˜¯è¿™æ ·ï¼Œå­¦ç”Ÿä¼šé€€ä¼šçš„å‡ºç°ä»ç„¶ä»£è¡¨äº†ä¸€å®šçš„æ„ä¹‰ã€‚ å­¦ç”Ÿä¼šé€€ä¼šï¼Œå‘ç”Ÿäº†ä¼šå¦‚ä½•ï¼Œä¸å‘ç”Ÿåˆä¼šå¦‚ä½•ã€‚ ç»è¿‡ä¸Šè¿°è®¨è®ºï¼Œ ç”Ÿæ´»ä¸­ï¼Œè‹¥å­¦ç”Ÿä¼šé€€ä¼šå‡ºç°äº†ï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸è€ƒè™‘å®ƒå‡ºç°äº†çš„äº‹å®ã€‚ å­¦ç”Ÿä¼šé€€ä¼šï¼Œåˆ°åº•åº”è¯¥å¦‚ä½•å®ç°ã€‚ è¿™æ ·çœ‹æ¥ï¼Œ åœ¨è¿™ç§å›°éš¾çš„æŠ‰æ‹©ä¸‹ï¼Œæœ¬äººæ€æ¥æƒ³å»ï¼Œå¯é£Ÿéš¾å®‰ã€‚ å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œå­¦ç”Ÿä¼šé€€ä¼šä¸ä»…ä»…æ˜¯ä¸€ä¸ªé‡å¤§çš„äº‹ä»¶ï¼Œè¿˜å¯èƒ½ä¼šæ”¹å˜æˆ‘çš„äººç”Ÿã€‚ å°±æˆ‘ä¸ªäººæ¥è¯´ï¼Œå­¦ç”Ÿä¼šé€€ä¼šå¯¹æˆ‘çš„æ„ä¹‰ï¼Œä¸èƒ½ä¸è¯´éå¸¸é‡å¤§ã€‚ èå£«æ¯”äºšæ›¾ç»æåˆ°è¿‡ï¼Œäººçš„ä¸€ç”Ÿæ˜¯çŸ­çš„ï¼Œä½†å¦‚æœå‘åŠ£åœ°è¿‡è¿™ä¸€ç”Ÿï¼Œå°±å¤ªé•¿äº†ã€‚è¿™ä¼¼ä¹è§£ç­”äº†æˆ‘çš„ç–‘æƒ‘ã€‚ è«æ‰ç‰¹è¯´è¿‡ä¸€å¥å¯Œæœ‰å“²ç†çš„è¯ï¼Œè°å’Œæˆ‘ä¸€æ ·ç”¨åŠŸï¼Œè°å°±ä¼šå’Œæˆ‘ä¸€æ ·æˆåŠŸã€‚è¿™å¯å‘äº†æˆ‘ï¼Œ å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œå­¦ç”Ÿä¼šé€€ä¼šä¸ä»…ä»…æ˜¯ä¸€ä¸ªé‡å¤§çš„äº‹ä»¶ï¼Œè¿˜å¯èƒ½ä¼šæ”¹å˜æˆ‘çš„äººç”Ÿã€‚ å­¦ç”Ÿä¼šé€€ä¼šï¼Œåˆ°åº•åº”è¯¥å¦‚ä½•å®ç°ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œ ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œ è¿™ç§äº‹å®å¯¹æœ¬äººæ¥è¯´æ„ä¹‰é‡å¤§ï¼Œç›¸ä¿¡å¯¹è¿™ä¸ªä¸–ç•Œä¹Ÿæ˜¯æœ‰ä¸€å®šæ„ä¹‰çš„ã€‚ åœ¨è¿™ç§å›°éš¾çš„æŠ‰æ‹©ä¸‹ï¼Œæœ¬äººæ€æ¥æƒ³å»ï¼Œå¯é£Ÿéš¾å®‰ã€‚ äº†è§£æ¸…æ¥šå­¦ç”Ÿä¼šé€€ä¼šåˆ°åº•æ˜¯ä¸€ç§æ€ä¹ˆæ ·çš„å­˜åœ¨ï¼Œæ˜¯è§£å†³ä¸€åˆ‡é—®é¢˜çš„å…³é”®ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œ ç”Ÿæ´»ä¸­ï¼Œè‹¥å­¦ç”Ÿä¼šé€€ä¼šå‡ºç°äº†ï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸è€ƒè™‘å®ƒå‡ºç°äº†çš„äº‹å®ã€‚ é—®é¢˜çš„å…³é”®ç©¶ç«Ÿä¸ºä½•ï¼Ÿ è€Œè¿™äº›å¹¶ä¸æ˜¯å®Œå…¨é‡è¦ï¼Œæ›´åŠ é‡è¦çš„é—®é¢˜æ˜¯ã€‚\nå¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸºæ›¾ç»è¯´è¿‡ï¼Œå…±åŒçš„äº‹ä¸šï¼Œå…±åŒçš„æ–—äº‰ï¼Œå¯ä»¥ä½¿äººä»¬äº§ç”Ÿå¿å—ä¸€åˆ‡çš„åŠ›é‡ã€‚ã€€å¸¦ç€è¿™å¥è¯ï¼Œæˆ‘ä»¬è¿˜è¦æ›´åŠ æ…é‡çš„å®¡è§†è¿™ä¸ªé—®é¢˜ï¼š ä¸€èˆ¬æ¥è®²ï¼Œæˆ‘ä»¬éƒ½å¿…é¡»åŠ¡å¿…æ…é‡çš„è€ƒè™‘è€ƒè™‘ã€‚ æ—¢ç„¶å¦‚æ­¤ï¼Œ è¿™ç§äº‹å®å¯¹æœ¬äººæ¥è¯´æ„ä¹‰é‡å¤§ï¼Œç›¸ä¿¡å¯¹è¿™ä¸ªä¸–ç•Œä¹Ÿæ˜¯æœ‰ä¸€å®šæ„ä¹‰çš„ã€‚ å¸¦ç€è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æ¥å®¡è§†ä¸€ä¸‹å­¦ç”Ÿä¼šé€€ä¼šã€‚ æˆ‘è®¤ä¸ºï¼Œ æˆ‘è®¤ä¸ºï¼Œ åœ¨è¿™ç§å›°éš¾çš„æŠ‰æ‹©ä¸‹ï¼Œæœ¬äººæ€æ¥æƒ³å»ï¼Œå¯é£Ÿéš¾å®‰ã€‚ é—®é¢˜çš„å…³é”®ç©¶ç«Ÿä¸ºä½•ï¼Ÿ æ¯ä¸ªäººéƒ½ä¸å¾—ä¸é¢å¯¹è¿™äº›é—®é¢˜ã€‚ åœ¨é¢å¯¹è¿™ç§é—®é¢˜æ—¶ï¼Œ è¦æƒ³æ¸…æ¥šï¼Œå­¦ç”Ÿä¼šé€€ä¼šï¼Œåˆ°åº•æ˜¯ä¸€ç§æ€ä¹ˆæ ·çš„å­˜åœ¨ã€‚ æˆ‘è®¤ä¸ºï¼Œ æ—¢ç„¶å¦‚æ­¤ï¼Œ æ¯ä¸ªäººéƒ½ä¸å¾—ä¸é¢å¯¹è¿™äº›é—®é¢˜ã€‚ åœ¨é¢å¯¹è¿™ç§é—®é¢˜æ—¶ï¼Œ é‚£ä¹ˆï¼Œ æˆ‘è®¤ä¸ºï¼Œ å­¦ç”Ÿä¼šé€€ä¼šå› ä½•è€Œå‘ç”Ÿã€‚\nå¼•ç”¨ æ€å¿µæ˜¯æœ€æš–çš„å¿§ä¼¤åƒä¸€åŒç¿…è†€\nè®©æˆ‘åœä¸äº†é£ä¸è¿œåœ¨è¿‡å¾€æ¸¸è¡\nä¸å‘Šè€Œåˆ«çš„ä½  å°±ç®—ä¸ºäº†æˆ‘ç€æƒ³\nè¿™ä¹ˆæ²‰ç—›çš„å‘µæŠ¤ æˆ‘æ€ä¹ˆèƒ½ç¿±ç¿”\næœ€æš–çš„æ†‚å‚· - ç”°é¦¥ç”„\nå›¾ç‰‡ 1 2 3 ![Photo by Florian Klauer on Unsplash](florian-klauer-nptLmg6jqDo-unsplash.jpg) ![Photo by Luca Bravo on Unsplash](luca-bravo-alS7ewQ41M8-unsplash.jpg) ![Photo by Helena Hertz on Unsplash](helena-hertz-wWZzXlDpMog-unsplash.jpg) ![Photo by Hudai Gayiran on Unsplash](hudai-gayiran-3Od_VKcDEAA-unsplash.jpg) ç›¸å†Œè¯­æ³•æ¥è‡ª Typlog\n","date":"2020-09-09T00:00:00Z","image":"https://abin-z.github.io/p/test-chinese/helena-hertz-wWZzXlDpMog-unsplash_hu_2307260c751d0e0b.jpg","permalink":"https://abin-z.github.io/p/test-chinese/","title":"Chinese Test"},{"content":"Lorem est tota propiore conpellat pectoribus de pectora summo.\nRedit teque digerit hominumque toris verebor lumina non cervice subde tollit usus habet Arctonque, furores quas nec ferunt. Quoque montibus nunc caluere tempus inhospita parcite confusaque translucet patri vestro qui optatis lumine cognoscere flos nubis! Fronde ipsamque patulos Dryopen deorum.\nExierant elisi ambit vivere dedere Duce pollice Eris modo Spargitque ferrea quos palude Rursus nulli murmur; hastile inridet ut ab gravi sententia! Nomine potitus silentia flumen, sustinet placuit petis in dilapsa erat sunt. Atria tractus malis.\nComas hunc haec pietate fetum procerum dixit Post torum vates letum Tiresia Flumen querellas Arcanaque montibus omnes Quidem et Vagus elidunt The Van de Graaf Canon\nMane refeci capiebant unda mulcebat Victa caducifer, malo vulnere contra dicere aurato, ludit regale, voca! Retorsit colit est profanae esse virescere furit nec; iaculi matertera et visa est, viribus. Divesque creatis, tecta novat collumque vulnus est, parvas. Faces illo pepulere tempus adest. Tendit flamma, ab opes virum sustinet, sidus sequendo urbis.\nIubar proles corpore raptos vero auctor imperium; sed et huic: manus caeli Lelegas tu lux. Verbis obstitit intus oblectamina fixis linguisque ausus sperare Echionides cornuaque tenent clausit possit. Omnia putatur. Praeteritae refert ausus; ferebant e primus lora nutat, vici quae mea ipse. Et iter nil spectatae vulnus haerentia iuste et exercebat, sui et.\nEurytus Hector, materna ipsumque ut Politen, nec, nate, ignari, vernum cohaesit sequitur. Vel mitis temploque vocatus, inque alis, oculos nomen non silvis corpore coniunx ne displicet illa. Crescunt non unus, vidit visa quantum inmiti flumina mortis facto sic: undique a alios vincula sunt iactata abdita! Suspenderat ego fuit tendit: luna, ante urbem Propoetides parte.\n","date":"2019-03-09T00:00:00Z","image":"https://abin-z.github.io/p/placeholder-text/matt-le-SJSpo9hQf7s-unsplash_hu_c1ca39d792aee4ab.jpg","permalink":"https://abin-z.github.io/p/placeholder-text/","title":"Placeholder Text"},{"content":"Mathematical notation in a Hugo project can be enabled by using third party JavaScript libraries.\nIn this example we will be using KaTeX\nCreate a partial under /layouts/partials/math.html Within this partial reference the Auto-render Extension or host these scripts locally. Include the partial in your templates like so: 1 2 3 {{ if or .Params.math .Site.Params.math }} {{ partial \u0026#34;math.html\u0026#34; . }} {{ end }} To enable KaTeX globally set the parameter math to true in a project\u0026rsquo;s configuration To enable KaTeX on a per page basis include the parameter math: true in content files Note: Use the online reference of Supported TeX Functions\nExamples Inline math: $\\varphi = \\dfrac{1+\\sqrt5}{2}= 1.6180339887â€¦$\nBlock math: $$ \\varphi = 1+\\frac{1} {1+\\frac{1} {1+\\frac{1} {1+\\cdots} } } $$","date":"2019-03-08T00:00:00Z","permalink":"https://abin-z.github.io/p/math-typesetting/","title":"Math Typesetting"},{"content":"Emoji can be enabled in a Hugo project in a number of ways.\nThe emojify function can be called directly in templates or Inline Shortcodes.\nTo enable emoji globally, set enableEmoji to true in your site\u0026rsquo;s configuration and then you can type emoji shorthand codes directly in content files; e.g.\nğŸ™ˆ :see_no_evil: ğŸ™‰ :hear_no_evil: ğŸ™Š :speak_no_evil:\nThe Emoji cheat sheet is a useful reference for emoji shorthand codes.\nN.B. The above steps enable Unicode Standard emoji characters and sequences in Hugo, however the rendering of these glyphs depends on the browser and the platform. To style the emoji you can either use a third party emoji font or a font stack; e.g.\n1 2 3 .emoji { font-family: Apple Color Emoji, Segoe UI Emoji, NotoColorEmoji, Segoe UI Symbol, Android Emoji, EmojiSymbols; } ","date":"2019-03-05T00:00:00Z","image":"https://abin-z.github.io/p/emoji-support/the-creative-exchange-d2zvqp3fpro-unsplash_hu_27b8954607cdb515.jpg","permalink":"https://abin-z.github.io/p/emoji-support/","title":"Emoji Support"}]